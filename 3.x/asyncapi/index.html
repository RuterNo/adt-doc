<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
  
    <title>Avtale om digitale tjenester - ADT 3.x documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <link href="css/global.min.css" rel="stylesheet">
    <link href="css/asyncapi.min.css" rel="stylesheet">
  
<link href="css/doc.css" rel="stylesheet">
  </head>

  <body>
    <div id="root"><section class="aui-root"><div class="container:xl relative md:flex bg-white leading-normal"><div class="burger-menu rounded-full h-16 w-16 bg-white fixed bottom-16 right-8 flex items-center justify-center z-30 cursor-pointer shadow-md bg-teal-500" data-lol="false"><svg viewBox="0 0 100 70" width="40" height="30" class="fill-current text-gray-200"><rect width="100" height="10"></rect><rect y="30" width="100" height="10"></rect><rect y="60" width="100" height="10"></rect></svg></div><div class="hidden sidebar relative w-64 max-h-screen h-full bg-gray-200 shadow z-20"><div class=" block fixed max-h-screen h-full font-sans px-4 pt-8 pb-16 overflow-y-auto bg-gray-200"><div class="sidebar--content"><div><h1 class="text-2xl font-light">Avtale om digitale tjenester - ADT<!-- --> <!-- -->3.x</h1></div><ul class="text-sm mt-10 relative"><li class="mb-3"><a class="text-gray-700 no-underline hover:text-gray-900" href="#introduction">Introduction</a></li><li class="mb-3 mt-9"><a class="text-xs uppercase text-gray-700 mt-10 mb-4 font-thin hover:text-gray-900" href="#servers">Servers</a><ul class="text-sm mt-2"><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#server-mqtt.transhub.io"><span class="break-all inline-block">mqtt.transhub.io</span></a></li></ul></li><li class="mb-3 mt-9"><a class="text-xs uppercase text-gray-700 mt-10 mb-4 font-thin hover:text-gray-900" href="#operations">Operations</a><ul class="text-sm mt-2"><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-publish-operational/assignment/attempt/request"><span class="bg-blue-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Publish">PUB</span><span class="break-all inline-block">operational/assignment/attempt/request</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-subscribe-operational/assignment/attempt/response"><span class="bg-green-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Subscribe">SUB</span><span class="break-all inline-block">operational/assignment/attempt/response</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-subscribe-operational/assignment/status"><span class="bg-green-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Subscribe">SUB</span><span class="break-all inline-block">operational/assignment/status</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-publish-proprietary_extensions/active_cab"><span class="bg-blue-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Publish">PUB</span><span class="break-all inline-block">proprietary_extensions/active_cab</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-publish-proprietary_extensions/door_lock"><span class="bg-blue-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Publish">PUB</span><span class="break-all inline-block">proprietary_extensions/door_lock</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-publish-proprietary_extensions/doors_individually"><span class="bg-blue-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Publish">PUB</span><span class="break-all inline-block">proprietary_extensions/doors_individually</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-publish-sensors/apc/{sensorId}"><span class="bg-blue-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Publish">PUB</span><span class="break-all inline-block">sensors/apc/{sensorId}</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-publish-sensors/door"><span class="bg-blue-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Publish">PUB</span><span class="break-all inline-block">sensors/door</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-publish-sensors/gnss/location"><span class="bg-blue-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Publish">PUB</span><span class="break-all inline-block">sensors/gnss/location</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-publish-sensors/odometer"><span class="bg-blue-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Publish">PUB</span><span class="break-all inline-block">sensors/odometer</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-publish-sensors/stop_button"><span class="bg-blue-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Publish">PUB</span><span class="break-all inline-block">sensors/stop_button</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-publish-sensors/telemetry/{sensorId}"><span class="bg-blue-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Publish">PUB</span><span class="break-all inline-block">sensors/telemetry/{sensorId}</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-publish-di/override_attempt/destination_display"><span class="bg-blue-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Publish">PUB</span><span class="break-all inline-block">di/override_attempt/destination_display</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-publish-oi/vehicle/unique_identifier"><span class="bg-blue-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Publish">PUB</span><span class="break-all inline-block">oi/vehicle/unique_identifier</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-publish-pe/dpi_ack"><span class="bg-blue-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Publish">PUB</span><span class="break-all inline-block">pe/dpi_ack</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-publish-pe/dpi_diagnostics"><span class="bg-blue-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Publish">PUB</span><span class="break-all inline-block">pe/dpi_diagnostics</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-publish-pe/sales/diagnostics"><span class="bg-blue-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Publish">PUB</span><span class="break-all inline-block">pe/sales/diagnostics</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-publish-pe/cardreader_diagnostics/vix/{deviceRef}"><span class="bg-blue-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Publish">PUB</span><span class="break-all inline-block">pe/cardreader_diagnostics/vix/{deviceRef}</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-subscribe-di/available_destination_displays"><span class="bg-green-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Subscribe">SUB</span><span class="break-all inline-block">di/available_destination_displays</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-subscribe-di/operational_message_to_driver"><span class="bg-green-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Subscribe">SUB</span><span class="break-all inline-block">di/operational_message_to_driver</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-subscribe-ei/audio_message"><span class="bg-green-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Subscribe">SUB</span><span class="break-all inline-block">ei/audio_message</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-subscribe-pe/dpi/journey"><span class="bg-green-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Subscribe">SUB</span><span class="break-all inline-block">pe/dpi/journey</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-subscribe-pe/dpi/nextstop"><span class="bg-green-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Subscribe">SUB</span><span class="break-all inline-block">pe/dpi/nextstop</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-subscribe-pe/dpi/eta"><span class="bg-green-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Subscribe">SUB</span><span class="break-all inline-block">pe/dpi/eta</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-subscribe-pe/dpi/externaldisplay"><span class="bg-green-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Subscribe">SUB</span><span class="break-all inline-block">pe/dpi/externaldisplay</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-subscribe-pe/dpi/pa"><span class="bg-green-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Subscribe">SUB</span><span class="break-all inline-block">pe/dpi/pa</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-subscribe-pe/dpi/arriving"><span class="bg-green-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Subscribe">SUB</span><span class="break-all inline-block">pe/dpi/arriving</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-subscribe-pe/dpi/connections"><span class="bg-green-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Subscribe">SUB</span><span class="break-all inline-block">pe/dpi/connections</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-subscribe-pe/dpi/key_stops"><span class="bg-green-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Subscribe">SUB</span><span class="break-all inline-block">pe/dpi/key_stops</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-subscribe-pe/dpi_command"><span class="bg-green-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Subscribe">SUB</span><span class="break-all inline-block">pe/dpi_command</span></a></li><li><a class="flex no-underline text-gray-700 mb-2 hover:text-gray-900" href="#operation-subscribe-pe/input/stop_button"><span class="bg-green-600 font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs" title="Subscribe">SUB</span><span class="break-all inline-block">pe/input/stop_button</span></a></li></ul></li></ul></div></div></div><div class="panel--center relative py-8 flex-1"><div class="relative z-10"><div class="panel-item"><div class="panel-item--center px-8 text-left" id="introduction"><div class="text-4xl">Avtale om digitale tjenester - ADT<!-- --> <!-- -->3.x</div><ul class="flex flex-wrap mt-2 leading-normal"><li class="inline-block mt-2 mr-2"><a href="https://ruter.no" class="border border-solid border-orange-300 hover:bg-orange-300 hover:text-orange-600 text-orange-500 font-bold no-underline text-xs uppercase rounded px-3 py-1" target="_blank" rel="nofollow noopener noreferrer"><span>GPL 3.0</span></a></li><li class="inline-block mt-2 mr-2"><a href="https://ruter.no" class="border border-solid border-orange-300 hover:bg-orange-300 hover:text-orange-600 text-orange-500 font-bold no-underline text-xs uppercase rounded px-3 py-1" target="_blank" rel="nofollow noopener noreferrer"><span>Terms of service</span></a></li><li class="inline-block mt-2 mr-2"><a href="https://www.iana.org/assignments/media-types/application/json" class="border border-solid border-orange-300 hover:bg-orange-300 hover:text-orange-600 text-orange-500 font-bold no-underline text-xs uppercase rounded px-3 py-1" target="_blank" rel="nofollow noopener noreferrer"><span>application/json</span></a></li><li class="inline-block mt-2 mr-2"><a href="https://ruteras.slack.com/archives/CKJ2V79SN" class="border border-solid border-purple-300 hover:bg-purple-300 hover:text-purple-600 text-purple-500 font-bold no-underline text-xs uppercase rounded px-3 py-1" target="_blank" rel="nofollow noopener noreferrer"><span>RDP Support</span></a></li><li class="inline-block mt-2 mr-2"><a href="mailto:rdp-support@ruter.no" class="border border-solid border-purple-300 hover:bg-purple-300 hover:text-purple-600 text-purple-500 font-bold no-underline text-xs uppercase rounded px-3 py-1" target="_blank" rel="nofollow noopener noreferrer"><span>rdp-support@ruter.no</span></a></li></ul><div class="mt-4"><div class="prose max-w-none text-sm"><h2 id="ruters-digitale-plattform">Ruters digitale plattform</h2>
<p>This specification contains interfaces to be used between PTOs (operators) and Ruter.
The API describes a set of MQTT topics which are used to distribute data onboard public transport vehicles/vessels as
well as between the vehicle/vessel and Ruter’s Back Office or vv.</p>
<h3 id="general-information">General information</h3>
<h4 id="upgrades-to-the-api">Upgrades to the API</h4>
<p>The API follows the upgrade cycles of ADT. Major releases are done more or less once a year and usually include breaking changes.</p>
<p>Minor/build releases are performed as continual deliveries and are non-breaking. New versions of this document will be published when new topics and/or fields are added.</p>
<h4 id="consumer-client-requirements">Consumer Client Requirements</h4>
<p>Clients consuming information posted on the topics must be tolerant to:</p>
<ul>
<li>That optional properties can be null or left out.</li>
<li>That arrays can contain any number of elements including zero.</li>
<li>That returned data can be extended with new properties without notice.</li>
</ul>
<h4 id="quality-of-service-retained-flag-and-persistence">Quality of Service, Retained Flag and Persistence</h4>
<p>Generally, QoS level 1 is applied for most topics and the <code>retain</code> flag is true for most topics. See the respective topic for precise info.</p>
<p>Subscribers should start with Clean Session set to True to assure that they get the latest information at reconnection (the retained info) and avoid first having to process a long queue of outdated old information that in reality hinders new relevant information to reach the subscriber.</p>
<h4 id="translation-of-topic-names">Translation of topic names</h4>
<p>Global topic names are generally written on the format of <code>{recipient}/{sender}/{vehicleid}/{topic}</code> to make it easy to identify the source and destination of the messages.
Local topic names have omitted the <code>{recipient}/{sender}/{vehicleid}</code> part in order to have onboard equipment pre-configured with vehicle independent settings.</p>
<p>All topic names must thus be rewritten local/global in the MQTT bridge according to a provided configuration file.</p>
<h4 id="data-format">Data format</h4>
<p>All data must be JSON and UTF-8 encoded.</p>
<h3 id="more-info">More info</h3>
<p>For more information, please go to: <a title="https://ruter.atlassian.net/wiki/spaces/DS/pages/231178249/Avtale+om+Digitale+Tjenester" href="https://ruter.atlassian.net/wiki/spaces/DS/pages/231178249/Avtale+om+Digitale+Tjenester">Ruter’s ADT agreement</a>.</p>
<h3 id="comments-or-suggestions">Comments or suggestions</h3>
<p>Please open an issue here: <a href="https://github.com/RuterNo/adt-doc/issues">ADT-DOC Issues</a> </p>
</div></div></div><div class="panel-item--right"></div></div><section id="servers" class="mt-16"><h2 class="2xl:w-7/12 text-3xl font-light mb-4 px-8">Servers</h2><ul><li class="mb-4" id="server-mqtt.transhub.io"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border bg-gray-100"><div><span class="font-mono text-base">mqtt.transhub.io</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-sm">mqtt</span><span class="bg-blue-500 font-bold no-underline text-white uppercase rounded px-2 py-1 text-sm">mqtt.transhub.io</span></div><div class="mt-2"><div class="prose max-w-none text-sm"><p>Ruters central MQTT broker</p>
</div></div><div class="mt-2" id="server-mqtt.transhub.io-url-variables"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">URL Variables</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear -rotate-90 "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  block"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">port</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"></div><div><div class="prose max-w-none text-sm"><p>The mqtt broker is available through TCP (:8883) and Websockets (:9883)</p>
</div></div><div class="text-xs">Default value:<span class="border inline-block text-orange-600 rounded ml-1 py-0 px-2">&quot;8883&quot;</span></div><ul class="text-xs">Allowed values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2"><span>&quot;8883&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2"><span>&quot;9883&quot;</span></li></ul></div></div></div></div></div></div></div><div id="server-mqtt.transhub.io-security"><div class="text-sm mt-4"><h5 class="text-gray-800">Security<!-- -->:</h5><ul><li class="mt-2"><div><div><span>User/Password</span></div><div><div class="prose max-w-none text-sm"><p>Please reach out to <a href="mailto:rdp-support@ruter.no">rdp-support@ruter.no</a> to request access.</p>
</div></div></div></li></ul></div></div></div></div><div class="panel-item--right"></div></div></li></ul></section><section id="operations" class="mt-16"><h2 class="2xl:w-7/12 text-3xl font-light mb-4 px-8">Operations</h2><ul><li class="mb-12" id="operation-publish-operational/assignment/attempt/request"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-blue-600 text-blue-500" title="publish">PUB</span> <span class="font-mono text-base">operational/assignment/attempt/request</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="assignmentattemptrequest-message">AssignmentAttemptRequest Message</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>ruter/{operatorId}/{vehicleId}/adt/v3/operational/assignment/attempt/request</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/operational/assignment/attempt/request/assignment-attempt-request.json"> assignment-attempt-request.json </a></td>
</tr>
</tbody></table>
<h3 id="assignmentattemptrequest-usage">AssignmentAttemptRequest Usage</h3>
<p><code>operational/assignment/attempt</code> follows the request/response/state pattern. When a <code>request</code> is made to the request topic, a <code>response</code> will be available at the response topic once Ruter has finished processing. 
In addition, if the <code>request</code> results in a change of <code>state</code>, the state topic will be updated to reflect the current state as seen by Ruter.</p>
<p>An <code>AssignmentAttemptRequest</code> can be made for:</p>
<table>
<thead>
<tr>
<th>Action</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>SignOn</td>
<td>Creating an Assignment for a vehicle. Signing a vehicle on to a set of planned journeys/stops</td>
</tr>
<tr>
<td>SignOff</td>
<td>Signing a vehicle off from an assigned assignment</td>
</tr>
<tr>
<td>Update</td>
<td>Altering an assigned assignment</td>
</tr>
</tbody></table>
<ul>
<li>The message is composed of three operations (signOn, signOff, update). Each message must only contain one of these. If the message contains more than one part, the order of precedence is the following:<ol>
<li>signOn</li>
<li>signOff</li>
<li>update</li>
</ol>
</li>
<li>All attempts are effective immediately.</li>
<li>All attempt request will get an attempt response under the topic <a href="../response/assignment-attempt-response.md">assignment/attempt/response</a></li>
<li>Any request leading to a change of existing assignment state is reflected under the topic <a href="../../status/assignment-status.md">assignment/state</a></li>
<li>Please provide all fields marked as <code>reqired</code> in the schema specifications.</li>
</ul>
<h4 id="sign-on">Sign On</h4>
<ul>
<li>Any pre-existing assigned assignments will be signed off <code>AssignmentState.assigned=true</code></li>
<li>Sign on attempts are effective immediately. The vehicle will immediately be assigned the new plan <code>AssignmentState.assigned=true</code></li>
<li>If the attempt request fails, the state of the vehicle is <code>AssignmentState.assigned=false</code></li>
<li>A <code>vehicleTask</code> is a set of one or more blocks containing the journeys to be served.</li>
<li>All signOn-attempts require the field <code>vehicleTask</code>.</li>
<li>Journeys outside the specified <code>vehicleTask</code> will never be included</li>
</ul>
<h5 id="sign-on---planned">Sign On - PLANNED</h5>
<ul>
<li><code>Default</code> The vehicle will be signed on to service the pre-existing plans for the specified <code>serviceWindow</code></li>
<li>If <code>lastAttivalDateTime</code> is provided, the assignment will contain all journeys/stops from (including) <code>firstDepartureDateTime</code> until (excluding) the specified <code>lastAttivalDateTime</code></li>
<li>If <code>lastAttivalDateTime</code> is not provided, the assignment will contain all journeys/stops from (including) <code>firstDepartureDateTime</code> until the end of the block</li>
</ul>
<h5 id="sign-on---extra">Sign On - EXTRA</h5>
<ul>
<li>Used if additional vehicles are demanded to serve the pre-existing plans for the specified <code>serviceWindow</code></li>
<li>If <code>lastAttivalDateTime</code> is provided, the assignment will contain all journeys/stops from (including) <code>firstDepartureDateTime</code> until (excluding) the specified <code>lastAttivalDateTime</code></li>
<li>If <code>lastAttivalDateTime</code> is not provided, the assignment will contain all journeys/stops from (including) <code>firstDepartureDateTime</code> until the end of the journey</li>
</ul>
<h5 id="sign-on---replacement">Sign On - REPLACEMENT</h5>
<ul>
<li>Used if another vehicle can not service parts of its assignment. The other vehicle should be signed off.</li>
<li><code>serviceWindow</code> is honoured as <code>PLANNED</code></li>
</ul>
<h3 id="sign-off">Sign Off</h3>
<h4 id="sign-off---finished">Sign Off - FINISHED</h4>
<ul>
<li>The vehicle has serviced all journeys in the assignment</li>
</ul>
<h4 id="sign-off---breakdown">Sign Off - BREAKDOWN</h4>
<ul>
<li>The vehicle has broken down, or in some way not capable of servicing the rest of the assignment</li>
</ul>
<h4 id="sign-off---cancelled">Sign Off - CANCELLED</h4>
<ul>
<li>Remaining not serviced stops/journeys in the assignment will not be serviced (by any vehicles).</li>
</ul>
<h4 id="sign-off---shortening">Sign Off - SHORTENING</h4>
<ul>
<li>Same as <code>CANCELLED</code></li>
</ul>
<h3 id="update">Update</h3>
<h4 id="update---shortening">Update - SHORTENING</h4>
<ul>
<li>Operational change of a pre-existing assigned assignment for a vehicle.</li>
<li>Failed attempts will not affect the assignment state for a vehicle.</li>
<li><code>serviceWindow.firstDepartureDateTime</code> is required</li>
<li>If <code>lastAttivalDateTime</code> is provided, journeys/stops from (including) <code>firstDepartureDateTime</code> until (excluding) the specified <code>lastArrivalDateTime</code> are removed from the assignment</li>
<li>If <code>lastAttivalDateTime</code> is not provided, the stop with <code>firstDepartureDateTime</code> will be removed from the assignment</li>
</ul>
</div></div></div><div class="w-full mt-4" id="operation-publish-operational/assignment/attempt/request-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">AssignmentAttemptRequest</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v3.0/operational/assignment/attempt/request/assignment-attempt-request.json</span></div><div><div class="prose max-w-none text-sm"><p>Request to sign a vehicle on/off, or update an assigned assignment. The vehicle in question is provided in the mqtt topic name. Response will be sent to this vehicle via assignment attempt response.</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>When the recorded event happened</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">signOn</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/signOn</span></div><div><div class="prose max-w-none text-sm"><p>Sign the vehicle on to planned journeys from a given vehicle task. If the requested planed journeys exists, this request will form a plan for the vehicle to follow.  The plan can consist of parts of, or an entire vehicle task.</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">code</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/code</span></div><div><div class="prose max-w-none text-sm"><p>Specification of the reason why the vehicle should be signed on.</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;PLANNED&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;EXTRA&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;REPLACEMENT&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">vehicleTaskId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/vehicleTaskId</span></div><div><div class="prose max-w-none text-sm"><p>Id of the vehicle task. To pick the plan from</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">serviceWindow</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/serviceWindow</span></div><div><div class="prose max-w-none text-sm"><p>First arrival and last departure</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">firstDepartureDateTime</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/firstDepartureDateTime</span></div><div><div class="prose max-w-none text-sm"><p>The first planned departure the vehicle is supposed to service.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">lastArrivalDateTime</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/lastArrivalDateTime</span></div><div><div class="prose max-w-none text-sm"><p>The last planned arrival the vehicle is supposed to service.</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">signOff</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/signOff</span></div><div><div class="prose max-w-none text-sm"><p>Sign the vehicle off the previously signed on plan</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">code</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/code</span></div><div><div class="prose max-w-none text-sm"><p>Specification as to the reason why the vehicle will no longer service journeys</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;CANCELLED&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;BREAKDOWN&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;SHORTENING&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;FINISHED&quot;</span></li></ul></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">update</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/update</span></div><div><div class="prose max-w-none text-sm"><p>After a successful sign on. The Signed on plan can be updated. The updates are restricted to <code>SHORTENING</code> the agreed upon plan</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">code</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/code</span></div><div><div class="prose max-w-none text-sm"><p>Specification of the update action requested.</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;SHORTENING&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">serviceWindow</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/serviceWindow</span></div><div><div class="prose max-w-none text-sm"><p>First arrival and last departure</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">firstDepartureDateTime</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/firstDepartureDateTime</span></div><div><div class="prose max-w-none text-sm"><p>The first planned departure the vehicle is supposed to service.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">lastArrivalDateTime</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/lastArrivalDateTime</span></div><div><div class="prose max-w-none text-sm"><p>The last planned arrival the vehicle is supposed to service.</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Assignment Attempt Request</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"missing"</span>: <span class="hljs-string">"example"</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-subscribe-operational/assignment/attempt/response"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-green-600 text-green-600" title="subscribe">SUB</span> <span class="font-mono text-base">operational/assignment/attempt/response</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="assignmentattemptresponse-message">AssignmentAttemptResponse Message</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>{operatorId}/ruter/{vehicleId}/adt/v3/operational/assignment/attempt/response</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/operational/assignment/attempt/response/assignment-attempt-response.json"> assignment-attempt-response.json </a></td>
</tr>
</tbody></table>
<h3 id="assignmentattemptresponse-usage">AssignmentAttemptResponse Usage</h3>
<p>When an AssignmentAttemptRequest is made, and Ruter has finished processing, the results are presented as AssignmentAttemptResponse.
The response contains:</p>
<ul>
<li><code>result</code> to indicate if processing by Ruter has been successfully processed, or not. See the schema for possible codes.</li>
<li><code>state</code> as a representation of the Assignment state as seen by Ruter after processing is completed.</li>
</ul>
</div></div></div><div class="w-full mt-4" id="operation-subscribe-operational/assignment/attempt/response-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">AssignmentAttemptResponse</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v3.0/operational/assignment/attempt/response/assignment-attempt-response.json</span></div><div><div class="prose max-w-none text-sm"><p>A response to an assignment attempt request</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>The same traceId as contained in the assignment attempt request</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>Timestamp for when Ruter has processed the message</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">result</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/result</span></div><div><div class="prose max-w-none text-sm"><p>Result and specifications of the processes attempt request</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">code</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/code</span></div><div><div class="prose max-w-none text-sm"><p>Machine readable codes specifying results</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;OK&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;BAD_REQUEST&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;INTERNAL_ERROR&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;NOT_IMPLEMENTED&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">reason</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/reason</span></div><div><div class="prose max-w-none text-sm"><p>Machine readable specifications of the code supplied. The list of examples might not be complete</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;OK&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;TIMEOUT&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;ATTEMPT_EXPIRED&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;JOURNEY_NOT_FOUND&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;VEHICLE_TASK_NOT_FOUND&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;VEHICLE_ID_INVALID&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;API_VERSION_INVALID&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;ARRIVAL_DATE_TIME_INVALID&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;DEPARTURE_DATE_TIME_INVALID&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;SIGN_OFF_CODE_INVALID&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;SIGN_ON_CODE_INVALID&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;UPDATE_CODE_INVALID&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">description</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/description</span></div><div><div class="prose max-w-none text-sm"><p>Human readable specification of the result</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">details</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">array&lt;object&gt;</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/details</span></div><div><div class="prose max-w-none text-sm"><p>Details specifying the result</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">code</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/code</span></div><div><div class="prose max-w-none text-sm"><p>Machine readable code to specify processing steps</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">description</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/description</span></div><div><div class="prose max-w-none text-sm"><p>Human readable specification of the code supplied.</p>
</div></div></div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">state</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/state</span></div><div><div class="prose max-w-none text-sm"><p>Assignment state as a result of the processed attempt. If the processed attempt did not change the state of the Assignment, this section removed from the response</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">assigned</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">boolean</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/assigned</span></div><div><div class="prose max-w-none text-sm"><p>Is the vehicle currently assigned</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">code</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/code</span></div><div><div class="prose max-w-none text-sm"><p>Assignment code for the vehicle. See documentation for specifications</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;PLANNED&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;EXTRA&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;REPLACEMENT&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;SHORTENING&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;CANCELLED&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;BREAKDOWN&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;FINISHED&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;REPLACED&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">vehicleTaskId</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/vehicleTaskId</span></div><div><div class="prose max-w-none text-sm"><p>The assigned vehicleTask if the vehicle is assigned</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">blockId</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/blockId</span></div><div><div class="prose max-w-none text-sm"><p>The assigned block if the vehicle is assigned</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">operatingDate</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/operatingDate</span></div><div><div class="prose max-w-none text-sm"><p>The assigned operating date if the vehicle is assigned</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">serviceWindow</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/serviceWindow</span></div><div><div class="prose max-w-none text-sm"><p>Planed first arrival and last departure for the assignment if the vehicle is assigned</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">firstDepartureDateTime</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/firstDepartureDateTime</span></div><div><div class="prose max-w-none text-sm"><p>The first planned departure the vehicle is supposed to service.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">lastArrivalDateTime</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/lastArrivalDateTime</span></div><div><div class="prose max-w-none text-sm"><p>The last planned arrival the vehicle is supposed to service.</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">firstJourneyId</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/firstJourneyId</span></div><div><div class="prose max-w-none text-sm"><p>The first journey to be serviced if the vehicle is assigned</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">journeys</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">array&lt;object&gt;</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/journeys</span></div><div><div class="prose max-w-none text-sm"><p>A list of journeys to be serviced if the vehicle is assigned</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">journeyId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/journeyId</span></div><div><div class="prose max-w-none text-sm"><p>Id of the journey</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">serviceWindow</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/serviceWindow</span></div><div><div class="prose max-w-none text-sm"><p>First arrival and last departure</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">firstDepartureDateTime</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/firstDepartureDateTime</span></div><div><div class="prose max-w-none text-sm"><p>The first planned departure the vehicle is supposed to service.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">lastArrivalDateTime</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/lastArrivalDateTime</span></div><div><div class="prose max-w-none text-sm"><p>The last planned arrival the vehicle is supposed to service.</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">description</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/description</span></div><div><div class="prose max-w-none text-sm"><p>Human readable description of the last action performed that changed the state of the vehicle assignment</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Assignment Attempt Response</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"missing"</span>: <span class="hljs-string">"example"</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-subscribe-operational/assignment/status"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-green-600 text-green-600" title="subscribe">SUB</span> <span class="font-mono text-base">operational/assignment/status</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="assignmentstatus-message">AssignmentStatus Message</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>{operatorId}/ruter/{vehicleId}/adt/v3/operational/assignment/status</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/operational/assignment/status/assignment-status.json"> assignment-status.json </a></td>
</tr>
</tbody></table>
<h3 id="assignmentstatus-usage">AssignmentStatus Usage</h3>
<p>Current Assignment State for a vehicle as seen by Ruter. The topic is <code>retained</code> so the current state is persisted on the mqtt-broker.
The topic is updated when an AssignmentAttemptRequest i made, processing is complete and the state has changed. </p>
</div></div></div><div class="w-full mt-4" id="operation-subscribe-operational/assignment/status-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">AssignmentStatus</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v3.0/operational/assignment/status/assignment-status.json</span></div><div><div class="prose max-w-none text-sm"><p>Assignment status for the vehicle as recorded by Ruter</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>The traceId of the assignment attempt request that altered the state</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>When Ruter has updated the assignment state</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">state</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/state</span></div><div><div class="prose max-w-none text-sm"><p>The Ruter recorded state of the vehicle assignment</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">assigned</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">boolean</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/assigned</span></div><div><div class="prose max-w-none text-sm"><p>Is the vehicle currently assigned</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">code</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/code</span></div><div><div class="prose max-w-none text-sm"><p>Assignment code for the vehicle. See documentation for specifications</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;PLANNED&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;EXTRA&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;REPLACEMENT&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;SHORTENING&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;CANCELLED&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;BREAKDOWN&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;FINISHED&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;REPLACED&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">vehicleTaskId</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/vehicleTaskId</span></div><div><div class="prose max-w-none text-sm"><p>The assigned vehicleTask if the vehicle is assigned</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">blockId</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/blockId</span></div><div><div class="prose max-w-none text-sm"><p>The assigned block if the vehicle is assigned</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">operatingDate</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/operatingDate</span></div><div><div class="prose max-w-none text-sm"><p>The assigned operating date if the vehicle is assigned</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">serviceWindow</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/serviceWindow</span></div><div><div class="prose max-w-none text-sm"><p>Planed first arrival and last departure for the assignment if the vehicle is assigned</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">firstDepartureDateTime</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/firstDepartureDateTime</span></div><div><div class="prose max-w-none text-sm"><p>The first planned departure the vehicle is supposed to service.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">lastArrivalDateTime</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/lastArrivalDateTime</span></div><div><div class="prose max-w-none text-sm"><p>The last planned arrival the vehicle is supposed to service.</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">firstJourneyId</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/firstJourneyId</span></div><div><div class="prose max-w-none text-sm"><p>The first journey to be serviced if the vehicle is assigned</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">journeys</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">array&lt;object&gt;</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/journeys</span></div><div><div class="prose max-w-none text-sm"><p>A list of journeys to be serviced if the vehicle is assigned</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">journeyId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/journeyId</span></div><div><div class="prose max-w-none text-sm"><p>Id of the journey</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">serviceWindow</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/serviceWindow</span></div><div><div class="prose max-w-none text-sm"><p>First arrival and last departure</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">firstDepartureDateTime</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/firstDepartureDateTime</span></div><div><div class="prose max-w-none text-sm"><p>The first planned departure the vehicle is supposed to service.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">lastArrivalDateTime</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/lastArrivalDateTime</span></div><div><div class="prose max-w-none text-sm"><p>The last planned arrival the vehicle is supposed to service.</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">description</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/description</span></div><div><div class="prose max-w-none text-sm"><p>Human readable description of the last action performed that changed the state of the vehicle assignment</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">true</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Assignment State</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"missing"</span>: <span class="hljs-string">"example"</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-publish-proprietary_extensions/active_cab"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-blue-600 text-blue-500" title="publish">PUB</span> <span class="font-mono text-base">proprietary_extensions/active_cab</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="activecab-message">ActiveCab Message</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>ruter/{operatorId}/{vehicleId}/adt/v3/proprietary_extensions/active_cab</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/proprietary-extensions/active-cab/active-cab.json"> active-cab.json </a></td>
</tr>
</tbody></table>
</div></div></div><div class="w-full mt-4" id="operation-publish-proprietary_extensions/active_cab-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">ActiveCab</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v3.0/proprietary-extensions/active-cab/active-cab.json</span></div><div><div class="prose max-w-none text-sm"><p>Used to keep track of what direction the train is driving</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>ISO 8601, UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">activeCab</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/activeCab</span></div><div><div class="prose max-w-none text-sm"><p>Text for active cab</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;c1&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;c2&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;inactive&quot;</span></li></ul></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">true</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Active CAB</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2020-10-31T08:38:02.749Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"activeCab"</span>: <span class="hljs-string">"c1"</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-publish-proprietary_extensions/door_lock"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-blue-600 text-blue-500" title="publish">PUB</span> <span class="font-mono text-base">proprietary_extensions/door_lock</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="doorlock-message">DoorLock Message</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>ruter/{operatorId}/{vehicleId}/adt/v3/proprietary_extensions/door_lock</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/proprietary-extensions/door-lock/door-lock.json"> door-lock.json </a></td>
</tr>
</tbody></table>
<p>This message is used to track if the vehicle doors are locked or unlocked.</p>
<p>Frequency: on change</p>
</div></div></div><div class="w-full mt-4" id="operation-publish-proprietary_extensions/door_lock-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">DoorLock</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v3.0/proprietary-extensions/door-lock/door-lock.json</span></div><div><div class="prose max-w-none text-sm"><p>Door lock event</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>{&quot;eventTimestamp&quot;:&quot;2020-10-31T08:38:02.749Z&quot;,&quot;locked&quot;:false}</span></li></ul></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>ISO 8601, UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">locked</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">boolean</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/locked</span></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;true&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;false&quot;</span></li></ul></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Door Lock</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2020-10-31T08:38:02.749Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"locked"</span>: <span class="hljs-literal">false</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-publish-proprietary_extensions/doors_individually"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-blue-600 text-blue-500" title="publish">PUB</span> <span class="font-mono text-base">proprietary_extensions/doors_individually</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="doorsindividually-message">DoorsIndividually Message</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>ruter/{operatorId}/{vehicleId}/adt/v3/proprietary_extensions/doors_individually</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/proprietary-extensions/doors-individually/doors-individually.json"> doors-individually.json </a></td>
</tr>
</tbody></table>
<p>This topic is used to track the individual status of doors. One use case is to improve the data quality of APC counts. See also topic sensors/door for status of anyDoorOpen/allDoorsClosed.</p>
</div></div></div><div class="w-full mt-4" id="operation-publish-proprietary_extensions/doors_individually-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">DoorsIndividually</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v3.0/proprietary-extensions/doors-individually/doors-individually.json</span></div><div><div class="prose max-w-none text-sm"><p>This object is used to represent a door individually.</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier to be able to trace this message. Also used to detect duplicate messages received.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">doorRef</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/doorRef</span></div><div><div class="prose max-w-none text-sm"><p>Has to be the same reference as is used in the topic sensors/apc_sensors.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">isOpen</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">boolean</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/isOpen</span></div><div><div class="prose max-w-none text-sm"><p>True if the door is open.</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;true&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;false&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">atDateTime</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/atDateTime</span></div><div><div class="prose max-w-none text-sm"><p>Timestamp when isOpen has changed, ISO 8601</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Door Individually</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"doorRef"</span>: <span class="hljs-string">"01"</span>,
  <span class="hljs-attr">"isOpen"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"atDateTime"</span>: <span class="hljs-string">"2021-10-31T12:45:50Z"</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-publish-sensors/apc/{sensorId}"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-blue-600 text-blue-500" title="publish">PUB</span> <span class="font-mono text-base">sensors/apc/{sensorId}</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="apc-message">Apc Message</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>ruter/{operatorId}/{vehicleId}/adt/v3/sensors/apc/{sensorId}</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/sensors/apc/apc.json"> apc.json </a></td>
</tr>
</tbody></table>
</div></div><div class="mt-2" id="operation-publish-sensors/apc/{sensorId}-parameters"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Parameters</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear -rotate-90 "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  block"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">sensorId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->sensorId</span></div><div><div class="prose max-w-none text-sm"><p>The sensor / telemetry Id.</p>
</div></div></div></div></div></div></div></div></div></div><div class="w-full mt-4" id="operation-publish-sensors/apc/{sensorId}-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">Apc</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v3.0/sensors/apc/apc.json</span></div><div><div class="prose max-w-none text-sm"><p>Raw-data from door-sensor for later evaluation.</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier to be able to trace this message. Also used to detect duplicate messages received.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">doorRef</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/doorRef</span></div><div><div class="prose max-w-none text-sm"><p>Stable alfa-numeric reference that is unique within scope of vehicle (vehicle element/train set). Could be a door-number or a combination of coach number and door number.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">alightingCount</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/alightingCount</span></div><div><div class="prose max-w-none text-sm"><p>Total number of alighting passengers detected by this sensor since last reset.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">boardingCount</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/boardingCount</span></div><div><div class="prose max-w-none text-sm"><p>Total number of boarding passengers detected by this sensor since last reset.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">atDateTime</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/atDateTime</span></div><div><div class="prose max-w-none text-sm"><p>ISO 8601. Reflects the current UTC time.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">messageNumber</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/messageNumber</span></div><div><div class="prose max-w-none text-sm"><p>Sequence number, increased by one for each new message. Used to validate consistency in the data stream.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">categoryActivities</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">array&lt;object&gt;</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/categoryActivities</span></div><div><div class="prose max-w-none text-sm"><p>A list describing APC activity at each individual door divided per handled object category.</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">categoryRef</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"></div><div><div class="prose max-w-none text-sm"><p>Object class reference. Any of the following object categories.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">alightingCount</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"></div><div><div class="prose max-w-none text-sm"><p>Number of alighting of this category detected by this sensor since last reset.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">boardingCount</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"></div><div><div class="prose max-w-none text-sm"><p>Number of boarding of this category detected by this sensor since last reset.</p>
</div></div></div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - APC Sensors</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"doorRef"</span>: <span class="hljs-string">"01"</span>,
  <span class="hljs-attr">"alightingCount"</span>: <span class="hljs-number">23</span>,
  <span class="hljs-attr">"boardingCount"</span>: <span class="hljs-number">12</span>,
  <span class="hljs-attr">"atDateTime"</span>: <span class="hljs-string">"2017-10-31T12:45:50Z"</span>,
  <span class="hljs-attr">"messageNumber"</span>: <span class="hljs-number">123456</span>,
  <span class="hljs-attr">"categoryActivities"</span>: [
    {
      <span class="hljs-attr">"categoryRef"</span>: <span class="hljs-string">"ADULT"</span>,
      <span class="hljs-attr">"alightingCount"</span>: <span class="hljs-number">23</span>,
      <span class="hljs-attr">"boardingCount"</span>: <span class="hljs-number">9</span>
    },
    {
      <span class="hljs-attr">"categoryRef"</span>: <span class="hljs-string">"CHILD"</span>,
      <span class="hljs-attr">"alightingCount"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">"boardingCount"</span>: <span class="hljs-number">3</span>
    }
  ]
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-publish-sensors/door"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-blue-600 text-blue-500" title="publish">PUB</span> <span class="font-mono text-base">sensors/door</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="door-message">Door Message</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>ruter/{operatorId}/{vehicleId}/adt/v3/sensors/door</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/sensors/door/door.json"> door.json </a></td>
</tr>
</tbody></table>
<p>Frequency: on change</p>
</div></div></div><div class="w-full mt-4" id="operation-publish-sensors/door-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">Door</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v3.0/sensors/door/door.json</span></div><div><div class="prose max-w-none text-sm"><p>Describes if any door is open (if the door lock is released). Also see topic pe/doors_individually for status on individual doors.</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>{&quot;doorOpen&quot;:true,&quot;atDateTime&quot;:&quot;2021-11-30T23:45:52.006Z&quot;,&quot;traceId&quot;:&quot;2d826a9a-2474-11ed-861d-0242ac120002&quot;}</span></li></ul></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier to be able to trace this message. Also used to detect duplicate messages received.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">doorOpen</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">boolean</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/doorOpen</span></div><div><div class="prose max-w-none text-sm"><p>True if any door is open (door lock is released). False if door lock is activated.</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;true&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;false&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">atDateTime</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/atDateTime</span></div><div><div class="prose max-w-none text-sm"><p>ISO 8601. Reflects the UTC time when the state changed.</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">true</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Door Sensor</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"doorOpen"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"atDateTime"</span>: <span class="hljs-string">"2021-11-30T23:45:52.006Z"</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-publish-sensors/gnss/location"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-blue-600 text-blue-500" title="publish">PUB</span> <span class="font-mono text-base">sensors/gnss/location</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="location-message">Location Message</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>ruter/{operatorId}/{vehicleId}/adt/v3/sensors/gnss/location</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/sensors/gnss/location/location.json"> location.json </a></td>
</tr>
</tbody></table>
<p>Describes the GNSS navigation receiver feedback in metric format. The periodicity of updates to be expected should be
described as number of seconds in configValue01 for this topic under topic:</p>
<pre><code>ruter/{PTO}/{vehicleID}/mi/provider_clients//provided_topics
</code></pre>
<p>The GNSS type should be described in configValue11. Information about the used GNSS System. MixedGNSSTypes is used for
receivers using multiple satellite constellations. Possible values:</p>
<ul>
<li>GPS</li>
<li>Glonass</li>
<li>Galileo</li>
<li>Beidou</li>
<li>IRNSS</li>
<li>Other</li>
<li>DeadReckoning</li>
<li>MixedGNSSTypes</li>
</ul>
<p>The GNSS coordinate system should be described in configValue12, at least if other than “WGS84”. Possible values:</p>
<ul>
<li>GPS</li>
<li>Glonass</li>
<li>Galileo</li>
<li>Beidou</li>
<li>IRNSS</li>
<li>Other</li>
<li>DeadReckoning</li>
<li>MixedGNSSTypes</li>
</ul>
<p>“MixedGNSSTypes” is used for receivers using multiple satellite constellations.</p>
<p>Frequency is recommended at 1 message per second.</p>
</div></div></div><div class="w-full mt-4" id="operation-publish-sensors/gnss/location-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">Location</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v3.0/sensors/gnss/location/location.json</span></div><div><div class="prose max-w-none text-sm"><p>Location sensor data</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">latitudeDegree</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/latitudeDegree</span></div><div><div class="prose max-w-none text-sm"><p>Latitude coordinate in decimal degrees.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">latitudeDirection</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/latitudeDirection</span></div><div><div class="prose max-w-none text-sm"><p>Optional. Latitude direction (“N” or “S”).</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">longitudeDegree</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/longitudeDegree</span></div><div><div class="prose max-w-none text-sm"><p>Longitude coordinate in decimal degrees.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">longitudeDirection</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/longitudeDirection</span></div><div><div class="prose max-w-none text-sm"><p>Optional. Longitude direction (“W” or “E”).</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">altitude</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/altitude</span></div><div><div class="prose max-w-none text-sm"><p>Altitude value (m) above mean sea level.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">fixDateTime</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/fixDateTime</span></div><div><div class="prose max-w-none text-sm"><p>ISO 8601. Reflects the UTC time provided by the GNSS equipment for position fix. This is the point in time the location applies to.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">messageNumber</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/messageNumber</span></div><div><div class="prose max-w-none text-sm"><p>Optional. Sequence number, increased by one for each new message. Used to validate consistency in the data stream.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">speedOverGround</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/speedOverGround</span></div><div><div class="prose max-w-none text-sm"><p>GNSS based speed over ground (m/s).</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">trackDegreeTrue</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/trackDegreeTrue</span></div><div><div class="prose max-w-none text-sm"><p>Direction of travel in relation to the geographical North Pole (0-360 degrees).</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">signalQuality</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/signalQuality</span></div><div><div class="prose max-w-none text-sm"><p>GPS quality indicator. 0 - Fix not available. 1 - GPS fix. 2 - Differential GPS fix. 3 = PPS fix. 4 = Real Time Kinematic. 5 = Float RTK. 6 = Estimated (dead reckoning). 7 = Manual input mode. 8 = Simulation mode</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">numberOfSatellites</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/numberOfSatellites</span></div><div><div class="prose max-w-none text-sm"><p>Number of satellites used.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">hdop</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/hdop</span></div><div><div class="prose max-w-none text-sm"><p>Value of precision in horizontal dilution.</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">0</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Location</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"latitudeDegree"</span>: <span class="hljs-number">59.251356</span>,
  <span class="hljs-attr">"longitudeDegree"</span>: <span class="hljs-number">11.581231</span>,
  <span class="hljs-attr">"altitude"</span>: <span class="hljs-number">124</span>,
  <span class="hljs-attr">"fixDateTime"</span>: <span class="hljs-string">"2017-11-30T23:45:52Z"</span>,
  <span class="hljs-attr">"messageNumber"</span>: <span class="hljs-number">12345</span>,
  <span class="hljs-attr">"speedOverGround"</span>: <span class="hljs-number">15.3</span>,
  <span class="hljs-attr">"trackDegreeTrue"</span>: <span class="hljs-number">324</span>,
  <span class="hljs-attr">"signalQuality"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">"numberOfSatellites"</span>: <span class="hljs-number">12</span>,
  <span class="hljs-attr">"hdop"</span>: <span class="hljs-number">2.4</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-publish-sensors/odometer"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-blue-600 text-blue-500" title="publish">PUB</span> <span class="font-mono text-base">sensors/odometer</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="odometer-message">Odometer Message</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>ruter/{operatorId}/{vehicleId}/adt/v3/sensors/odometer</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/sensors/odometer/odometer.json"> odometer.json </a></td>
</tr>
</tbody></table>
<p>Describes an odometer value in meters based on total vehicle distance or similar. Absolute value of less importance but
should be increasing at least within the scope of a journey. Optionally the current speed according to the odometer could be included.</p>
<p>Frequency is recommended at 1 message per second.</p>
</div></div></div><div class="w-full mt-4" id="operation-publish-sensors/odometer-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">Odometer</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v3.0/sensors/odometer/odometer.json</span></div><div><div class="prose max-w-none text-sm"><p>Odometer data</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>{&quot;distance&quot;:23434556,&quot;atDateTime&quot;:&quot;2017-11-30T23:45:52.006Z&quot;,&quot;traceId&quot;:&quot;2d826a9a-2474-11ed-861d-0242ac120002&quot;,&quot;messageNumber&quot;:12345}</span></li></ul></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier to be able to trace this message. Also used to detect duplicate messages received.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">distance</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/distance</span></div><div><div class="prose max-w-none text-sm"><p>Describes absolute odometer value in metres.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">atDateTime</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/atDateTime</span></div><div><div class="prose max-w-none text-sm"><p>ISO 8601. Reflects the UTC time when the state changed.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">messageNumber</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/messageNumber</span></div><div><div class="prose max-w-none text-sm"><p>Optional. Sequence number, increased by one for each new message. Used to validate consistency in the data stream.</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">0</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Odometer</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"distance"</span>: <span class="hljs-number">23434556</span>,
  <span class="hljs-attr">"atDateTime"</span>: <span class="hljs-string">"2017-11-30T23:45:52.006Z"</span>,
  <span class="hljs-attr">"messageNumber"</span>: <span class="hljs-number">12345</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-publish-sensors/stop_button"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-blue-600 text-blue-500" title="publish">PUB</span> <span class="font-mono text-base">sensors/stop_button</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="stopbutton-message">StopButton Message</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>ruter/{operatorId}/{vehicleId}/adt/v3/sensors/stop_button</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/sensors/stop-button/stop-button.json"> stop-button.json </a></td>
</tr>
</tbody></table>
<p>This message should be produced whenever the stop signal is turned on or off.</p>
<p>Frequency: on change</p>
</div></div></div><div class="w-full mt-4" id="operation-publish-sensors/stop_button-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">StopButton</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v3.0/sensors/stop-button/stop-button.json</span></div><div><div class="prose max-w-none text-sm"><p>Describes if passengers have requested that the bus should stop (stop button pressed).</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>{&quot;eventTimestamp&quot;:&quot;2021-11-30T23:45:52.006Z&quot;,&quot;traceId&quot;:&quot;c26f450f-2418-4792-a567-05f6771cba7a&quot;,&quot;stopPressed&quot;:true,&quot;accessibility&quot;:false,&quot;messageNumber&quot;:1}</span></li></ul></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>ISO 8601. Reflects the UTC time when the state changed.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">stopPressed</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">boolean</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/stopPressed</span></div><div><div class="prose max-w-none text-sm"><p>True if stop request button pressed. False if stop request signal is cleared.</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;true&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;false&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">accessibility</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">boolean</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/accessibility</span></div><div><div class="prose max-w-none text-sm"><p>True if stop request should lead to longer wait on stop. Used to indicate if the request is by someone with accessibility challenges.</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;true&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;false&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">messageNumber</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/messageNumber</span></div><div><div class="prose max-w-none text-sm"><p>Optional. Sequence number, increased by one for each new message. Used to validate consistency in the data stream.</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Stop Button</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2021-11-30T23:45:52.006Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"c26f450f-2418-4792-a567-05f6771cba7a"</span>,
  <span class="hljs-attr">"stopPressed"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"accessibility"</span>: <span class="hljs-literal">false</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-publish-sensors/telemetry/{sensorId}"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-blue-600 text-blue-500" title="publish">PUB</span> <span class="font-mono text-base">sensors/telemetry/{sensorId}</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="telemetry-message">Telemetry Message</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>ruter/{operatorId}/{vehicleId}/adt/v3/sensors/telemetry/{sensorId}</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/sensors/telemetry/telemetry.json"> telemetry.json </a></td>
</tr>
</tbody></table>
<p>Several different kinds of sensor/telemetry data are available varying by vehicle type For traditional busses, FMS is the standard that defines what data about the vehicle is published on the FMS bus and further on by ITxPT FMStoIP <a title="http://service.In" href="http://service.In">service.In</a> addition, vessels, trams and different bus types have proprietary data not captured by FMS.</p>
<p>According to the data centric approach from ITxPT, several of these data types (door, location, stop button etc) have been assigned separate topics as being described in this document. However, data types required by Ruter that haven’t yet been described in the MQTT structure from ITxPT, will still be handled by the general Telemetry topic that was introduced by Ruter in 2019.</p>
<p>All such data are defined by unique, 32 bit, identifiers. Data caught from the FMS bus retain their PGN numbers as the last 16 bits of the ID. Data not coming from the FMS bus follow a separate addressing scheme, with addresses allocated by Ruter on request. Please note that PTOs are free to decide if they want to use FMS or a non-FMS data source to provide the data.</p>
<p>To utilize FMS data in Ruter’s architecture, Operators can either set up an FMS2IP service or use any other means to subscribe to the FMS bus data. Note that there must be one separate MQTT message per FMS PGN.</p>
<p>The identifiers are constructed this way:</p>
<table>
<thead>
<tr>
<th>Bytes</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><strong>1</strong></td>
<td>Source identifier (0x00 FMS, 0x01 Non-FMS)</td>
</tr>
<tr>
<td><strong>2-4</strong></td>
<td>Source-specific id, e.g. FMS PGNs</td>
</tr>
</tbody></table>
<h2 id="available-non-fms-standard-data-identifiers">Available Non-FMS standard data identifiers</h2>
<p>Optional unless stated explicitly in the main ADT document.</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>Subid</th>
<th>Name</th>
<th>Value</th>
<th>Recommended refresh interval</th>
<th>Remarks</th>
</tr>
</thead>
<tbody><tr>
<td><strong>0001FF25</strong></td>
<td>10003</td>
<td>Wall Charger connected</td>
<td></td>
<td>onChange</td>
<td></td>
</tr>
<tr>
<td><strong>0001FF25</strong></td>
<td>10004</td>
<td>Fast Charger connected</td>
<td></td>
<td>onChange</td>
<td></td>
</tr>
<tr>
<td><strong>0001FF25</strong></td>
<td>10005</td>
<td>Charging Active</td>
<td></td>
<td>onChange</td>
<td></td>
</tr>
<tr>
<td><strong>01000002</strong></td>
<td></td>
<td>Temperature inside average</td>
<td>float</td>
<td>1/min</td>
<td></td>
</tr>
<tr>
<td><strong>01000005</strong></td>
<td></td>
<td>SOC</td>
<td>float</td>
<td>1/min</td>
<td></td>
</tr>
<tr>
<td><strong>01000006</strong></td>
<td></td>
<td>Transmission mode</td>
<td>combustion/electric</td>
<td>onChange</td>
<td>Intended for hybrid vehicles</td>
</tr>
<tr>
<td><strong>01000007</strong></td>
<td></td>
<td>Windscreen wiper active</td>
<td>True/false</td>
<td>onChange</td>
<td>Taken to represent a measurement of the ground truth binary rainfall state, given that it is a better predictor of the binary rainfall state than radar- or gauge-based measurements</td>
</tr>
<tr>
<td><strong>01000008</strong></td>
<td></td>
<td>Accelerometry</td>
<td></td>
<td>1/min</td>
<td>* Bandwidth &gt;= 100 hz<br> * Resolution &lt;= 0.01 g</td>
</tr>
<tr>
<td></td>
<td>xmin</td>
<td>Min x value last minute</td>
<td>g</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>xmax</td>
<td>Max x value last minute</td>
<td>g</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>xavg</td>
<td>Average x value last minute</td>
<td>g</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>ymin</td>
<td>Min y value last minute</td>
<td>g</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>ymax</td>
<td>Max y value last minute</td>
<td>g</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>yavg</td>
<td>Average y value last minute</td>
<td>g</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>zmin</td>
<td>Min z value last minute</td>
<td>g</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>zmax</td>
<td>Max z value last minute</td>
<td>g</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>zavg</td>
<td>Average z value last minute</td>
<td>g</td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>01000009</strong></td>
<td></td>
<td>Outdoor temperature</td>
<td>float</td>
<td>1/min</td>
<td>* Unit Celcius <br>* Resolution &lt;= 1 C <br>* Measured at front of vehicle as near as possible to the ground</td>
</tr>
<tr>
<td><strong>0100000A</strong></td>
<td></td>
<td>Accumulated energy consumption</td>
<td>float</td>
<td>1/min</td>
<td>* Energy consumed <br>* Including HVAC <br>* Unit: kWh</td>
</tr>
</tbody></table>
</div></div><div class="mt-2" id="operation-publish-sensors/telemetry/{sensorId}-parameters"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Parameters</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear -rotate-90 "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  block"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">sensorId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->sensorId</span></div><div><div class="prose max-w-none text-sm"><p>The sensor / telemetry Id.</p>
</div></div></div></div></div></div></div></div></div></div><div class="w-full mt-4" id="operation-publish-sensors/telemetry/{sensorId}-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">Telemetry</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v3.0/sensors/telemetry/telemetry.json</span></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier to be able to trace this message. Also used to detect duplicate messages received.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>ISO 8601, UTC.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">messageNumber</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/messageNumber</span></div><div><div class="prose max-w-none text-sm"><p>Optional. Sequence number, increased by one for each new message. Used to validate consistency in the data stream.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">id</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/id</span></div><div><div class="prose max-w-none text-sm"><p>Eight digit hex as defined above.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">payloads</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">array&lt;object&gt;</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/payloads</span></div><div><div class="prose max-w-none text-sm"><p>If FMS data or accelerometry, one payload per SPN. Else, one payload.</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">subid</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"></div><div><div class="prose max-w-none text-sm"><p>Optional. Only to be used for SPN.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">name</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"></div><div><div class="prose max-w-none text-sm"><p>Optional.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">unit</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"></div><div><div class="prose max-w-none text-sm"><p>Optional.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">value</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">any</div><div class="inline-block"></div></div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">0</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Telemetry Addressing Scheme</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">[
  {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"01000001"</span>,
    <span class="hljs-attr">"payloads"</span>: [
      {
        <span class="hljs-attr">"name"</span>: <span class="hljs-string">"All doors closed"</span>,
        <span class="hljs-attr">"value"</span>: <span class="hljs-string">"true/false"</span>
      }
    ]
  },
  {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"01000002"</span>,
    <span class="hljs-attr">"payloads"</span>: [
      {
        <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Temperature inside front"</span>,
        <span class="hljs-attr">"value"</span>: <span class="hljs-string">"float"</span>
      }
    ]
  },
  {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"01000003"</span>,
    <span class="hljs-attr">"payloads"</span>: [
      {
        <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Temperature inside middle"</span>,
        <span class="hljs-attr">"value"</span>: <span class="hljs-string">"float"</span>
      }
    ]
  },
  {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"01000004"</span>,
    <span class="hljs-attr">"payloads"</span>: [
      {
        <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Temperature inside back"</span>,
        <span class="hljs-attr">"value"</span>: <span class="hljs-string">"float"</span>
      }
    ]
  },
  {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"01000005"</span>,
    <span class="hljs-attr">"payloads"</span>: [
      {
        <span class="hljs-attr">"name"</span>: <span class="hljs-string">"SOC"</span>,
        <span class="hljs-attr">"value"</span>: <span class="hljs-string">"float"</span>
      }
    ]
  }
]
</code></pre>
</div></div></li><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#2 Example - Telemetry</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2019-10-31T12:45:50Z"</span>,
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"01000008"</span>,
  <span class="hljs-attr">"payloads"</span>: [
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"xmin"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-number">0.1</span>
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"xmax"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-number">0.2</span>
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"xavg"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-number">0.15</span>
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"ymin"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-number">-0.1</span>
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"ymax"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-number">0.2</span>
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"yavg"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-number">0.1</span>
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"zmin"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-number">0.01</span>
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"zmax"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-number">0.03</span>
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"zavg"</span>,
      <span class="hljs-attr">"value"</span>: <span class="hljs-number">0.02</span>
    }
  ]
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-publish-di/override_attempt/destination_display"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-blue-600 text-blue-500" title="publish">PUB</span> <span class="font-mono text-base">di/override_attempt/destination_display</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="destination-display-override-message">Destination Display Override Message</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>ruter/{operatorId}/{vehicleId}/di/override_attempt/destination_display</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/destination-display-override.json"> destination-display-override.json </a></td>
</tr>
</tbody></table>
</div></div></div><div class="w-full mt-4" id="operation-publish-di/override_attempt/destination_display-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">Destination Display Override Message</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v2.1/driver-interaction/destination-display-override.json</span></div><div><div class="prose max-w-none text-sm"><p>Describes a request from MADT or other GUI to manually override the information shown on the destination display. It is up to the presenting system to decide how and for how long the override will apply. A rule could be until next journey begins or a new override_attempt/destination_display is received. The topic could be blanked (provided with a zero-byte payload) to indicate that any overriding information is no longer valid and that the destination display can return to normal</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>Event Timestamp must be ISO 8601 UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">number</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/number</span></div><div><div class="prose max-w-none text-sm"><p>Numeric value representing the destination sign information to display.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">publicCode</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/publicCode</span></div><div><div class="prose max-w-none text-sm"><p>Publicly-known number of the line</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">destination</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/destination</span></div><div><div class="prose max-w-none text-sm"><p>Destination of the bus</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">alternativeMessage</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/alternativeMessage</span></div><div><div class="prose max-w-none text-sm"><p>Alternative message to be displayed on second line of display</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Destination Display Override</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2023-04-10T16:45:33.901Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"250"</span>,
  <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"  Oslo bussterminal"</span>,
  <span class="hljs-attr">"alternativeMessage"</span>: <span class="hljs-string">"  Ingen påstigning"</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-publish-oi/vehicle/unique_identifier"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-blue-600 text-blue-500" title="publish">PUB</span> <span class="font-mono text-base">oi/vehicle/unique_identifier</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="unique-identifier-message">Unique Identifier message:</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>-</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/unique-identifier.json"> unique-identifier.json </a></td>
</tr>
</tbody></table>
</div></div></div><div class="w-full mt-4" id="operation-publish-oi/vehicle/unique_identifier-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">UniqueIdentifier Message</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v2.1/operational-information/unique-identifier.json</span></div><div><div class="prose max-w-none text-sm"><p>A primary and permanent unique identifier used to represent the physical vehicle. For road vehicles: Indicates the globally unique 17 characters long alphanumeric Vehicle Identification Number (VIN) permanently attached to the vehicle. For other modes: Indicates a globally unique number of some sort permanently attached to the vehicle or if this is not possible; to the on-board system. Could be a MAC-address or other GUID.</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">value</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/value</span></div><div><div class="prose max-w-none text-sm"><p>Normally a 17 characters long alphanumeric Vehicle Identification Number (VIN) permanently attached to the vehicle by the vehicle manufacturer. For non-road vehicles where such a permanent identifier is not available or if the VIN is not known some other type of globally unique value could be used.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">typeOfValue</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/typeOfValue</span></div><div><div class="prose max-w-none text-sm"><p>Possible values in examples.</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;VIN&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;UUID&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;PIN&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;OTHER&quot;</span></li></ul></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">true</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Unique Identifier</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"value"</span>: <span class="hljs-string">"1HGCM82633A004352"</span>,
  <span class="hljs-attr">"typeOfValue"</span>: <span class="hljs-string">"VIN"</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-publish-pe/dpi_ack"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-blue-600 text-blue-500" title="publish">PUB</span> <span class="font-mono text-base">pe/dpi_ack</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="dpi-acknowledge-message">DPI Acknowledge message:</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>{operatorId}/ruter/{vehicleId}/pe/dpi/ack</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/dpi-acknowledge.json"> dpi-acknowledge.json </a></td>
</tr>
</tbody></table>
<p>The DPI Ack topic is used to inform the Ruter BO about the correct transfer and interpretation of messages to the vehicle.</p>
<p>Ruter shall receive an acknowledgment message for the following topics: </p>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Responsible for producing ack</th>
</tr>
</thead>
<tbody><tr>
<td>External display messages</td>
<td>PTO</td>
</tr>
<tr>
<td>Audio messages</td>
<td>PTO</td>
</tr>
<tr>
<td>Journey messages</td>
<td>DPI application</td>
</tr>
<tr>
<td>NextStop messages</td>
<td>DPI application</td>
</tr>
</tbody></table>
<p>The ack message should be produced as soon as the message is received and validated. This is a confirmation that the system
on board the vehicle have received the data and is capable of acting on it. </p>
<p>No confirmation message should be returned if the system is unable to playback the content. (e.g. invalid message format)</p>
</div></div></div><div class="w-full mt-4" id="operation-publish-pe/dpi_ack-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">DPIAcknowledge Message</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v2.1/proprietary-extensions/dpi-acknowledge.json</span></div><div><div class="prose max-w-none text-sm"><p>The DPI Ack topic.</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>ISO 8601</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">clientId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/clientId</span></div><div><div class="prose max-w-none text-sm"><p>The mqtt clientId of the client receiving the message. Should be persistent and not change from day to day.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">messageReceived</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/messageReceived</span></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">topic</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"></div><div><div class="prose max-w-none text-sm"><p>Local MQTT topic key of received message</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span></div><div><div class="prose max-w-none text-sm"><p>The eventTimestamp of the message received</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"></div><div><div class="prose max-w-none text-sm"><p>The traceId of the message received</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - DPI Acknowledge</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2022-10-31T12:45:50Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"2ccf77aa-463f-4b98-ad19-61ec5d213e36"</span>,
  <span class="hljs-attr">"clientId"</span>: <span class="hljs-string">"8fac6c64la4cap4b21R90d"</span>,
  <span class="hljs-attr">"messageReceived"</span>: {
    <span class="hljs-attr">"topic"</span>: <span class="hljs-string">"pe/dpi/journey"</span>,
    <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2021-10-31T12:44:10Z"</span>,
    <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"b88aaf6a-b15b-415a-8c44-ac7ad42de59e"</span>
  }
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-publish-pe/dpi_diagnostics"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-blue-600 text-blue-500" title="publish">PUB</span> <span class="font-mono text-base">pe/dpi_diagnostics</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="dpi-diagnostics-message">DPI Diagnostics message:</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>{operatorId}/ruter/{vehicleId}/pe/dpi_diagnostics</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/dpi-diagnostics.json"> dpi-diagnostics.json </a></td>
</tr>
</tbody></table>
<p>Report to PTA BO about a screen.</p>
<p>The DPI application itself produces diagnostic messages.
The payload is defined as an object with no pre-defined structure to provide flexibility.</p>
</div></div></div><div class="w-full mt-4" id="operation-publish-pe/dpi_diagnostics-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">DPI Diagnostics Message</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->http://example.com/root.json</span></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>EventTimestamp must be ISO 8601 UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">screenId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded mr-2 p-1 text-xs">must match: <!-- -->^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/screenId</span></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;ad71dba8-c881-11e8-a8d5-f2801f1b9fd1&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">type</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/type</span></div><div><div class="prose max-w-none text-sm"><p>Diagnostics type</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;INFO&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;HEARTBEAT&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;ERROR&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;STATISTICS&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;SCREEN&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/payload</span></div><div><div class="prose max-w-none text-sm"><p>Diagnostics payload, a dictionary of key/values</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are <strong>NOT</strong> allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - DPI Diagnostics</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2018-10-31T12:45:50Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"screenId"</span>: <span class="hljs-string">"ad71dba8-c881-11e8-a8d5-f2801f1b9fd1"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"STATUS"</span>,
  <span class="hljs-attr">"payload"</span>: {
    <span class="hljs-attr">"version"</span>: {
      <span class="hljs-attr">"application"</span>: <span class="hljs-string">"2018-10-03T12:45:50Z"</span>,
      <span class="hljs-attr">"media"</span>: <span class="hljs-string">"2018-10-05T12:45:50Z"</span>
    },
    <span class="hljs-attr">"display"</span>: {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"1"</span>,
      <span class="hljs-attr">"res"</span>: {
        <span class="hljs-attr">"height"</span>: <span class="hljs-number">360</span>,
        <span class="hljs-attr">"width"</span>: <span class="hljs-number">1080</span>
      }
    },
    <span class="hljs-attr">"stats"</span>: {
      <span class="hljs-attr">"logEntries"</span>: {
        <span class="hljs-attr">"error"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">"warning"</span>: <span class="hljs-number">14</span>,
        <span class="hljs-attr">"info"</span>: <span class="hljs-number">123</span>
      },
      <span class="hljs-attr">"lastLoaded"</span>: <span class="hljs-string">"2018-10-31T12:45:45Z"</span>,
      <span class="hljs-attr">"pingFreq"</span>: <span class="hljs-number">3600</span>,
      <span class="hljs-attr">"usedStorage"</span>: <span class="hljs-string">"124kb"</span>
    }
  }
}
</code></pre>
</div></div></li><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#2 Example - Diagnostics Heartbeat</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2019-10-09T10:16:07.000Z"</span>,
  <span class="hljs-attr">"clientId"</span>: <span class="hljs-string">"638f47b7-d0d4-4043-9125-2dd8db6b8a84"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"HEARTBEAT"</span>,
  <span class="hljs-attr">"payload"</span>: {
    <span class="hljs-attr">"client"</span>: {
      <span class="hljs-attr">"version"</span>: <span class="hljs-string">"2019-08-16T08-11-58Z"</span>,
      <span class="hljs-attr">"display"</span>: <span class="hljs-string">"1"</span>,
      <span class="hljs-attr">"windowHeight"</span>: <span class="hljs-number">1080</span>,
      <span class="hljs-attr">"windowWidth"</span>: <span class="hljs-number">1920</span>
    },
    <span class="hljs-attr">"routeId"</span>: <span class="hljs-string">"RUT:Route:0-54012"</span>
  }
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-publish-pe/sales/diagnostics"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-blue-600 text-blue-500" title="publish">PUB</span> <span class="font-mono text-base">pe/sales/diagnostics</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="rutersalg-diagnostics">RuterSalg diagnostics</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>ruter/{operatorId}/{vehicleId}/pe/sales/diagnostics/json</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/salediagnostics.json"> salediagnostics.json </a></td>
</tr>
</tbody></table>
<p>Diagnostics message generated by RuterSalg. More details about fields can be found at <a href="https://ruter.atlassian.net/wiki/spaces/TAAS/pages/948928517/OTA+MQTT-Meldinger+benyttet+av+Ruter+Salg">https://ruter.atlassian.net/wiki/spaces/TAAS/pages/948928517/OTA+MQTT-Meldinger+benyttet+av+Ruter+Salg</a>.</p>
<p>This topic is intended for applications interested in health status for the RuterSalg application on each bus. The health status is intended both as a real time surveillance of health status for each individual bus as well as for aggregating data per operator to see larger, more general issues. The topic can also, when enriched by other data, determine whether or not RuterSalg was used and working on a specific departure.</p>
</div></div></div><div class="w-full mt-4" id="operation-publish-pe/sales/diagnostics-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">RuterSalg Diagnostics MQTT Message</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->http://schema.ruter.no/salediagnostics.json</span></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>Time of diagnostics generated</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier to be able to trace this message. Also used to detect duplicate messages received.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">nfcReaderConnected</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">boolean</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/nfcReaderConnected</span></div><div><div class="prose max-w-none text-sm"><p>NFC reader connected</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">printerConnected</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">boolean</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/printerConnected</span></div><div><div class="prose max-w-none text-sm"><p>Printer connected</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">nodAvailable</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">boolean</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/nodAvailable</span></div><div><div class="prose max-w-none text-sm"><p>NOD available</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">sapiAvailable</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">boolean</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/sapiAvailable</span></div><div><div class="prose max-w-none text-sm"><p>SAPI available</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">loggedIn</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">boolean</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/loggedIn</span></div><div><div class="prose max-w-none text-sm"><p>User is logged in</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">printerStatus</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/printerStatus</span></div><div><div class="prose max-w-none text-sm"><p>Last status message from printer</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">journeyRef</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/journeyRef</span></div><div><div class="prose max-w-none text-sm"><p>Last journeyRef obtained by the app</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">stopPlaceId</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/stopPlaceId</span></div><div><div class="prose max-w-none text-sm"><p>StopPlaceId obtained in NextStop that triggered this diagnostics message</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are <strong>NOT</strong> allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Sales Diagnostics</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2020-04-28T13:49:50.814Z"</span>,
  <span class="hljs-attr">"nfcReaderConnected"</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">"printerConnected"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"nodAvailable"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"sapiAvailable"</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">"loggedIn"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"journeyRef"</span>: <span class="hljs-string">"42911-2020-05-25T16:42:00+02:00"</span>,
  <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:59734"</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-publish-pe/cardreader_diagnostics/vix/{deviceRef}"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-blue-600 text-blue-500" title="publish">PUB</span> <span class="font-mono text-base">pe/cardreader_diagnostics/vix/{deviceRef}</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="card-reader-diagnostics-mqtt-message">Card Reader Diagnostics MQTT Message</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>ruter/{PTO}/{vehicleID}/pe/cardreader_diagnostics/vix/{deviceRef}</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/cardreader_diagnostics.json"> cardreader_diagnostics.json </a></td>
</tr>
</tbody></table>
<p>Diagnostics message sent from any Vix-validator running Ruter-firmware in the vehicle. Can be used by both PTA and PTO to monitor the operational status of these units.</p>
</div></div><div class="mt-2" id="operation-publish-pe/cardreader_diagnostics/vix/{deviceRef}-parameters"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Parameters</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear -rotate-90 "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  block"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">deviceRef</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->deviceRef</span></div><div><div class="prose max-w-none text-sm"><p>An unique ID of the unit.</p>
</div></div></div></div></div></div></div></div></div></div><div class="w-full mt-4" id="operation-publish-pe/cardreader_diagnostics/vix/{deviceRef}-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">Card Reader Diagnostics</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v2.1/proprietary-extensions/doors-individually.json</span></div><div><div class="prose max-w-none text-sm"><p>Diagnostics message sent from any Vix-validator running Ruter-firmware in the vehicle. Can be used by both PTA and PTO to monitor the operational status of these units.</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>Event timestamp must be ISO 8601 UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">deviceRef</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/deviceRef</span></div><div><div class="prose max-w-none text-sm"><p>An unique ID of the unit. This value is appended to the published topic.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">inService</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">boolean</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/inService</span></div><div><div class="prose max-w-none text-sm"><p>True if cardreader is in service.</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;true&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;false&quot;</span></li></ul></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">0</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Card Reader Diagnostics</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2022-05-24T07:00:25Z"</span>,
  <span class="hljs-attr">"deviceRef"</span>: <span class="hljs-string">"RUT1234"</span>,
  <span class="hljs-attr">"inService"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-subscribe-di/available_destination_displays"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-green-600 text-green-600" title="subscribe">SUB</span> <span class="font-mono text-base">di/available_destination_displays</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="availabledestinationdisplays-message">AvailableDestinationDisplays Message</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>{operatorId}/ruter/{vehicleId}/di/available_destination_displays</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/available-destination-displays.json"> available-destination-displays.json </a></td>
</tr>
</tbody></table>
<p>Provides a list of available destination displays for a vehicle. The list should be used for external displays, in case
the vehicle has lost connection to the backoffice.</p>
</div></div></div><div class="w-full mt-4" id="operation-subscribe-di/available_destination_displays-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">Assignment Attempt Message</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v2.1/driver-interaction/available-destination-displays.json</span></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>ISO 8601, UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">availableDestinationDisplays</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">array&lt;object&gt;</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/availableDestinationDisplays</span></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">publicCode</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/publicCode</span></div><div><div class="prose max-w-none text-sm"><p>Publically-known number of the line</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">destination</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/destination</span></div><div><div class="prose max-w-none text-sm"><p>Destination of the bus</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">alternativeMessage</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/alternativeMessage</span></div><div><div class="prose max-w-none text-sm"><p>Alternative message to be displayed on second line of display</p>
</div></div></div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">true</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Available Destination Displays</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2020-10-31T12:45:50Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"availableDestinationDisplays"</span>: [
    {
      <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"20"</span>,
      <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"  Galgeberg"</span>
    },
    {
      <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"  Ikke i trafikk "</span>
    },
    {
      <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"N160"</span>,
      <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"  Oslo Bussterminal"</span>,
      <span class="hljs-attr">"alternativeMessage"</span>: <span class="hljs-string">"  Ingen påstigning"</span>
    }
  ]
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-subscribe-di/operational_message_to_driver"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-green-600 text-green-600" title="subscribe">SUB</span> <span class="font-mono text-base">di/operational_message_to_driver</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="operationalmessagetodriver-message">OperationalMessageToDriver Message</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>{operatorId}/ruter/{vehicleId}/di/operational_message_to_driver</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/operational-message-to-driver.json"> operational-message-to-driver.json </a></td>
</tr>
</tbody></table>
<p>Provides an operational message directed to the driver onboard this vehicle. Direction: From back-office to driver.</p>
</div></div></div><div class="w-full mt-4" id="operation-subscribe-di/operational_message_to_driver-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">OperationalMessageToDriver Message</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v2.1/driver-interaction/operational-message-to-driver.json</span></div><div><div class="prose max-w-none text-sm"><p>Operational message to driver</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">heading</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/heading</span></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">body</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/body</span></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">senderRef</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/senderRef</span></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">atDateTime</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/atDateTime</span></div><div><div class="prose max-w-none text-sm"><p>ISO 8601</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - OperationalMessageToDriver</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"heading"</span>: <span class="hljs-string">"Emergency repair"</span>,
  <span class="hljs-attr">"body"</span>: <span class="hljs-string">"Service personnel will meet at terminus to adjust door mechanism."</span>,
  <span class="hljs-attr">"senderRef"</span>: <span class="hljs-string">"Garage maintenance"</span>,
  <span class="hljs-attr">"atDateTime"</span>: <span class="hljs-string">"2020-10-31T12:45:50Z"</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-subscribe-ei/audio_message"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-green-600 text-green-600" title="subscribe">SUB</span> <span class="font-mono text-base">ei/audio_message</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="audio-message">Audio message:</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>{operatorId}/ruter/{vehicleId}/ei/audio_message</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/audio.json"> audio.json </a></td>
</tr>
</tbody></table>
<p>Topic used exclusively to transmit audio messages to be played by the speaker system. The audio messages may contain an array of sound bites, that are to be played in the sequence they have been received. </p>
</div></div></div><div class="w-full mt-4" id="operation-subscribe-ei/audio_message-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">Audio MQTT Message</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v2.1/extended-information/audio-message.json</span></div><div><div class="prose max-w-none text-sm"><p>This topic provides an audio message intended for passengers onboard the vehicle that should be played on speaker(s) defined in the speaker property of the payload.</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventDateTime</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventDateTime</span></div><div><div class="prose max-w-none text-sm"><p>ISO 8601, UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">expiryDateTime</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/expiryDateTime</span></div><div><div class="prose max-w-none text-sm"><p>Do not present this information after this time. ISO 8601, UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">preferredStartDateTime</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/preferredStartDateTime</span></div><div><div class="prose max-w-none text-sm"><p>ISO 8601, UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">ref</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">any</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/ref</span></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">audio</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">array&lt;object&gt;</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/audio</span></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">encoding</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"></div><div><div class="prose max-w-none text-sm"><p>Optional. Audio message encoding</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;MP3&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;OPUS&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">content</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"></div><div><div class="prose max-w-none text-sm"><p>Optional. BASE64 encoded binary data. Do not use if contentURL is defined</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">contentURL</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"></div><div><div class="prose max-w-none text-sm"><p>Optional. Location of content. Do not use if content is defined.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">speaker</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"></div><div><div class="prose max-w-none text-sm"><p>Speaker the audio is intended for</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;INTERNAL&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;EXTERNAL&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;DRIVER&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">volume</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"></div><div><div class="prose max-w-none text-sm"><p>Volume in dB</p>
</div></div></div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Audio MP3</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventDateTime"</span>: <span class="hljs-string">"2018-11-13T11:40:02.749Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"expiryDateTime"</span>: <span class="hljs-string">"2018-11-13T08:40:32.249Z"</span>,
  <span class="hljs-attr">"preferredStartDateTime"</span>: <span class="hljs-string">"2018-11-13T08:39:32.749Z"</span>,
  <span class="hljs-attr">"ref"</span>: <span class="hljs-string">"RUT:StopPlace:03012453"</span>,
  <span class="hljs-attr">"audio"</span>: [
    {
      <span class="hljs-attr">"encoding"</span>: <span class="hljs-string">"MP3"</span>,
      <span class="hljs-attr">"content"</span>: <span class="hljs-string">"SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU3..."</span>,
      <span class="hljs-attr">"speaker"</span>: <span class="hljs-string">"INTERNAL"</span>,
      <span class="hljs-attr">"volume"</span>: <span class="hljs-number">70</span>
    },
    {
      <span class="hljs-attr">"encoding"</span>: <span class="hljs-string">"MP3"</span>,
      <span class="hljs-attr">"content"</span>: <span class="hljs-string">"SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU3..."</span>,
      <span class="hljs-attr">"speaker"</span>: <span class="hljs-string">"INTERNAL"</span>,
      <span class="hljs-attr">"volume"</span>: <span class="hljs-number">70</span>
    }
  ]
}
</code></pre>
</div></div></li><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#2 Example - Audio local files</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventDateTime"</span>: <span class="hljs-string">"2018-11-13T11:40:02.749Z"</span>,
  <span class="hljs-attr">"expiryDateTime"</span>: <span class="hljs-string">"2018-11-13T08:40:32.249Z"</span>,
  <span class="hljs-attr">"preferredStartDateTime"</span>: <span class="hljs-string">"2018-11-13T08:39:32.749Z"</span>,
  <span class="hljs-attr">"ref"</span>: <span class="hljs-string">"RUT:StopPlace:03012453"</span>,
  <span class="hljs-attr">"audio"</span>: [
    {
      <span class="hljs-attr">"encoding"</span>: <span class="hljs-string">"OPUS"</span>,
      <span class="hljs-attr">"contentUrl"</span>: <span class="hljs-string">"\\soundserver\\path\\to\\file"</span>,
      <span class="hljs-attr">"speaker"</span>: <span class="hljs-string">"INTERNAL"</span>,
      <span class="hljs-attr">"volume"</span>: <span class="hljs-number">70</span>
    },
    {
      <span class="hljs-attr">"encoding"</span>: <span class="hljs-string">"MP3"</span>,
      <span class="hljs-attr">"content"</span>: <span class="hljs-string">"SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU3..."</span>,
      <span class="hljs-attr">"speaker"</span>: <span class="hljs-string">"INTERNAL"</span>,
      <span class="hljs-attr">"volume"</span>: <span class="hljs-number">70</span>
    }
  ]
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-subscribe-pe/dpi/journey"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-green-600 text-green-600" title="subscribe">SUB</span> <span class="font-mono text-base">pe/dpi/journey</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="journey-message">Journey message:</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>{operatorId}/ruter/{vehicleId}/pe/dpi/journey</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/dpi-journey.json"> dpi-journey.json </a></td>
</tr>
</tbody></table>
<p>Message containing the stops included in the journey, connections to other lines, positions ++.</p>
</div></div><ul class="leading-normal mt-2 mb-4 space-x-2 space-y-2"><li class="inline-block"><a href="https://ruterno.github.io/#/docs/ota?id=vehicle-journey" class="border border-solid border-orange-300 hover:bg-orange-300 hover:text-orange-600 text-orange-500 font-bold no-underline text-xs uppercase rounded px-3 py-1" target="_blank" rel="nofollow noopener noreferrer"><span>External Docs</span></a></li></ul></div><div class="w-full mt-4" id="operation-subscribe-pe/dpi/journey-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">Journey Message</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->http://schema.ruter.no/journey.json</span></div><div><div class="prose max-w-none text-sm"><p>List of stops for current journey in block</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>Event Timestamp must be ISO 8601 UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">journeyId</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/journeyId</span></div><div><div class="prose max-w-none text-sm"><p>Ruter's external journey id</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">journeyRef</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/journeyRef</span></div><div><div class="prose max-w-none text-sm"><p>Ruter's internal journey reference</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">routeChangeTimestamp</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/routeChangeTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>Event Timestamp must be ISO 8601 UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">route</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/route</span></div><div><div class="prose max-w-none text-sm"><p>Route information</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">id</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/route/properties/id</span></div><div><div class="prose max-w-none text-sm"><p>Route id</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">name</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/route/properties/name</span></div><div><div class="prose max-w-none text-sm"><p>Public name of route</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">line</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/route/properties/line</span></div><div><div class="prose max-w-none text-sm"><p>Line information</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">id</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/route/properties/line/properties/id</span></div><div><div class="prose max-w-none text-sm"><p>Line id</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">name</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/route/properties/line/properties/name</span></div><div><div class="prose max-w-none text-sm"><p>Public name of line</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">publicCode</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/route/properties/line/properties/publicCode</span></div><div><div class="prose max-w-none text-sm"><p>Public code of line</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are <strong>NOT</strong> allowed.</p></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">stopPlaces</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">array&lt;object&gt;</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/route/properties/stopPlaces</span></div><div><div class="prose max-w-none text-sm"><p>Ordered list of stop places on journey</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">id</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/route/properties/stopPlaces/items/properties/id</span></div><div><div class="prose max-w-none text-sm"><p>Stop place id</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">name</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/route/properties/stopPlaces/items/properties/name</span></div><div><div class="prose max-w-none text-sm"><p>Public name of stop</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">location</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/route/properties/stopPlaces/items/properties/location</span></div><div><div class="prose max-w-none text-sm"><p>Coordinates of stop place</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">latitude</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="bg-purple-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">[ -90 .. 90 ]</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/route/properties/stopPlaces/items/properties/location/properties/latitude</span></div><div><div class="prose max-w-none text-sm"><p>Latitude</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">longitude</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="bg-purple-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">[ -180 .. 180 ]</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/route/properties/stopPlaces/items/properties/location/properties/longitude</span></div><div><div class="prose max-w-none text-sm"><p>Longitude</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are <strong>NOT</strong> allowed.</p></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">tariffZones</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">array&lt;string&gt;</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/route/properties/stopPlaces/items/properties/tariffZones</span></div><div><div class="prose max-w-none text-sm"><p>List of tariff zones for the specific stop.</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm ">Items:</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"></div></div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">description</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/route/properties/stopPlaces/items/properties/description</span></div><div><div class="prose max-w-none text-sm"><p>Description for travelers</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">publicCode</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/route/properties/stopPlaces/items/properties/publicCode</span></div><div><div class="prose max-w-none text-sm"><p>Public code for a stop</p>
</div></div></div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are <strong>NOT</strong> allowed.</p></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are <strong>NOT</strong> allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">true</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Journey</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2017-10-31T08:38:02.749Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-117215-13227462"</span>,
  <span class="hljs-attr">"journeyRef"</span>: <span class="hljs-string">"31001-2019-02-17T21:55:00+01:00"</span>,
  <span class="hljs-attr">"route"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Route:31-1041"</span>,
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Fornebu vest-Tonsenhagen"</span>,
    <span class="hljs-attr">"line"</span>: {
      <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:31"</span>,
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Snarøya - Fornebu - Tonsenhagen - Grorud"</span>,
      <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"31"</span>
    },
    <span class="hljs-attr">"stopPlaces"</span>: [
      {
        <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:StopPlace:02190017"</span>,
        <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Fornebu vest"</span>,
        <span class="hljs-attr">"location"</span>: {
          <span class="hljs-attr">"latitude"</span>: <span class="hljs-number">12.33345</span>,
          <span class="hljs-attr">"longitude"</span>: <span class="hljs-number">12.33345</span>
        },
        <span class="hljs-attr">"tariffZones"</span>: [
          <span class="hljs-string">"OST:TariffZone:227"</span>,
          <span class="hljs-string">"RUT:TariffZone:1"</span>
        ]
      },
      {
        <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:StopPlace:03010013"</span>,
        <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Jernbanetorget"</span>,
        <span class="hljs-attr">"location"</span>: {
          <span class="hljs-attr">"latitude"</span>: <span class="hljs-number">12.33345</span>,
          <span class="hljs-attr">"longitude"</span>: <span class="hljs-number">12.33345</span>
        },
        <span class="hljs-attr">"tariffZones"</span>: [
          <span class="hljs-string">"RUT:TariffZone:1"</span>
        ]
      }
    ]
  }
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-subscribe-pe/dpi/nextstop"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-green-600 text-green-600" title="subscribe">SUB</span> <span class="font-mono text-base">pe/dpi/nextstop</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="next-stop-message">Next Stop message:</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>{operatorId}/ruter/{vehicleId}/pe/dpi/nextstop</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/dpi-nextstop.json"> dpi-nextstop.json </a></td>
</tr>
</tbody></table>
<p>Next stop on the buss route after leaving a stop.</p>
</div></div></div><div class="w-full mt-4" id="operation-subscribe-pe/dpi/nextstop-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">Next Stop MQTT Message</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->http://schema.ruter.no/nextstop.json</span></div><div><div class="prose max-w-none text-sm"><p>Notification that vehicle has a new next stop</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>EventTimestamp must be ISO 8601 UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">stopPlaceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/stopPlaceId</span></div><div><div class="prose max-w-none text-sm"><p>Stop place id</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">index</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">integer</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/index</span></div><div><div class="prose max-w-none text-sm"><p>Index of stop place in journey data</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are <strong>NOT</strong> allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">true</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - NextStop</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2017-10-31T08:38:02.749Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"RUT:StopPlace:03012453"</span>,
  <span class="hljs-attr">"index"</span>: <span class="hljs-number">0</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-subscribe-pe/dpi/eta"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-green-600 text-green-600" title="subscribe">SUB</span> <span class="font-mono text-base">pe/dpi/eta</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="eta-message">ETA message:</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>{operatorId}/ruter/{vehicleId}/pe/dpi/eta</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/dpi-eta.json"> dpi-eta.json </a></td>
</tr>
</tbody></table>
<p>Estimated arrival at the remaining stops.</p>
</div></div></div><div class="w-full mt-4" id="operation-subscribe-pe/dpi/eta-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">ETA MQTT Message</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->http://schema.ruter.no/eta.json</span></div><div><div class="prose max-w-none text-sm"><p>Estimated time of arrival for future stops on a journey</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>Event timestamp must be ISO 8601 UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">estimatedCalls</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">array&lt;object&gt;</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/estimatedCalls</span></div><div><div class="prose max-w-none text-sm"><p>List of ETAs for remaining stops on route</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eta</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/estimatedCalls/items/properties/eta</span></div><div><div class="prose max-w-none text-sm"><p>EventTimestamp must be ISO 8601 UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">stopPlaceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/estimatedCalls/items/properties/stopPlaceId</span></div><div><div class="prose max-w-none text-sm"><p>Stop Place Id</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">text</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/estimatedCalls/items/properties/text</span></div><div><div class="prose max-w-none text-sm"><p>Display text for arrival time</p>
</div></div></div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Eta</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2017-10-31T08:38:02.749Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"estimatedCalls"</span>: [
    {
      <span class="hljs-attr">"eta"</span>: <span class="hljs-string">"2017-10-13T12:27:04.416Z"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"RUT:StopPlace:03010510"</span>,
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">"Nå"</span>
    },
    {
      <span class="hljs-attr">"eta"</span>: <span class="hljs-string">"2017-10-13T12:27:04.416Z"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"RUT:StopPlace:03010511"</span>,
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">"1 Min"</span>
    }
  ]
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-subscribe-pe/dpi/externaldisplay"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-green-600 text-green-600" title="subscribe">SUB</span> <span class="font-mono text-base">pe/dpi/externaldisplay</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="external-display-message">External Display message:</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>{operatorId}/ruter/{vehicleId}/pe/dpi/externaldisplay</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/dpi-externaldisplay.json"> dpi-externaldisplay.json </a></td>
</tr>
</tbody></table>
<p>Message to be shown on the external destination display. Usually line number (publicCode) and routeName, with support for alternative message.      </p>
</div></div></div><div class="w-full mt-4" id="operation-subscribe-pe/dpi/externaldisplay-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">External Display MQTT Message</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->http://schema.ruter.no/externaldisplay.json</span></div><div><div class="prose max-w-none text-sm"><p>Notification that the external displays should show new destination information</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>Event timestamp must be ISO 8601 UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">publicCode</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/publicCode</span></div><div><div class="prose max-w-none text-sm"><p>Publically-known number of the line</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">destination</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/destination</span></div><div><div class="prose max-w-none text-sm"><p>Destination of the bus</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">alternativeMessage</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/alternativeMessage</span></div><div><div class="prose max-w-none text-sm"><p>Alternative message to be displayed on second line of display</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are <strong>NOT</strong> allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">true</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - External Display</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2017-10-31T08:38:02.749Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"20"</span>,
  <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Galgeberg"</span>,
  <span class="hljs-attr">"alternativeMessage"</span>: <span class="hljs-string">"Duis aute irure dolor"</span>
}
</code></pre>
</div></div></li><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#2 Example - External Display - Deadrun</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2021-03-04T15:08:07.519Z"</span>,
  <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Ikke i trafikk"</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-subscribe-pe/dpi/pa"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-green-600 text-green-600" title="subscribe">SUB</span> <span class="font-mono text-base">pe/dpi/pa</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="passenger-announcement-message">Passenger Announcement message:</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>{operatorId}/ruter/{vehicleId}/pe/dpi/pa</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/dpi-pa.json"> dpi-pa.json </a></td>
</tr>
</tbody></table>
<p>Message to be shown on internal displays. May contain references to videos, html, images, text etc.       </p>
</div></div></div><div class="w-full mt-4" id="operation-subscribe-pe/dpi/pa-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">Passenger Announcement message</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schema.ruter.no/pamessage.json</span></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>EventTimestamp must be ISO 8601 UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">ref</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/ref</span></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;757fd8b4-2e57-4ad3-9aee-76e793c514d9&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">content</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">array&lt;object&gt;</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/content</span></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">type</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/content/items/type</span></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;VIDEO&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;IMAGE&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;HTML&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;TEXT&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">duration</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">integer</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/content/items/duration</span></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>10</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">src</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/content/items/src</span></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;../media/1080p_Ruter_Takk.mp4&quot;</span></li></ul></div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are <strong>NOT</strong> allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">true</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Passenger Announcement - Video</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2022-05-09T13:27:59.624Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"ref"</span>: <span class="hljs-string">"757fd8b4-2e57-4ad3-9aee-76e793c514d9"</span>,
  <span class="hljs-attr">"content"</span>: [
    {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"VIDEO"</span>,
      <span class="hljs-attr">"duration"</span>: <span class="hljs-number">10</span>,
      <span class="hljs-attr">"src"</span>: <span class="hljs-string">"../media/1080p_Ruter_Takk.mp4"</span>
    }
  ]
}
</code></pre>
</div></div></li><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#2 Example - Passenger Announcement - Multiple contents</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2022-05-09T13:27:59.624Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"ref"</span>: <span class="hljs-string">"757fd8b4-2e57-4ad3-9aee-76e793c514d9"</span>,
  <span class="hljs-attr">"content"</span>: [
    {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"IMAGE"</span>,
      <span class="hljs-attr">"duration"</span>: <span class="hljs-number">5</span>,
      <span class="hljs-attr">"src"</span>: <span class="hljs-string">"../media/logo.png"</span>
    },
    {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"HTML"</span>,
      <span class="hljs-attr">"duration"</span>: <span class="hljs-number">10</span>,
      <span class="hljs-attr">"src"</span>: <span class="hljs-string">"../media/kampanje.html"</span>
    }
  ]
}
</code></pre>
</div></div></li><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#3 Example - Passenger Announcement - Text</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2022-05-09T13:27:59.624Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"ref"</span>: <span class="hljs-string">"757fd8b4-2e57-4ad3-9aee-76e793c514d9"</span>,
  <span class="hljs-attr">"content"</span>: [
    {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"TEXT"</span>,
      <span class="hljs-attr">"duration"</span>: <span class="hljs-number">10</span>,
      <span class="hljs-attr">"colorScheme"</span>: <span class="hljs-string">"INFO"</span>,
      <span class="hljs-attr">"icon"</span>: <span class="hljs-string">"ARROW_UP"</span>,
      <span class="hljs-attr">"iconAnchor"</span>: <span class="hljs-string">"LEFT"</span>,
      <span class="hljs-attr">"message"</span>: {
        <span class="hljs-attr">"no"</span>: {
          <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Tittel på melding"</span>,
          <span class="hljs-attr">"paragraphs"</span>: [
            <span class="hljs-string">"En tekst"</span>,
            <span class="hljs-string">"En annen tekst"</span>
          ]
        }
      }
    }
  ]
}
</code></pre>
</div></div></li><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#4 Example - Passenger Announcement - Clear display</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimeStamp"</span>: <span class="hljs-string">"2022-05-09T13:27:58.772562Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"ref"</span>: <span class="hljs-string">"CLEAR_SCREEN"</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-subscribe-pe/dpi/arriving"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-green-600 text-green-600" title="subscribe">SUB</span> <span class="font-mono text-base">pe/dpi/arriving</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="arriving-message">Arriving message:</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>{operatorId}/ruter/{vehicleId}/pe/dpi/arriving</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/dpi-arriving.json"> dpi-arriving.json </a></td>
</tr>
</tbody></table>
<p>Notice to passengers that the bus is approaching a stop.      </p>
</div></div></div><div class="w-full mt-4" id="operation-subscribe-pe/dpi/arriving-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">Arriving Message</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->http://schema.ruter.no/arriving.json</span></div><div><div class="prose max-w-none text-sm"><p>For display of arriving information to passengers</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>Event timestamp must be ISO 8601 UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">expiryTimestamp</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/expiryimestamp</span></div><div><div class="prose max-w-none text-sm"><p>Expiry timestamp must be ISO 8601 UTC, do not play or display after</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">ref</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/ref</span></div><div><div class="prose max-w-none text-sm"><p>Reference to stop place id</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">message</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/message</span></div><div><div class="prose max-w-none text-sm"><p>Message for one or more language</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">^[a-z]{2}(-[a-z]{2})?$</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-gray-500 text-xs italic">(pattern property)</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/message/patternProperties/multilingualMessage</span></div><div><div class="prose max-w-none text-sm"><p>A multilingual message</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">title</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/message/patternProperties/multilingualMessage/properties/title</span></div><div><div class="prose max-w-none text-sm"><p>Title</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">text</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/message/patternProperties/multilingualMessage/properties/text</span></div><div><div class="prose max-w-none text-sm"><p>Body text</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are <strong>NOT</strong> allowed.</p></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are <strong>NOT</strong> allowed.</p></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">zoneId</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/zoneId</span></div><div><div class="prose max-w-none text-sm"><p>Fare zone of next stop</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are <strong>NOT</strong> allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Arriving</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2017-10-31T08:38:02.749Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"expiryTimestamp"</span>: <span class="hljs-string">"2017-10-31T08:38:47.749Z"</span>,
  <span class="hljs-attr">"ref"</span>: <span class="hljs-string">"RUT:StopPlace:03012453"</span>,
  <span class="hljs-attr">"zoneId"</span>: <span class="hljs-string">"2b-vest"</span>,
  <span class="hljs-attr">"message"</span>: {
    <span class="hljs-attr">"no"</span>: {
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">"Ankommer Jernbanetorget"</span>
    },
    <span class="hljs-attr">"en"</span>: {
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">"Arriving at Jerbanetorget"</span>
    }
  }
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-subscribe-pe/dpi/connections"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-green-600 text-green-600" title="subscribe">SUB</span> <span class="font-mono text-base">pe/dpi/connections</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="connections-message">Connections message:</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>{operatorId}/ruter/{vehicleId}/pe/dpi/connections</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/dpi-connections.json"> dpi-connections.json </a></td>
</tr>
</tbody></table>
<p>List of connections for the remaining stops on a journey with expected departures.</p>
</div></div></div><div class="w-full mt-4" id="operation-subscribe-pe/dpi/connections-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">The Connections Schema</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->http://schema.ruter.no/connections.json</span></div><div><div class="prose max-w-none text-sm"><p>This schema defines the connection message sent as an MQTT message to buses</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>Time in ISO 8601 timestamp format when this message was produced</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;2020-03-10T20:56:44.864401Z&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">expiryTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/expiryTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>Time in ISO 8601 timestamp format after which this message is invalid</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;2020-03-10T21:01:44.864401Z&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">nextStop</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/nextStop</span></div><div><div class="prose max-w-none text-sm"><p>The ids of the next stop that this message is valid for</p>
</div></div><div class="text-xs">Default value:<span class="border inline-block text-orange-600 rounded ml-1 py-0 px-2">{}</span></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">stopPlaceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/nextStop/properties/stopPlaceId</span></div><div><div class="prose max-w-none text-sm"><p>NSR stop place id for the next stop</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;NSR:StopPlace:3799&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">quayId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/nextStop/properties/quayId</span></div><div><div class="prose max-w-none text-sm"><p>NSR quay id for the next stop</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;NSR:Quay:6801&quot;</span></li></ul></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">journeyId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/journeyId</span></div><div><div class="prose max-w-none text-sm"><p>An explanation about the purpose of this instance.</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;RUT:ServiceJourney:160-137140-16254500&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">routeId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/routeId</span></div><div><div class="prose max-w-none text-sm"><p>The route id, which corresponds to the route id in the journey message</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;RUT:Route:160-3504&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">calls</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">array&lt;object&gt;</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls</span></div><div><div class="prose max-w-none text-sm"><p>An array of the remaining calls on a journey, including the current next stop</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">name</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/name</span></div><div><div class="prose max-w-none text-sm"><p>Name of stop place (optional)</p>
</div></div><div class="text-xs">Default value:<span class="border inline-block text-orange-600 rounded ml-1 py-0 px-2">null</span></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;Kveldsroveien&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">stopPlaceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/stopPlaceId</span></div><div><div class="prose max-w-none text-sm"><p>NSR stop place id</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;NSR:StopPlace:3799&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">quayId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/quayId</span></div><div><div class="prose max-w-none text-sm"><p>NSR quay id</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;NSR:Quay:6801&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">index</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">integer</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/index</span></div><div><div class="prose max-w-none text-sm"><p>Index to stop's position in the journey</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">connections</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">array&lt;object&gt;</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/connections</span></div><div><div class="prose max-w-none text-sm"><p>A list of connections by line/direction</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">line</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/connections/items/properties/line</span></div><div><div class="prose max-w-none text-sm"><p>Line information</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">id</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/connections/items/properties/line/properties/id</span></div><div><div class="prose max-w-none text-sm"><p>Ruter's id for the line</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;RUT:Line:31&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">publicCode</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/connections/items/properties/line/properties/publicCode</span></div><div><div class="prose max-w-none text-sm"><p>The publically visible identifier for this line</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;31&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">transportMode</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/connections/items/properties/line/properties/transportMode</span></div><div><div class="prose max-w-none text-sm"><p>Transport mode</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;bus&quot;</span></li></ul></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">direction</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/connections/items/properties/direction</span></div><div><div class="prose max-w-none text-sm"><p>An indicator of direction for a line</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;1&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;2&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">quay</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/connections/items/properties/quay</span></div><div><div class="prose max-w-none text-sm"><p>Information about where the connection departs from</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">id</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/connections/items/properties/quay/properties/id</span></div><div><div class="prose max-w-none text-sm"><p>NSR id for the quay</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;NSR:Quay:3131&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">publicCode</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/connections/items/properties/quay/properties/publicCode</span></div><div><div class="prose max-w-none text-sm"><p>The publically visible identifier for this quay</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;A&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">description</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/connections/items/properties/quay/properties/description</span></div><div><div class="prose max-w-none text-sm"><p>Description of where quay is located</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;I Kirkeveien&quot;</span></li></ul></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">departures</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">array&lt;object&gt;</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/connections/items/properties/departures</span></div><div><div class="prose max-w-none text-sm"><p>A list of departures for the line/direction (empty if there are none)</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">destination</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/connections/items/properties/departures/items/properties/destination</span></div><div><div class="prose max-w-none text-sm"><p>Visible destination of bus</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;Bygdøy&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">via</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/connections/items/properties/departures/items/properties/destination</span></div><div><div class="prose max-w-none text-sm"><p>Visible via information of bus (optional)</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;Bydøysnes&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">text</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/connections/items/properties/departures/items/properties/display</span></div><div><div class="prose max-w-none text-sm"><p>Display text for departure time</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;5 min&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;14:55&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">departureTime</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/connections/items/properties/departures/items/properties/departureTime</span></div><div><div class="prose max-w-none text-sm"><p>Expected departure time for UTC in ISO 8601 date/time format</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;2020-03-10T21:02:00Z&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">delay</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/connections/items/properties/departures/items/properties/delay</span></div><div><div class="prose max-w-none text-sm"><p>Recorded delay for the departure in ISO 8601 duration format</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;PT0S&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">journeyId</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/calls/items/properties/connections/items/properties/departures/items/properties/journeyId</span></div><div><div class="prose max-w-none text-sm"><p>Journey id of the bus making the call</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;RUT:ServiceJourney:31-138571-15639955&quot;</span></li></ul></div></div></div></div></div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Connections</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2020-03-16T14:30:08.762206Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"expiryTimestamp"</span>: <span class="hljs-string">"2020-03-16T14:35:08.762206Z"</span>,
  <span class="hljs-attr">"nextStop"</span>: {
    <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:6498"</span>,
    <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:11950"</span>
  },
  <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:60-138542-15631728"</span>,
  <span class="hljs-attr">"routeId"</span>: <span class="hljs-string">"RUT:Route:60-4"</span>,
  <span class="hljs-attr">"calls"</span>: [
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Tøyenkirken"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:6498"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:11950"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">4</span>,
      <span class="hljs-attr">"connections"</span>: []
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Tøyen skole"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:6480"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:11910"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">5</span>,
      <span class="hljs-attr">"connections"</span>: []
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Tøyen"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:6478"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:11908"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">6</span>,
      <span class="hljs-attr">"connections"</span>: [
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:20"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"20"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Galgeberg"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"5 min"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:35:37Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT1M37S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:20-131531-15685688"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Galgeberg"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"10 min"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:40:58Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT1M58S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:20-131531-15685689"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Galgeberg"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:45"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:45:09Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT1M9S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:20-131531-15685690"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:20"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"20"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:11906"</span>,
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"i Kjølberggata"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Skøyen"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"3 min"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:34:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:20-131531-15685534"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Skøyen"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"8 min"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:39:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:20-131531-15685535"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Skøyen"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"13 min"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:44:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:20-131531-15685536"</span>
            }
          ]
        }
      ]
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Brinken"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:6562"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:12119"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">7</span>,
      <span class="hljs-attr">"connections"</span>: []
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Kampen kirke"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:6564"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:12123"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">8</span>,
      <span class="hljs-attr">"connections"</span>: []
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Kampen park"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:6571"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:12135"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">9</span>,
      <span class="hljs-attr">"connections"</span>: []
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Ensjøveien"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:6046"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:11097"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">10</span>,
      <span class="hljs-attr">"connections"</span>: []
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Tøyen stasjon"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:6044"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:11092"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">11</span>,
      <span class="hljs-attr">"connections"</span>: []
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Hasle kirke"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:6049"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:11101"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">12</span>,
      <span class="hljs-attr">"connections"</span>: []
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Hasle"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:6031"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:11076"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">13</span>,
      <span class="hljs-attr">"connections"</span>: [
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:21"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"21"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:11069"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"D"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Helsfyr T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"13 min"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:44:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:21-131531-15685155"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Helsfyr T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:49"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:49:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:21-131531-15685156"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Helsfyr T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:54"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:54:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:21-131531-15685157"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:21"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"21"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:11070"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"C"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Tjuvholmen"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"13 min"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:44:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:21-131531-15685274"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Tjuvholmen"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:49"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:49:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:21-131531-15685275"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Tjuvholmen"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:54"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:54:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:21-131531-15685276"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:28"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"28"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:11075"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"B"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Fornebu"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:47"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:47:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:28-131531-15685026"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Fornebu"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:54"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:54:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:28-131531-15685039"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Fornebu"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:02"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:02:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:28-131531-15685027"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:28"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"28"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Økern T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:48"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:48:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:28-131531-15685014"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Økern T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:57"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:57:43Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT1M43S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:28-131531-15685006"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Økern T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:03"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:03:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:28-131531-15685015"</span>
            }
          ]
        }
      ]
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Haslevangen"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:6036"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:11080"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">14</span>,
      <span class="hljs-attr">"connections"</span>: [
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:28"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"28"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Økern T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:49"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:49:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:28-131531-15685014"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Økern T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:58"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:58:43Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT1M43S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:28-131531-15685006"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Økern T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:04"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:04:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:28-131531-15685015"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:28"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"28"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:11079"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Fornebu"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:46"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:46:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:28-131531-15685026"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Fornebu"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:53"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:53:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:28-131531-15685039"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Fornebu"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:01"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:01:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:28-131531-15685027"</span>
            }
          ]
        }
      ]
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Økern"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:5907"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:10835"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">15</span>,
      <span class="hljs-attr">"connections"</span>: [
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:23"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"23"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:10834"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"B"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Simensbråten"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:55"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:55:18Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT18S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:23-137908-16794834"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Simensbråten"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:05"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:05:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:23-137908-16794835"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Simensbråten"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:15"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:15:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:23-137908-16794836"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:23"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"23"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:10832"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"A"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Lysaker"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:06"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:06:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:23-137908-16794741"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Lysaker"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:56"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:56:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:23-137908-16794740"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Lysaker"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:16"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:16:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:23-137908-16794742"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:24"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"24"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:10834"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"B"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Brynseng T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:55"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:55:46Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT5M46S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:24-137908-16794944"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Brynseng T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:00"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:00:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:24-137908-16794945"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Brynseng T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:10"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:10:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:24-137908-16794946"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:24"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"24"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:10832"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"A"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Fornebu"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:11"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:11:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:24-137908-16794982"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Fornebu"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:41"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:41:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:24-137908-16794985"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Fornebu"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:31"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:31:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:24-137908-16794984"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:28"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"28"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:10832"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"A"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Fornebu"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:43"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:43:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:28-131531-15685030"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Fornebu"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:05"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:05:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:28-131531-15685040"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Fornebu"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:35"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:35:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:28-131531-15685042"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:345"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"345"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Vestvollen"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:50"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:50:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:345-138458-16752823"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Vestvollen"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:00"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:00:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:345-138458-16752806"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Vestvollen"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:01"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:01:22Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT21M22S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:345-138458-16752805"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:67"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"67"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Lørenskog sentrum"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:51"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:51:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:67-138542-15631987"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Lørenskog sentrum"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:01"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:01:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:67-138542-15631988"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Lørenskog sentrum"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:11"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:11:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:67-138542-15631989"</span>
            }
          ]
        }
      ]
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Økern næringspark"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:5916"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:10849"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">16</span>,
      <span class="hljs-attr">"connections"</span>: []
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Lånekassen"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:5918"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:10852"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">17</span>,
      <span class="hljs-attr">"connections"</span>: []
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Nedre Risløkka"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:5928"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:10872"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">18</span>,
      <span class="hljs-attr">"connections"</span>: []
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Rabbeveien"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:5930"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:10875"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">19</span>,
      <span class="hljs-attr">"connections"</span>: []
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Anton Tschudis vei"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:5932"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:10878"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">20</span>,
      <span class="hljs-attr">"connections"</span>: []
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Kroklia"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:5941"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:10894"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">21</span>,
      <span class="hljs-attr">"connections"</span>: []
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Øvre Risløkka"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:5943"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:10898"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">22</span>,
      <span class="hljs-attr">"connections"</span>: []
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Økernbråten"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:5945"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:10902"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">23</span>,
      <span class="hljs-attr">"connections"</span>: [
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:58"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"58"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:10901"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Tveita T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"15:57"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T14:57:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:58-138542-17261911"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Tveita T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:12"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:12:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:58-138542-17261912"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Tveita T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:27"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:27:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:58-138542-17261913"</span>
            }
          ]
        }
      ]
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Linne hotell"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:5952"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:10916"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">24</span>,
      <span class="hljs-attr">"connections"</span>: []
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Linderud T"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:5950"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:10911"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">25</span>,
      <span class="hljs-attr">"connections"</span>: []
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Veitvetstubben"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:5967"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:10946"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">26</span>,
      <span class="hljs-attr">"connections"</span>: []
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Linderud senter"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:5974"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:10960"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">27</span>,
      <span class="hljs-attr">"connections"</span>: [
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:25"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"25"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:10959"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Lørenskog stasjon"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:02"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:02:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:25-138571-16843154"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Lørenskog stasjon"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:09"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:09:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:25-138571-16843009"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Lørenskog stasjon"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:17"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:17:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:25-138571-16843010"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:31"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"31"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:10959"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Grorud T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:04"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:04:11Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT2M11S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-138571-15639652"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Grorud T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:12"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:12:01Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT1H10M1S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-138571-15639647"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Grorud T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:14"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:14:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-138571-15639653"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:33"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"33"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:10959"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Ellingsrudåsen T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:03"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:03:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:33-138542-15632327"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Ellingsrudåsen T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:18"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:18:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:33-138542-15632328"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Ellingsrudåsen T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:33"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:33:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:33-138542-15632329"</span>
            }
          ]
        }
      ]
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Linderudsletta"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:5972"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:10956"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">28</span>,
      <span class="hljs-attr">"connections"</span>: [
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:25"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"25"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Majorstuen"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:01"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:01:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:25-138571-16843093"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Majorstuen"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:09"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:09:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:25-138571-16843094"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Majorstuen"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:16"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:16:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:25-138571-16843170"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:31"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"31"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Snarøya"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:07"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:07:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-138571-15639845"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Snarøya"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:19"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:19:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-138571-15639846"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Snarøya"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:27"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:27:31Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT56M31S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-138571-15639842"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:2031"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"31E"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:10950"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Kalbakken"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:03"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:03:55Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT1M55S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:2031-138571-15640592"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Kalbakken"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:12"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:12:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:2031-138571-15640593"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Kalbakken"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:22"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:22:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:2031-138571-15640594"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:33"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"33"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Filipstad"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:09"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:09:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:33-138542-15632358"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Filipstad"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:24"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:24:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:33-138542-15632359"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Filipstad"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:39"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:39:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:33-138542-15632360"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:380"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"380"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:10955"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Oslo bussterminal"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:17"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:17:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:380-136266-16659813"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Oslo bussterminal"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:37"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:37:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:380-136266-16659814"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Oslo bussterminal"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:57"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:57:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:380-136266-16659815"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:380"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"380"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:10950"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Lillestrøm"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:17"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:17:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:380-136266-16659969"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Lillestrøm"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:37"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:37:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:380-136266-16659970"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Lillestrøm"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:57"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:57:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:380-136266-16659971"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:390"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"390"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:10950"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Kongskog"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:08"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:08:19Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT42M19S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:390-136266-16660240"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Nittedal sentrum"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:16"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:16:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:390-136266-16660219"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Nittedal sentrum"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:46"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:46:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:390-136266-16660220"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:390"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"390"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:10955"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Oslo bussterminal"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:03"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:03:04Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT1M4S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:390-136266-16660178"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Oslo bussterminal"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:17"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:17:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:390-136266-16660203"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Oslo bussterminal"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:32"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:32:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:390-136266-16660179"</span>
            }
          ]
        }
      ]
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Kolåsbakken"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:5978"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:10969"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">29</span>,
      <span class="hljs-attr">"connections"</span>: [
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:25"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"25"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:10968"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Lørenskog stasjon"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:01"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:01:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:25-138571-16843154"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Lørenskog stasjon"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:08"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:08:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:25-138571-16843009"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Lørenskog stasjon"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:16"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:16:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:25-138571-16843010"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:25"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"25"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Majorstuen"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:02"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:02:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:25-138571-16843093"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Majorstuen"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:10"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:10:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:25-138571-16843094"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Majorstuen"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:17"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:17:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:25-138571-16843170"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:31"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"31"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:10968"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Grorud T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:02"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:02:05Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT1M5S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-138571-15639652"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Grorud T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:11"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:11:01Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT1H10M1S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-138571-15639647"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Grorud T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:14"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:14:24Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT1M24S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-138571-15639653"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:31"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"31"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Snarøya"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:08"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:08:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-138571-15639845"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Snarøya"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:20"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:20:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-138571-15639846"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Snarøya"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:28"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:28:31Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT56M31S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-138571-15639842"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:33"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"33"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Filipstad"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:09"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:09:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:33-138542-15632358"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Filipstad"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:24"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:24:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:33-138542-15632359"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Filipstad"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:39"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:39:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:33-138542-15632360"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:33"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"33"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:10968"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Ellingsrudåsen T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:03"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:03:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:33-138542-15632327"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Ellingsrudåsen T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:18"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:18:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:33-138542-15632328"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Ellingsrudåsen T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:33"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:33:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:33-138542-15632329"</span>
            }
          ]
        }
      ]
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Tonsenhagen"</span>,
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:6008"</span>,
      <span class="hljs-attr">"quayId"</span>: <span class="hljs-string">"NSR:Quay:11023"</span>,
      <span class="hljs-attr">"index"</span>: <span class="hljs-number">30</span>,
      <span class="hljs-attr">"connections"</span>: [
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:25"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"25"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Majorstuen"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:19"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:19:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:25-138571-16843170"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Majorstuen"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:35"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:35:36Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT1M36S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:25-138571-16843096"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Majorstuen"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:42"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:42:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:25-138571-16843097"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:25"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"25"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:11024"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Lørenskog stasjon"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:15"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:15:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:25-138571-16843010"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Lørenskog stasjon"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:37"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:37:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:25-138571-16843012"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Lørenskog stasjon"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:45"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:45:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:25-138571-16843013"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:31"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"31"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Fornebu"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:04"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:04:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-138571-15639929"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Fornebu"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"17:04"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T16:04:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-138571-15639934"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Fornebu"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:28"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:28:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-138571-15639931"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:31"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"31"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:11024"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Grorud T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:48"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:48:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-138571-15639656"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Grorud T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:12"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:12:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-138571-15639653"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Grorud T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:58"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:58:28Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT22M28S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:31-138571-15639655"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:33"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"33"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"quay"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"NSR:Quay:11024"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"1"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Ellingsrudåsen T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:17"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:17:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:33-138542-15632328"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Ellingsrudåsen T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"17:02"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T16:02:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:33-138542-15632331"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Ellingsrudåsen T"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:32"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:32:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:33-138542-15632329"</span>
            }
          ]
        },
        {
          <span class="hljs-attr">"line"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:Line:33"</span>,
            <span class="hljs-attr">"publicCode"</span>: <span class="hljs-string">"33"</span>,
            <span class="hljs-attr">"transportMode"</span>: <span class="hljs-string">"bus"</span>
          },
          <span class="hljs-attr">"direction"</span>: <span class="hljs-string">"2"</span>,
          <span class="hljs-attr">"departures"</span>: [
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Filipstad"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:10"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:10:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:33-138542-15632358"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Filipstad"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:40"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:40:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:33-138542-15632360"</span>
            },
            {
              <span class="hljs-attr">"destination"</span>: <span class="hljs-string">"Filipstad"</span>,
              <span class="hljs-attr">"text"</span>: <span class="hljs-string">"16:25"</span>,
              <span class="hljs-attr">"departureTime"</span>: <span class="hljs-string">"2020-03-16T15:25:00Z"</span>,
              <span class="hljs-attr">"delay"</span>: <span class="hljs-string">"PT0S"</span>,
              <span class="hljs-attr">"journeyId"</span>: <span class="hljs-string">"RUT:ServiceJourney:33-138542-15632359"</span>
            }
          ]
        }
      ]
    }
  ]
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-subscribe-pe/dpi/key_stops"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-green-600 text-green-600" title="subscribe">SUB</span> <span class="font-mono text-base">pe/dpi/key_stops</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="key-stops-message">Key Stops message:</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>{operatorId}/ruter/{vehicleId}/pe/dpi/key_stops</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/dpi-key_stops.json"> dpi-key_stops.json </a></td>
</tr>
</tbody></table>
<p>List of X number of most trafficked stops in the rest of the journey. Based on predicted number of passengers leaving
on each stop</p>
</div></div></div><div class="w-full mt-4" id="operation-subscribe-pe/dpi/key_stops-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">Key Stops message</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->http://schema.ruter.no/connections.json</span></div><div><div class="prose max-w-none text-sm"><p>This schema defines the Key Stops message sent as an MQTT message to vehicles</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>EventTimestamp must be ISO 8601 UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">id</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/id</span></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;RUT:ServiceJourney:18-164036-22694106&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">lineId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/lineId</span></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;RUT:Line:18&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">linePublicCode</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/linePublicCode</span></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;18&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">stopPlaces</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">array&lt;object&gt;</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/stopPlaces</span></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">stopPlaceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/stopPlaces/items/stopPlaceId</span></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;NSR:StopPlace:3986&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">stopPlaceIndex</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">integer</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/stopPlaces/items/stopPlaceIndex</span></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>11</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">boarding</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/stopPlaces/items/boarding</span></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">predictedValue</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">integer</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/stopPlaces/items/boarding/predictedValue</span></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>23</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qualityIndicator</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/stopPlaces/items/boarding/qualityIndicator</span></div><div class="text-xs">Default value:<span class="border inline-block text-orange-600 rounded ml-1 py-0 px-2">&quot;&quot;</span></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;GOOD&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;MEDIOCRE&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;UNKNOWN&quot;</span></li></ul></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">alighting</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/stopPlaces/items/alighting</span></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">predictedValue</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">integer</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/stopPlaces/items/alighting/predictedValue</span></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>23</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qualityIndicator</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/stopPlaces/items/alighting/qualityIndicator</span></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;GOOD&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;MEDIOCRE&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;UNKNOWN&quot;</span></li></ul></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are <strong>NOT</strong> allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">true</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Key Stops</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2022-05-10T10:35:16.708Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"RUT:ServiceJourney:18-164036-22694106"</span>,
  <span class="hljs-attr">"lineId"</span>: <span class="hljs-string">"RUT:Line:18"</span>,
  <span class="hljs-attr">"linePublicCode"</span>: <span class="hljs-string">"18"</span>,
  <span class="hljs-attr">"stopPlaces"</span>: [
    {
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:3986"</span>,
      <span class="hljs-attr">"stopPlaceIndex"</span>: <span class="hljs-number">11</span>,
      <span class="hljs-attr">"boarding"</span>: {
        <span class="hljs-attr">"predictedValue"</span>: <span class="hljs-number">23</span>,
        <span class="hljs-attr">"qualityIndicator"</span>: <span class="hljs-string">"GOOD"</span>
      },
      <span class="hljs-attr">"alighting"</span>: {
        <span class="hljs-attr">"predictedValue"</span>: <span class="hljs-number">23</span>,
        <span class="hljs-attr">"qualityIndicator"</span>: <span class="hljs-string">"GOOD"</span>
      }
    },
    {
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:6258"</span>,
      <span class="hljs-attr">"stopPlaceIndex"</span>: <span class="hljs-number">16</span>,
      <span class="hljs-attr">"boarding"</span>: {
        <span class="hljs-attr">"predictedValue"</span>: <span class="hljs-number">24</span>,
        <span class="hljs-attr">"qualityIndicator"</span>: <span class="hljs-string">"GOOD"</span>
      },
      <span class="hljs-attr">"alighting"</span>: {
        <span class="hljs-attr">"predictedValue"</span>: <span class="hljs-number">24</span>,
        <span class="hljs-attr">"qualityIndicator"</span>: <span class="hljs-string">"GOOD"</span>
      }
    },
    {
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:6269"</span>,
      <span class="hljs-attr">"stopPlaceIndex"</span>: <span class="hljs-number">20</span>,
      <span class="hljs-attr">"boarding"</span>: {
        <span class="hljs-attr">"predictedValue"</span>: <span class="hljs-number">25</span>,
        <span class="hljs-attr">"qualityIndicator"</span>: <span class="hljs-string">"GOOD"</span>
      },
      <span class="hljs-attr">"alighting"</span>: {
        <span class="hljs-attr">"predictedValue"</span>: <span class="hljs-number">25</span>,
        <span class="hljs-attr">"qualityIndicator"</span>: <span class="hljs-string">"GOOD"</span>
      }
    },
    {
      <span class="hljs-attr">"stopPlaceId"</span>: <span class="hljs-string">"NSR:StopPlace:6266"</span>,
      <span class="hljs-attr">"stopPlaceIndex"</span>: <span class="hljs-number">26</span>,
      <span class="hljs-attr">"boarding"</span>: {
        <span class="hljs-attr">"predictedValue"</span>: <span class="hljs-number">27</span>,
        <span class="hljs-attr">"qualityIndicator"</span>: <span class="hljs-string">"GOOD"</span>
      },
      <span class="hljs-attr">"alighting"</span>: {
        <span class="hljs-attr">"predictedValue"</span>: <span class="hljs-number">27</span>,
        <span class="hljs-attr">"qualityIndicator"</span>: <span class="hljs-string">"GOOD"</span>
      }
    }
  ]
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-subscribe-pe/dpi_command"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-green-600 text-green-600" title="subscribe">SUB</span> <span class="font-mono text-base">pe/dpi_command</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="dpi-command-message">DPI Command message:</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>{operatorId}/ruter/{vehicleId}/pe/dpi_command</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/dpi-command.json"> dpi-command.json </a></td>
</tr>
</tbody></table>
<p>This channels is reserved for command and control messages originated by Ruter. Typical use cases include:</p>
<ul>
<li>Diagnostics / debugging<ul>
<li>Trigger transfer of debug information</li>
<li>Trigger screenshot of DPI screen</li>
<li>Trigger clearing of cache and refresh of webpage</li>
</ul>
</li>
<li>Content<ul>
<li>Trigger display of campaign</li>
</ul>
</li>
</ul>
<p>The payload is defined as an object with no structure to provide flexibility.</p>
</div></div></div><div class="w-full mt-4" id="operation-subscribe-pe/dpi_command-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">DPI Command Message</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->http://schema.ruter.no/c2.json</span></div><div><div class="prose max-w-none text-sm"><p>Message sent to bus to control DPI functions</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="bg-yellow-600 font-bold no-underline text-white rounded lowercase mr-2 p-1 text-xs">format: <!-- -->date-time</span><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>Event timestamp must be ISO 8601 UTC</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">type</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/type</span></div><div><div class="prose max-w-none text-sm"><p>The Type Schema</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/payload</span></div><div><div class="prose max-w-none text-sm"><p>Command and arguments</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100 bg-gray-200 hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">command</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/payload/properties/command</span></div><div><div class="prose max-w-none text-sm"><p>Command name</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm italic">args</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/payload/properties/args</span></div><div><div class="prose max-w-none text-sm"><p>Arguments to be passed to command</p>
</div></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are <strong>NOT</strong> allowed.</p></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are <strong>NOT</strong> allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - DPI Command</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2018-10-31T12:45:50Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"3841a268-0c03-4588-b476-211be0f26a0d"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"DEBUG"</span>,
  <span class="hljs-attr">"payload"</span>: {
    <span class="hljs-attr">"command"</span>: <span class="hljs-string">"LOG_TRANSFER"</span>,
    <span class="hljs-attr">"arg"</span>: {
      <span class="hljs-attr">"level"</span>: <span class="hljs-string">"ERROR"</span>,
      <span class="hljs-attr">"limit"</span>: <span class="hljs-number">10</span>,
      <span class="hljs-attr">"page"</span>: <span class="hljs-number">0</span>
    }
  }
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li><li class="mb-12" id="operation-subscribe-pe/input/stop_button"><div><div class="panel-item--center px-8"><div class="mb-4"><h3><span class="font-mono border uppercase p-1 rounded mr-2 border-green-600 text-green-600" title="subscribe">SUB</span> <span class="font-mono text-base">pe/input/stop_button</span></h3></div><div class="mt-2"><div class="prose max-w-none text-sm"><h3 id="remote-stop-button-message">Remote Stop Button Message</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Central Topic</td>
<td>{operatorId}/ruter/{vehicleId}/pe/input/stop_button</td>
</tr>
<tr>
<td>Schema</td>
<td><a href="json-schemas/stop-button.json"> stop-button.json </a></td>
</tr>
</tbody></table>
<p>This message indicates that the bus should stop on the next stop. On receiving this message, the operator should interpret 
it as if it was a regular press of a button on board the vehicle.</p>
<p>The stop-signalled light inside the vehicle should light up and a message should be produced on 
<code>ruter/{operatorId}/{vehicleId}/sensors/stop_button</code> as normal.</p>
<p>Frequency: on change</p>
</div></div></div><div class="w-full mt-4" id="operation-subscribe-pe/input/stop_button-message"><div class="mt-2"><p class="px-8">Accepts the following message:</p><div class="mt-2"><div class="panel-item"><div class="panel-item--center px-8"><div class="shadow rounded bg-gray-200 p-4 border"><div><span class="border text-orange-600 rounded text-xs py-0 px-2">Stop Button Message</span></div><div class="mt-2"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="break-words text-sm ">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">object</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->https://schemas.ruter.no/adt/ota/api/v3.0/sensors/stop-button/stop-button.json</span></div><div><div class="prose max-w-none text-sm"><p>Describes if passengers have requested that the bus should stop (stop button pressed).</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>{&quot;eventTimestamp&quot;:&quot;2021-11-30T23:45:52.006Z&quot;,&quot;traceId&quot;:&quot;c26f450f-2418-4792-a567-05f6771cba7a&quot;,&quot;stopPressed&quot;:true,&quot;accessibility&quot;:false,&quot;messageNumber&quot;:1}</span></li></ul></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">eventTimestamp</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/eventTimestamp</span></div><div><div class="prose max-w-none text-sm"><p>ISO 8601. Reflects the UTC time when the state changed.</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">traceId</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">string</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/traceId</span></div><div><div class="prose max-w-none text-sm"><p>A unique identifier - UUID</p>
</div></div></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">stopPressed</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">boolean</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/stopPressed</span></div><div><div class="prose max-w-none text-sm"><p>True if stop request button pressed. False if stop request signal is cleared.</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;true&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;false&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">accessibility</span><div class="text-red-600 text-xs">required</div></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">boolean</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/accessibility</span></div><div><div class="prose max-w-none text-sm"><p>True if stop request should lead to longer wait on stop. Used to indicate if the request is by someone with accessibility challenges.</p>
</div></div><ul class="text-xs">Examples values:<!-- --> <li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;true&quot;</span></li><li class="border inline-block text-orange-600 rounded ml-1 py-0 px-2 break-all"><span>&quot;false&quot;</span></li></ul></div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">messageNumber</span></div><div><div><div class="capitalize text-sm text-teal-500 font-bold inline-block mr-2">number</div><div class="inline-block"><span class="border text-orange-600 rounded mr-2 p-1 text-xs">uid: <!-- -->#/properties/messageNumber</span></div><div><div class="prose max-w-none text-sm"><p>Optional. Sequence number, increased by one for each new message. Used to validate consistency in the data stream.</p>
</div></div></div></div></div></div><p class="mt-2 text-xs text-gray-700">Additional properties are allowed.</p></div></div></div><div class="mt-2"><div><div class="flex py-2"><div class=" mr-2"><button class="focus:outline-none undefined" type="button"><div class="inline-block"><div class="inline-block text-sm"><span>Message specific information</span><span class="bg-teal-500 font-bold no-underline text-white uppercase rounded mx-2 px-2 py-1 text-xs">mqtt</span></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  "><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button><button type="button" class="ml-1 text-sm text-gray-500">Expand all</button></div><div><div><div class="inline-block"></div></div></div></div><div class="rounded p-4 py-2 border bg-gray-100  hidden"><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">qos</span></div><div><div class="text-sm">1</div></div></div></div><div><div class="flex py-2"><div class="min-w-1/4 mr-2"><span class="break-words text-sm italic">retain</span></div><div><div class="text-sm">false</div></div></div></div></div></div></div></div></div><div class="panel-item--right px-8"><div class="bg-gray-800 px-8 py-4 mt-4 -mx-8 2xl:mx-0 2xl:px-4 2xl:rounded examples"><h4 class="text-white text-lg">Examples</h4><div class="mt-4"><div><button class="focus:outline-none undefined" type="button"><div class="inline-block"><span class="inline-block w-20 py-0.5 mr-1 text-gray-200 text-sm border text-center rounded focus:outline-none">Payload</span></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" class="inline-block align-baseline cursor-pointer ml-0.5 -mb-1 w-5 h-5 transform transition-transform duration-150 ease-linear  fill-current text-gray-200"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="hidden"><ul><li class="mt-4"><h5 class="text-xs font-bold text-gray-500">#1 Example - Stop Button</h5><div class="mt-1"><div class="prose max-w-none text-sm"><pre><code class="hljs language-json">{
  <span class="hljs-attr">"eventTimestamp"</span>: <span class="hljs-string">"2021-11-30T23:45:52.006Z"</span>,
  <span class="hljs-attr">"traceId"</span>: <span class="hljs-string">"c26f450f-2418-4792-a567-05f6771cba7a"</span>,
  <span class="hljs-attr">"stopPressed"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"accessibility"</span>: <span class="hljs-literal">false</span>
}
</code></pre>
</div></div></li></ul></div></div></div></div></div></div></div></div></div></li></ul></section></div><div class="panel--right absolute top-0 right-0 h-full bg-gray-800"></div></div></div></section></div>

  
    <script src="js/asyncapi-ui.min.js" type="application/javascript"></script>
  

    <script>
      var schema = {"asyncapi":"2.3.0","info":{"title":"Avtale om digitale tjenester - ADT","description":"## Ruters digitale plattform\nThis specification contains interfaces to be used between PTOs (operators) and Ruter.\nThe API describes a set of MQTT topics which are used to distribute data onboard public transport vehicles/vessels as\nwell as between the vehicle/vessel and Ruter’s Back Office or vv.\n\n### General information\n#### Upgrades to the API\nThe API follows the upgrade cycles of ADT. Major releases are done more or less once a year and usually include breaking changes.\n\nMinor/build releases are performed as continual deliveries and are non-breaking. New versions of this document will be published when new topics and/or fields are added.\n\n#### Consumer Client Requirements\nClients consuming information posted on the topics must be tolerant to:\n- That optional properties can be null or left out.\n- That arrays can contain any number of elements including zero.\n- That returned data can be extended with new properties without notice.\n\n#### Quality of Service, Retained Flag and Persistence\nGenerally, QoS level 1 is applied for most topics and the `retain` flag is true for most topics. See the respective topic for precise info.\n\nSubscribers should start with Clean Session set to True to assure that they get the latest information at reconnection (the retained info) and avoid first having to process a long queue of outdated old information that in reality hinders new relevant information to reach the subscriber.\n\n#### Translation of topic names\nGlobal topic names are generally written on the format of `{recipient}/{sender}/{vehicleid}/{topic}` to make it easy to identify the source and destination of the messages.\nLocal topic names have omitted the `{recipient}/{sender}/{vehicleid}` part in order to have onboard equipment pre-configured with vehicle independent settings.\n\nAll topic names must thus be rewritten local/global in the MQTT bridge according to a provided configuration file.\n\n#### Data format\nAll data must be JSON and UTF-8 encoded.\n\n### More info\nFor more information, please go to: [Ruter’s ADT agreement](https://ruter.atlassian.net/wiki/spaces/DS/pages/231178249/Avtale+om+Digitale+Tjenester \"https://ruter.atlassian.net/wiki/spaces/DS/pages/231178249/Avtale+om+Digitale+Tjenester\").\n\n### Comments or suggestions\nPlease open an issue here: [ADT-DOC Issues](https://github.com/RuterNo/adt-doc/issues) \n","termsOfService":"https://ruter.no","contact":{"name":"RDP Support","url":"https://ruteras.slack.com/archives/CKJ2V79SN","email":"rdp-support@ruter.no"},"license":{"name":"GPL 3.0","url":"https://ruter.no"},"version":"3.x"},"servers":{"mqtt.transhub.io":{"url":"mqtt.transhub.io","protocol":"mqtt","description":"Ruters central MQTT broker","variables":{"port":{"description":"The mqtt broker is available through TCP (:8883) and Websockets (:9883)","default":"8883","enum":["8883","9883"]}},"security":[{"user-password":[]}]}},"defaultContentType":"application/json","channels":{"operational/assignment/attempt/request":{"description":"### AssignmentAttemptRequest Message\n| Field         | Value                                                                                                                    |\n|---------------|--------------------------------------------------------------------------------------------------------------------------|\n| Central Topic | ruter/{operatorId}/{vehicleId}/adt/v3/operational/assignment/attempt/request                                             |\n| Schema        | [ assignment-attempt-request.json ](json-schemas/operational/assignment/attempt/request/assignment-attempt-request.json) |\n\n### AssignmentAttemptRequest Usage\n`operational/assignment/attempt` follows the request/response/state pattern. When a `request` is made to the request topic, a `response` will be available at the response topic once Ruter has finished processing. \nIn addition, if the `request` results in a change of `state`, the state topic will be updated to reflect the current state as seen by Ruter.\n\nAn `AssignmentAttemptRequest` can be made for:\n\n| Action  | Description                                                                                   |\n|---------|-----------------------------------------------------------------------------------------------|\n| SignOn  | Creating an Assignment for a vehicle. Signing a vehicle on to a set of planned journeys/stops |\n| SignOff | Signing a vehicle off from an assigned assignment                                             |\n| Update  | Altering an assigned assignment                                                               |\n\n- The message is composed of three operations (signOn, signOff, update). Each message must only contain one of these. If the message contains more than one part, the order of precedence is the following:\n  1. signOn\n  2. signOff\n  3. update\n- All attempts are effective immediately.\n- All attempt request will get an attempt response under the topic [assignment/attempt/response](../response/assignment-attempt-response.md)\n- Any request leading to a change of existing assignment state is reflected under the topic [assignment/state](../../status/assignment-status.md)\n- Please provide all fields marked as `reqired` in the schema specifications.\n\n#### Sign On\n- Any pre-existing assigned assignments will be signed off `AssignmentState.assigned=true`\n- Sign on attempts are effective immediately. The vehicle will immediately be assigned the new plan `AssignmentState.assigned=true`\n- If the attempt request fails, the state of the vehicle is `AssignmentState.assigned=false`\n- A `vehicleTask` is a set of one or more blocks containing the journeys to be served.\n- All signOn-attempts require the field `vehicleTask`.\n- Journeys outside the specified `vehicleTask` will never be included\n\n\n##### Sign On - PLANNED\n- `Default` The vehicle will be signed on to service the pre-existing plans for the specified `serviceWindow`\n- If `lastAttivalDateTime` is provided, the assignment will contain all journeys/stops from (including) `firstDepartureDateTime` until (excluding) the specified `lastAttivalDateTime`\n- If `lastAttivalDateTime` is not provided, the assignment will contain all journeys/stops from (including) `firstDepartureDateTime` until the end of the block\n\n##### Sign On - EXTRA\n- Used if additional vehicles are demanded to serve the pre-existing plans for the specified `serviceWindow`\n- If `lastAttivalDateTime` is provided, the assignment will contain all journeys/stops from (including) `firstDepartureDateTime` until (excluding) the specified `lastAttivalDateTime`\n- If `lastAttivalDateTime` is not provided, the assignment will contain all journeys/stops from (including) `firstDepartureDateTime` until the end of the journey\n\n##### Sign On - REPLACEMENT\n- Used if another vehicle can not service parts of its assignment. The other vehicle should be signed off.\n- `serviceWindow` is honoured as `PLANNED`\n### Sign Off\n#### Sign Off - FINISHED\n- The vehicle has serviced all journeys in the assignment\n#### Sign Off - BREAKDOWN\n- The vehicle has broken down, or in some way not capable of servicing the rest of the assignment\n#### Sign Off - CANCELLED\n- Remaining not serviced stops/journeys in the assignment will not be serviced (by any vehicles).\n#### Sign Off - SHORTENING\n- Same as `CANCELLED`\n\n### Update\n#### Update - SHORTENING\n- Operational change of a pre-existing assigned assignment for a vehicle.\n- Failed attempts will not affect the assignment state for a vehicle.\n- `serviceWindow.firstDepartureDateTime` is required\n- If `lastAttivalDateTime` is provided, journeys/stops from (including) `firstDepartureDateTime` until (excluding) the specified `lastArrivalDateTime` are removed from the assignment\n- If `lastAttivalDateTime` is not provided, the stop with `firstDepartureDateTime` will be removed from the assignment\n","publish":{"message":{"bindings":{"mqtt":{"qos":1,"retain":false}},"examples":[{"name":"Assignment Attempt Request","payload":{"missing":"example"}}],"name":"AssignmentAttemptRequest","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/operational/assignment/attempt/request/assignment-attempt-request.json","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentAttemptRequest","description":"Request to sign a vehicle on/off, or update an assigned assignment. The vehicle in question is provided in the mqtt topic name. Response will be sent to this vehicle via assignment attempt response.","type":"object","required":["traceId","eventTimestamp"],"additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","description":"A unique identifier - UUID","type":"string"},"eventTimestamp":{"$id":"#/properties/eventTimestamp","description":"When the recorded event happened","type":"string"},"signOn":{"$id":"#/properties/signOn","description":"Sign the vehicle on to planned journeys from a given vehicle task. If the requested planed journeys exists, this request will form a plan for the vehicle to follow.  The plan can consist of parts of, or an entire vehicle task.","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentAttemptSignOn","additionalProperties":true,"type":"object","required":["code","vehicleTaskId","serviceWindow"],"properties":{"code":{"$id":"#/properties/code","description":"Specification of the reason why the vehicle should be signed on.","type":"string","examples":["PLANNED","EXTRA","REPLACEMENT"]},"vehicleTaskId":{"$id":"#/properties/vehicleTaskId","description":"Id of the vehicle task. To pick the plan from","type":"string"},"serviceWindow":{"$id":"#/properties/serviceWindow","description":"First arrival and last departure","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentServiceWindow","additionalProperties":true,"type":"object","required":["firstDepartureDateTime"],"properties":{"firstDepartureDateTime":{"$id":"#/properties/firstDepartureDateTime","description":"The first planned departure the vehicle is supposed to service.","type":"string"},"lastArrivalDateTime":{"$id":"#/properties/lastArrivalDateTime","description":"The last planned arrival the vehicle is supposed to service.","type":"string"}}}}},"signOff":{"$id":"#/properties/signOff","description":"Sign the vehicle off the previously signed on plan","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentAttemptSignOff","additionalProperties":true,"type":"object","required":["code"],"properties":{"code":{"$id":"#/properties/code","description":"Specification as to the reason why the vehicle will no longer service journeys","type":"string","examples":["CANCELLED","BREAKDOWN","SHORTENING","FINISHED"]}}},"update":{"$id":"#/properties/update","description":"After a successful sign on. The Signed on plan can be updated. The updates are restricted to `SHORTENING` the agreed upon plan","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentAttemptUpdate","type":"object","additionalProperties":true,"required":["code","serviceWindow"],"properties":{"code":{"$id":"#/properties/code","description":"Specification of the update action requested.","type":"string","examples":["SHORTENING"]},"serviceWindow":{"$id":"#/properties/serviceWindow","description":"First arrival and last departure","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentServiceWindow","additionalProperties":true,"type":"object","required":"$ref:$.channels.operational/assignment/attempt/request.publish.message.payload.properties.signOn.properties.serviceWindow.required","properties":"$ref:$.channels.operational/assignment/attempt/request.publish.message.payload.properties.signOn.properties.serviceWindow.properties"}}}}},"schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/operational/assignment/attempt/request/assignment-attempt-request.json","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentAttemptRequest","description":"Request to sign a vehicle on/off, or update an assigned assignment. The vehicle in question is provided in the mqtt topic name. Response will be sent to this vehicle via assignment attempt response.","type":"object","required":["traceId","eventTimestamp"],"additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","description":"A unique identifier - UUID","type":"string"},"eventTimestamp":{"$id":"#/properties/eventTimestamp","description":"When the recorded event happened","type":"string"},"signOn":{"$id":"#/properties/signOn","description":"Sign the vehicle on to planned journeys from a given vehicle task. If the requested planed journeys exists, this request will form a plan for the vehicle to follow.  The plan can consist of parts of, or an entire vehicle task.","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentAttemptSignOn","additionalProperties":true,"type":"object","required":["code","vehicleTaskId","serviceWindow"],"properties":{"code":{"$id":"#/properties/code","description":"Specification of the reason why the vehicle should be signed on.","type":"string","examples":["PLANNED","EXTRA","REPLACEMENT"]},"vehicleTaskId":{"$id":"#/properties/vehicleTaskId","description":"Id of the vehicle task. To pick the plan from","type":"string"},"serviceWindow":{"$id":"#/properties/serviceWindow","description":"First arrival and last departure","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentServiceWindow","additionalProperties":true,"type":"object","required":["firstDepartureDateTime"],"properties":{"firstDepartureDateTime":{"$id":"#/properties/firstDepartureDateTime","description":"The first planned departure the vehicle is supposed to service.","type":"string"},"lastArrivalDateTime":{"$id":"#/properties/lastArrivalDateTime","description":"The last planned arrival the vehicle is supposed to service.","type":"string"}}}}},"signOff":{"$id":"#/properties/signOff","description":"Sign the vehicle off the previously signed on plan","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentAttemptSignOff","additionalProperties":true,"type":"object","required":["code"],"properties":{"code":{"$id":"#/properties/code","description":"Specification as to the reason why the vehicle will no longer service journeys","type":"string","examples":["CANCELLED","BREAKDOWN","SHORTENING","FINISHED"]}}},"update":{"$id":"#/properties/update","description":"After a successful sign on. The Signed on plan can be updated. The updates are restricted to `SHORTENING` the agreed upon plan","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentAttemptUpdate","type":"object","additionalProperties":true,"required":["code","serviceWindow"],"properties":{"code":{"$id":"#/properties/code","description":"Specification of the update action requested.","type":"string","examples":["SHORTENING"]},"serviceWindow":{"$id":"#/properties/serviceWindow","description":"First arrival and last departure","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentServiceWindow","additionalProperties":true,"type":"object","required":"$ref:$.channels.operational/assignment/attempt/request.publish.message.x-parser-original-payload.properties.signOn.properties.serviceWindow.required","properties":"$ref:$.channels.operational/assignment/attempt/request.publish.message.x-parser-original-payload.properties.signOn.properties.serviceWindow.properties"}}}}},"x-parser-message-parsed":true}}},"operational/assignment/attempt/response":{"description":"### AssignmentAttemptResponse Message\n| Field         | Value                                                                                                                       |\n|---------------|-----------------------------------------------------------------------------------------------------------------------------|\n| Central Topic | {operatorId}/ruter/{vehicleId}/adt/v3/operational/assignment/attempt/response                                               |\n| Schema        | [ assignment-attempt-response.json ](json-schemas/operational/assignment/attempt/response/assignment-attempt-response.json) |\n\n### AssignmentAttemptResponse Usage\nWhen an AssignmentAttemptRequest is made, and Ruter has finished processing, the results are presented as AssignmentAttemptResponse.\nThe response contains:\n- `result` to indicate if processing by Ruter has been successfully processed, or not. See the schema for possible codes.\n- `state` as a representation of the Assignment state as seen by Ruter after processing is completed.\n","subscribe":{"message":{"bindings":{"mqtt":{"qos":1,"retain":false}},"examples":[{"name":"Assignment Attempt Response","payload":{"missing":"example"}}],"name":"AssignmentAttemptResponse","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/operational/assignment/attempt/response/assignment-attempt-response.json","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentAttemptResponse","description":"A response to an assignment attempt request","type":"object","required":["traceId","eventTimestamp","result"],"additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","description":"The same traceId as contained in the assignment attempt request","type":"string"},"eventTimestamp":{"$id":"#/properties/eventTimestamp","description":"Timestamp for when Ruter has processed the message","type":"string"},"result":{"$id":"#/properties/result","description":"Result and specifications of the processes attempt request","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentResult","type":"object","required":["code"],"additionalProperties":true,"properties":{"code":{"$id":"#/properties/code","description":"Machine readable codes specifying results","type":"string","examples":["OK","BAD_REQUEST","INTERNAL_ERROR","NOT_IMPLEMENTED"]},"reason":{"$id":"#/properties/reason","description":"Machine readable specifications of the code supplied. The list of examples might not be complete","type":"string","examples":["OK","TIMEOUT","ATTEMPT_EXPIRED","JOURNEY_NOT_FOUND","VEHICLE_TASK_NOT_FOUND","VEHICLE_ID_INVALID","API_VERSION_INVALID","ARRIVAL_DATE_TIME_INVALID","DEPARTURE_DATE_TIME_INVALID","SIGN_OFF_CODE_INVALID","SIGN_ON_CODE_INVALID","UPDATE_CODE_INVALID"]},"description":{"$id":"#/properties/description","description":"Human readable specification of the result","type":"string"},"details":{"$id":"#/properties/details","description":"Details specifying the result","type":"array","items":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/operational/assignment/attempt/response/common/assignment-result-details.json","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentResultDetails","description":"Attempt processing result details","type":"object","required":["code"],"additionalProperties":true,"properties":{"code":{"$id":"#/properties/code","description":"Machine readable code to specify processing steps","type":"string"},"description":{"$id":"#/properties/description","description":"Human readable specification of the code supplied.","type":"string"}}}}}},"state":{"$id":"#/properties/state","description":"Assignment state as a result of the processed attempt. If the processed attempt did not change the state of the Assignment, this section removed from the response","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentState","type":"object","required":["assigned","code"],"additionalProperties":true,"properties":{"assigned":{"$id":"#/properties/assigned","description":"Is the vehicle currently assigned","type":"boolean"},"code":{"$id":"#/properties/code","description":"Assignment code for the vehicle. See documentation for specifications","type":"string","examples":["PLANNED","EXTRA","REPLACEMENT","SHORTENING","CANCELLED","BREAKDOWN","FINISHED","REPLACED"]},"vehicleTaskId":{"$id":"#/properties/vehicleTaskId","description":"The assigned vehicleTask if the vehicle is assigned","type":"string"},"blockId":{"$id":"#/properties/blockId","description":"The assigned block if the vehicle is assigned","type":"string"},"operatingDate":{"$id":"#/properties/operatingDate","description":"The assigned operating date if the vehicle is assigned","type":"string"},"serviceWindow":{"$id":"#/properties/serviceWindow","description":"Planed first arrival and last departure for the assignment if the vehicle is assigned","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentServiceWindow","additionalProperties":true,"type":"object","required":"$ref:$.channels.operational/assignment/attempt/request.publish.message.payload.properties.signOn.properties.serviceWindow.required","properties":"$ref:$.channels.operational/assignment/attempt/request.publish.message.payload.properties.signOn.properties.serviceWindow.properties"},"firstJourneyId":{"$id":"#/properties/firstJourneyId","description":"The first journey to be serviced if the vehicle is assigned","type":"string"},"journeys":{"$id":"#/properties/journeys","description":"A list of journeys to be serviced if the vehicle is assigned","type":"array","items":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/operational/assignment/common/assignment-journey.json","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentJourney","description":"Assignment journey","additionalProperties":true,"type":"object","required":["journeyId","serviceWindow"],"properties":{"journeyId":{"$id":"#/properties/journeyId","description":"Id of the journey","type":"string"},"serviceWindow":{"$id":"#/properties/serviceWindow","description":"First arrival and last departure","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentServiceWindow","additionalProperties":true,"type":"object","required":"$ref:$.channels.operational/assignment/attempt/request.publish.message.payload.properties.signOn.properties.serviceWindow.required","properties":"$ref:$.channels.operational/assignment/attempt/request.publish.message.payload.properties.signOn.properties.serviceWindow.properties"}}}},"description":{"$id":"#/properties/description","description":"Human readable description of the last action performed that changed the state of the vehicle assignment","type":"string"}}}}},"schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/operational/assignment/attempt/response/assignment-attempt-response.json","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentAttemptResponse","description":"A response to an assignment attempt request","type":"object","required":["traceId","eventTimestamp","result"],"additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","description":"The same traceId as contained in the assignment attempt request","type":"string"},"eventTimestamp":{"$id":"#/properties/eventTimestamp","description":"Timestamp for when Ruter has processed the message","type":"string"},"result":{"$id":"#/properties/result","description":"Result and specifications of the processes attempt request","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentResult","type":"object","required":["code"],"additionalProperties":true,"properties":{"code":{"$id":"#/properties/code","description":"Machine readable codes specifying results","type":"string","examples":["OK","BAD_REQUEST","INTERNAL_ERROR","NOT_IMPLEMENTED"]},"reason":{"$id":"#/properties/reason","description":"Machine readable specifications of the code supplied. The list of examples might not be complete","type":"string","examples":["OK","TIMEOUT","ATTEMPT_EXPIRED","JOURNEY_NOT_FOUND","VEHICLE_TASK_NOT_FOUND","VEHICLE_ID_INVALID","API_VERSION_INVALID","ARRIVAL_DATE_TIME_INVALID","DEPARTURE_DATE_TIME_INVALID","SIGN_OFF_CODE_INVALID","SIGN_ON_CODE_INVALID","UPDATE_CODE_INVALID"]},"description":{"$id":"#/properties/description","description":"Human readable specification of the result","type":"string"},"details":{"$id":"#/properties/details","description":"Details specifying the result","type":"array","items":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/operational/assignment/attempt/response/common/assignment-result-details.json","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentResultDetails","description":"Attempt processing result details","type":"object","required":["code"],"additionalProperties":true,"properties":{"code":{"$id":"#/properties/code","description":"Machine readable code to specify processing steps","type":"string"},"description":{"$id":"#/properties/description","description":"Human readable specification of the code supplied.","type":"string"}}}}}},"state":{"$id":"#/properties/state","description":"Assignment state as a result of the processed attempt. If the processed attempt did not change the state of the Assignment, this section removed from the response","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentState","type":"object","required":["assigned","code"],"additionalProperties":true,"properties":{"assigned":{"$id":"#/properties/assigned","description":"Is the vehicle currently assigned","type":"boolean"},"code":{"$id":"#/properties/code","description":"Assignment code for the vehicle. See documentation for specifications","type":"string","examples":["PLANNED","EXTRA","REPLACEMENT","SHORTENING","CANCELLED","BREAKDOWN","FINISHED","REPLACED"]},"vehicleTaskId":{"$id":"#/properties/vehicleTaskId","description":"The assigned vehicleTask if the vehicle is assigned","type":"string"},"blockId":{"$id":"#/properties/blockId","description":"The assigned block if the vehicle is assigned","type":"string"},"operatingDate":{"$id":"#/properties/operatingDate","description":"The assigned operating date if the vehicle is assigned","type":"string"},"serviceWindow":{"$id":"#/properties/serviceWindow","description":"Planed first arrival and last departure for the assignment if the vehicle is assigned","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentServiceWindow","additionalProperties":true,"type":"object","required":["firstDepartureDateTime"],"properties":{"firstDepartureDateTime":{"$id":"#/properties/firstDepartureDateTime","description":"The first planned departure the vehicle is supposed to service.","type":"string"},"lastArrivalDateTime":{"$id":"#/properties/lastArrivalDateTime","description":"The last planned arrival the vehicle is supposed to service.","type":"string"}}},"firstJourneyId":{"$id":"#/properties/firstJourneyId","description":"The first journey to be serviced if the vehicle is assigned","type":"string"},"journeys":{"$id":"#/properties/journeys","description":"A list of journeys to be serviced if the vehicle is assigned","type":"array","items":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/operational/assignment/common/assignment-journey.json","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentJourney","description":"Assignment journey","additionalProperties":true,"type":"object","required":["journeyId","serviceWindow"],"properties":{"journeyId":{"$id":"#/properties/journeyId","description":"Id of the journey","type":"string"},"serviceWindow":{"$id":"#/properties/serviceWindow","description":"First arrival and last departure","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentServiceWindow","additionalProperties":true,"type":"object","required":"$ref:$.channels.operational/assignment/attempt/response.subscribe.message.x-parser-original-payload.properties.state.properties.serviceWindow.required","properties":"$ref:$.channels.operational/assignment/attempt/response.subscribe.message.x-parser-original-payload.properties.state.properties.serviceWindow.properties"}}}},"description":{"$id":"#/properties/description","description":"Human readable description of the last action performed that changed the state of the vehicle assignment","type":"string"}}}}},"x-parser-message-parsed":true}}},"operational/assignment/status":{"description":"### AssignmentStatus Message\n| Field         | Value                                                                                         |\n|---------------|-----------------------------------------------------------------------------------------------|\n| Central Topic | {operatorId}/ruter/{vehicleId}/adt/v3/operational/assignment/status                           |\n| Schema        | [ assignment-status.json ](json-schemas/operational/assignment/status/assignment-status.json) |\n\n### AssignmentStatus Usage\nCurrent Assignment State for a vehicle as seen by Ruter. The topic is `retained` so the current state is persisted on the mqtt-broker.\nThe topic is updated when an AssignmentAttemptRequest i made, processing is complete and the state has changed. \n","subscribe":{"message":{"bindings":{"mqtt":{"qos":1,"retain":true}},"examples":[{"name":"Assignment State","payload":{"missing":"example"}}],"name":"AssignmentStatus","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/operational/assignment/status/assignment-status.json","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentStatus","description":"Assignment status for the vehicle as recorded by Ruter","type":"object","required":["traceId","eventTimestamp"],"additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","description":"The traceId of the assignment attempt request that altered the state","type":"string"},"eventTimestamp":{"$id":"#/properties/eventTimestamp","description":"When Ruter has updated the assignment state","type":"string"},"state":{"$id":"#/properties/state","description":"The Ruter recorded state of the vehicle assignment","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentState","type":"object","required":"$ref:$.channels.operational/assignment/attempt/response.subscribe.message.payload.properties.state.required","additionalProperties":true,"properties":"$ref:$.channels.operational/assignment/attempt/response.subscribe.message.payload.properties.state.properties"}}},"schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/operational/assignment/status/assignment-status.json","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentStatus","description":"Assignment status for the vehicle as recorded by Ruter","type":"object","required":["traceId","eventTimestamp"],"additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","description":"The traceId of the assignment attempt request that altered the state","type":"string"},"eventTimestamp":{"$id":"#/properties/eventTimestamp","description":"When Ruter has updated the assignment state","type":"string"},"state":{"$id":"#/properties/state","description":"The Ruter recorded state of the vehicle assignment","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentState","type":"object","required":["assigned","code"],"additionalProperties":true,"properties":{"assigned":{"$id":"#/properties/assigned","description":"Is the vehicle currently assigned","type":"boolean"},"code":{"$id":"#/properties/code","description":"Assignment code for the vehicle. See documentation for specifications","type":"string","examples":["PLANNED","EXTRA","REPLACEMENT","SHORTENING","CANCELLED","BREAKDOWN","FINISHED","REPLACED"]},"vehicleTaskId":{"$id":"#/properties/vehicleTaskId","description":"The assigned vehicleTask if the vehicle is assigned","type":"string"},"blockId":{"$id":"#/properties/blockId","description":"The assigned block if the vehicle is assigned","type":"string"},"operatingDate":{"$id":"#/properties/operatingDate","description":"The assigned operating date if the vehicle is assigned","type":"string"},"serviceWindow":{"$id":"#/properties/serviceWindow","description":"Planed first arrival and last departure for the assignment if the vehicle is assigned","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentServiceWindow","additionalProperties":true,"type":"object","required":["firstDepartureDateTime"],"properties":{"firstDepartureDateTime":{"$id":"#/properties/firstDepartureDateTime","description":"The first planned departure the vehicle is supposed to service.","type":"string"},"lastArrivalDateTime":{"$id":"#/properties/lastArrivalDateTime","description":"The last planned arrival the vehicle is supposed to service.","type":"string"}}},"firstJourneyId":{"$id":"#/properties/firstJourneyId","description":"The first journey to be serviced if the vehicle is assigned","type":"string"},"journeys":{"$id":"#/properties/journeys","description":"A list of journeys to be serviced if the vehicle is assigned","type":"array","items":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/operational/assignment/common/assignment-journey.json","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentJourney","description":"Assignment journey","additionalProperties":true,"type":"object","required":["journeyId","serviceWindow"],"properties":{"journeyId":{"$id":"#/properties/journeyId","description":"Id of the journey","type":"string"},"serviceWindow":{"$id":"#/properties/serviceWindow","description":"First arrival and last departure","$schema":"http://json-schema.org/draft-07/schema#","title":"AssignmentServiceWindow","additionalProperties":true,"type":"object","required":"$ref:$.channels.operational/assignment/status.subscribe.message.x-parser-original-payload.properties.state.properties.serviceWindow.required","properties":"$ref:$.channels.operational/assignment/status.subscribe.message.x-parser-original-payload.properties.state.properties.serviceWindow.properties"}}}},"description":{"$id":"#/properties/description","description":"Human readable description of the last action performed that changed the state of the vehicle assignment","type":"string"}}}}},"x-parser-message-parsed":true}}},"proprietary_extensions/active_cab":{"description":"### ActiveCab Message\n| Field         | Value                                                                               |\n|---------------|-------------------------------------------------------------------------------------|\n| Central Topic | ruter/{operatorId}/{vehicleId}/adt/v3/proprietary_extensions/active_cab             |\n| Schema        | [ active-cab.json ](json-schemas/proprietary-extensions/active-cab/active-cab.json) |\n","publish":{"message":{"bindings":{"mqtt":{"qos":"1","retain":true}},"examples":[{"name":"Active CAB","payload":{"eventTimestamp":"2020-10-31T08:38:02.749Z","traceId":"3841a268-0c03-4588-b476-211be0f26a0d","activeCab":"c1"}}],"name":"ActiveCab","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/proprietary-extensions/active-cab/active-cab.json","$schema":"http://json-schema.org/draft-07/schema#","title":"ActiveCab","type":"object","required":["eventTimestamp","traceId","activeCab"],"description":"Used to keep track of what direction the train is driving","additionalProperties":true,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"ISO 8601, UTC"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"activeCab":{"$id":"#/properties/activeCab","type":"string","description":"Text for active cab","examples":["c1","c2","inactive"]}}},"schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/proprietary-extensions/active-cab/active-cab.json","$schema":"http://json-schema.org/draft-07/schema#","title":"ActiveCab","type":"object","required":["eventTimestamp","traceId","activeCab"],"description":"Used to keep track of what direction the train is driving","additionalProperties":true,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"ISO 8601, UTC"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"activeCab":{"$id":"#/properties/activeCab","type":"string","description":"Text for active cab","examples":["c1","c2","inactive"]}}},"x-parser-message-parsed":true}}},"proprietary_extensions/door_lock":{"description":"### DoorLock Message\n| Field         | Value                                                                            |\n|---------------|----------------------------------------------------------------------------------|\n| Central Topic | ruter/{operatorId}/{vehicleId}/adt/v3/proprietary_extensions/door_lock           |\n| Schema        | [ door-lock.json ](json-schemas/proprietary-extensions/door-lock/door-lock.json) |\n\nThis message is used to track if the vehicle doors are locked or unlocked.\n\nFrequency: on change\n","publish":{"message":{"bindings":{"mqtt":{"qos":1,"retain":false}},"examples":[{"name":"Door Lock","payload":{"eventTimestamp":"2020-10-31T08:38:02.749Z","traceId":"3841a268-0c03-4588-b476-211be0f26a0d","locked":false}}],"name":"DoorLock","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/proprietary-extensions/door-lock/door-lock.json","$schema":"http://json-schema.org/draft-07/schema#","title":"DoorLock","type":"object","required":["eventTimestamp","traceId","locked"],"description":"Door lock event","additionalProperties":true,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"ISO 8601, UTC"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"locked":{"$id":"#/properties/locked","type":"boolean","description":"","examples":["true","false"]}},"examples":[{"eventTimestamp":"2020-10-31T08:38:02.749Z","locked":false}]},"schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/proprietary-extensions/door-lock/door-lock.json","$schema":"http://json-schema.org/draft-07/schema#","title":"DoorLock","type":"object","required":["eventTimestamp","traceId","locked"],"description":"Door lock event","additionalProperties":true,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"ISO 8601, UTC"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"locked":{"$id":"#/properties/locked","type":"boolean","description":"","examples":["true","false"]}},"examples":[{"eventTimestamp":"2020-10-31T08:38:02.749Z","locked":false}]},"x-parser-message-parsed":true}}},"proprietary_extensions/doors_individually":{"description":"### DoorsIndividually Message\n| Field         | Value                                                                                                       |\n|---------------|-------------------------------------------------------------------------------------------------------------|\n| Central Topic | ruter/{operatorId}/{vehicleId}/adt/v3/proprietary_extensions/doors_individually                             |\n| Schema        | [ doors-individually.json ](json-schemas/proprietary-extensions/doors-individually/doors-individually.json) |\n\nThis topic is used to track the individual status of doors. One use case is to improve the data quality of APC counts. See also topic sensors/door for status of anyDoorOpen/allDoorsClosed.\n","publish":{"message":{"bindings":{"mqtt":{"qos":1,"retain":false}},"examples":[{"name":"Door Individually","payload":{"doorRef":"01","isOpen":true,"atDateTime":"2021-10-31T12:45:50Z"}}],"name":"DoorsIndividually","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/proprietary-extensions/doors-individually/doors-individually.json","$schema":"http://json-schema.org/draft-07/schema#","title":"DoorsIndividually","type":"object","required":["doorRef","isOpen","atDateTime"],"description":"This object is used to represent a door individually.","additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","$comment":"Added in version 2.5","type":"string","description":"A unique identifier to be able to trace this message. Also used to detect duplicate messages received."},"doorRef":{"$id":"#/properties/doorRef","type":"string","description":"Has to be the same reference as is used in the topic sensors/apc_sensors."},"isOpen":{"$id":"#/properties/isOpen","type":"boolean","description":"True if the door is open.","examples":["true","false"]},"atDateTime":{"$id":"#/properties/atDateTime","type":"string","description":"Timestamp when isOpen has changed, ISO 8601"}}},"schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/proprietary-extensions/doors-individually/doors-individually.json","$schema":"http://json-schema.org/draft-07/schema#","title":"DoorsIndividually","type":"object","required":["doorRef","isOpen","atDateTime"],"description":"This object is used to represent a door individually.","additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","$comment":"Added in version 2.5","type":"string","description":"A unique identifier to be able to trace this message. Also used to detect duplicate messages received."},"doorRef":{"$id":"#/properties/doorRef","type":"string","description":"Has to be the same reference as is used in the topic sensors/apc_sensors."},"isOpen":{"$id":"#/properties/isOpen","type":"boolean","description":"True if the door is open.","examples":["true","false"]},"atDateTime":{"$id":"#/properties/atDateTime","type":"string","description":"Timestamp when isOpen has changed, ISO 8601"}}},"x-parser-message-parsed":true}}},"sensors/apc/{sensorId}":{"description":"### Apc Message\n| Field         | Value                                                         |\n|---------------|---------------------------------------------------------------|\n| Central Topic | ruter/{operatorId}/{vehicleId}/adt/v3/sensors/apc/{sensorId}  |\n| Schema        | [ apc.json ](json-schemas/sensors/apc/apc.json)               |\n","parameters":{"sensorId":{"description":"The sensor / telemetry Id.","schema":{"type":"string","x-parser-schema-id":"sensorId"}}},"publish":{"message":{"bindings":{"mqtt":{"qos":1,"retain":false}},"examples":[{"name":"APC Sensors","payload":{"doorRef":"01","alightingCount":23,"boardingCount":12,"atDateTime":"2017-10-31T12:45:50Z","messageNumber":123456,"categoryActivities":[{"categoryRef":"ADULT","alightingCount":23,"boardingCount":9},{"categoryRef":"CHILD","alightingCount":0,"boardingCount":3}]}}],"name":"Apc","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/sensors/apc/apc.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Apc","type":"object","required":["doorRef","alightingCount","boardingCount","atDateTime","categoryActivities"],"description":"Raw-data from door-sensor for later evaluation.","additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","$comment":"Added in version 2.5","type":"string","description":"A unique identifier to be able to trace this message. Also used to detect duplicate messages received."},"doorRef":{"$id":"#/properties/doorRef","type":"string","description":"Stable alfa-numeric reference that is unique within scope of vehicle (vehicle element/train set). Could be a door-number or a combination of coach number and door number."},"alightingCount":{"$id":"#/properties/alightingCount","type":"number","description":"Total number of alighting passengers detected by this sensor since last reset."},"boardingCount":{"$id":"#/properties/boardingCount","type":"number","description":"Total number of boarding passengers detected by this sensor since last reset."},"atDateTime":{"$id":"#/properties/atDateTime","type":"string","description":"ISO 8601. Reflects the current UTC time."},"messageNumber":{"$id":"#/properties/messageNumber","$comment":"Added in version 2.1","type":"number","description":"Sequence number, increased by one for each new message. Used to validate consistency in the data stream."},"categoryActivities":{"$id":"#/properties/categoryActivities","type":"array","description":"A list describing APC activity at each individual door divided per handled object category.","items":{"type":"object","required":["categoryRef","alightingCount","boardingCount"],"properties":{"categoryRef":{"type":"string","description":"Object class reference. Any of the following object categories.","values":["ADULT","CHILD","PRAM","BIKE","WHEELCHAIR","UNKNOWN"],"x-parser-schema-id":"<anonymous-schema-2>"},"alightingCount":{"type":"number","description":"Number of alighting of this category detected by this sensor since last reset.","x-parser-schema-id":"<anonymous-schema-3>"},"boardingCount":{"type":"number","description":"Number of boarding of this category detected by this sensor since last reset.","x-parser-schema-id":"<anonymous-schema-4>"}},"x-parser-schema-id":"<anonymous-schema-1>"}}}},"schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/sensors/apc/apc.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Apc","type":"object","required":["doorRef","alightingCount","boardingCount","atDateTime","categoryActivities"],"description":"Raw-data from door-sensor for later evaluation.","additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","$comment":"Added in version 2.5","type":"string","description":"A unique identifier to be able to trace this message. Also used to detect duplicate messages received."},"doorRef":{"$id":"#/properties/doorRef","type":"string","description":"Stable alfa-numeric reference that is unique within scope of vehicle (vehicle element/train set). Could be a door-number or a combination of coach number and door number."},"alightingCount":{"$id":"#/properties/alightingCount","type":"number","description":"Total number of alighting passengers detected by this sensor since last reset."},"boardingCount":{"$id":"#/properties/boardingCount","type":"number","description":"Total number of boarding passengers detected by this sensor since last reset."},"atDateTime":{"$id":"#/properties/atDateTime","type":"string","description":"ISO 8601. Reflects the current UTC time."},"messageNumber":{"$id":"#/properties/messageNumber","$comment":"Added in version 2.1","type":"number","description":"Sequence number, increased by one for each new message. Used to validate consistency in the data stream."},"categoryActivities":{"$id":"#/properties/categoryActivities","type":"array","description":"A list describing APC activity at each individual door divided per handled object category.","items":{"type":"object","required":["categoryRef","alightingCount","boardingCount"],"properties":{"categoryRef":{"type":"string","description":"Object class reference. Any of the following object categories.","values":["ADULT","CHILD","PRAM","BIKE","WHEELCHAIR","UNKNOWN"]},"alightingCount":{"type":"number","description":"Number of alighting of this category detected by this sensor since last reset."},"boardingCount":{"type":"number","description":"Number of boarding of this category detected by this sensor since last reset."}}}}}},"x-parser-message-parsed":true}}},"sensors/door":{"description":"### Door Message\n| Field         | Value                                       |\n|---------------|---------------------------------------------|\n| Central Topic | ruter/{operatorId}/{vehicleId}/adt/v3/sensors/door|\n| Schema        | [ door.json ](json-schemas/sensors/door/door.json)|\n\nFrequency: on change\n","publish":{"message":{"bindings":{"mqtt":{"qos":1,"retain":true}},"examples":[{"name":"Door Sensor","payload":{"doorOpen":true,"atDateTime":"2021-11-30T23:45:52.006Z"}}],"name":"Door","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/sensors/door/door.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Door","type":"object","required":["doorOpen","atDateTime"],"description":"Describes if any door is open (if the door lock is released). Also see topic pe/doors_individually for status on individual doors.","additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","$comment":"Added in version 2.5","type":"string","description":"A unique identifier to be able to trace this message. Also used to detect duplicate messages received."},"doorOpen":{"$id":"#/properties/doorOpen","type":"boolean","description":"True if any door is open (door lock is released). False if door lock is activated.","examples":["true","false"]},"atDateTime":{"$id":"#/properties/atDateTime","type":"string","description":"ISO 8601. Reflects the UTC time when the state changed."}},"examples":[{"doorOpen":true,"atDateTime":"2021-11-30T23:45:52.006Z","traceId":"2d826a9a-2474-11ed-861d-0242ac120002"}]},"schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/sensors/door/door.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Door","type":"object","required":["doorOpen","atDateTime"],"description":"Describes if any door is open (if the door lock is released). Also see topic pe/doors_individually for status on individual doors.","additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","$comment":"Added in version 2.5","type":"string","description":"A unique identifier to be able to trace this message. Also used to detect duplicate messages received."},"doorOpen":{"$id":"#/properties/doorOpen","type":"boolean","description":"True if any door is open (door lock is released). False if door lock is activated.","examples":["true","false"]},"atDateTime":{"$id":"#/properties/atDateTime","type":"string","description":"ISO 8601. Reflects the UTC time when the state changed."}},"examples":[{"doorOpen":true,"atDateTime":"2021-11-30T23:45:52.006Z","traceId":"2d826a9a-2474-11ed-861d-0242ac120002"}]},"x-parser-message-parsed":true}}},"sensors/gnss/location":{"description":"### Location Message\n| Field         | Value                                                |\n|---------------|------------------------------------------------------|\n| Central Topic | ruter/{operatorId}/{vehicleId}/adt/v3/sensors/gnss/location|\n| Schema        | [ location.json ](json-schemas/sensors/gnss/location/location.json)|\n\nDescribes the GNSS navigation receiver feedback in metric format. The periodicity of updates to be expected should be\ndescribed as number of seconds in configValue01 for this topic under topic:\n```\nruter/{PTO}/{vehicleID}/mi/provider_clients//provided_topics\n```\n\nThe GNSS type should be described in configValue11. Information about the used GNSS System. MixedGNSSTypes is used for\nreceivers using multiple satellite constellations. Possible values:\n- GPS\n- Glonass\n- Galileo\n- Beidou\n- IRNSS\n- Other\n- DeadReckoning\n- MixedGNSSTypes\n\nThe GNSS coordinate system should be described in configValue12, at least if other than “WGS84”. Possible values:\n- GPS\n- Glonass\n- Galileo\n- Beidou\n- IRNSS\n- Other\n- DeadReckoning\n- MixedGNSSTypes\n\n“MixedGNSSTypes” is used for receivers using multiple satellite constellations.\n\nFrequency is recommended at 1 message per second.\n","publish":{"message":{"bindings":{"mqtt":{"qos":0,"retain":false}},"examples":[{"name":"Location","payload":{"traceId":"3841a268-0c03-4588-b476-211be0f26a0d","latitudeDegree":59.251356,"longitudeDegree":11.581231,"altitude":124,"fixDateTime":"2017-11-30T23:45:52Z","messageNumber":12345,"speedOverGround":15.3,"trackDegreeTrue":324,"signalQuality":1,"numberOfSatellites":12,"hdop":2.4}}],"name":"Location","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/sensors/gnss/location/location.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Location","type":"object","description":"Location sensor data","required":["traceId","latitudeDegree","longitudeDegree","altitude","fixDateTime","speedOverGround","trackDegreeTrue","signalQuality","numberOfSatellites","hdop"],"additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"latitudeDegree":{"$id":"#/properties/latitudeDegree","type":"number","description":"Latitude coordinate in decimal degrees."},"latitudeDirection":{"$id":"#/properties/latitudeDirection","type":"string","description":"Optional. Latitude direction (“N” or “S”)."},"longitudeDegree":{"$id":"#/properties/longitudeDegree","type":"number","description":"Longitude coordinate in decimal degrees."},"longitudeDirection":{"$id":"#/properties/longitudeDirection","type":"string","description":"Optional. Longitude direction (“W” or “E”)."},"altitude":{"$id":"#/properties/altitude","type":"number","description":"Altitude value (m) above mean sea level."},"fixDateTime":{"$id":"#/properties/fixDateTime","type":"string","description":"ISO 8601. Reflects the UTC time provided by the GNSS equipment for position fix. This is the point in time the location applies to."},"messageNumber":{"$id":"#/properties/messageNumber","$comment":"Added in version 2.1","type":"number","description":"Optional. Sequence number, increased by one for each new message. Used to validate consistency in the data stream."},"speedOverGround":{"$id":"#/properties/speedOverGround","type":"number","description":"GNSS based speed over ground (m/s)."},"trackDegreeTrue":{"$id":"#/properties/trackDegreeTrue","type":"number","description":"Direction of travel in relation to the geographical North Pole (0-360 degrees)."},"signalQuality":{"$id":"#/properties/signalQuality","type":"number","description":"GPS quality indicator. 0 - Fix not available. 1 - GPS fix. 2 - Differential GPS fix. 3 = PPS fix. 4 = Real Time Kinematic. 5 = Float RTK. 6 = Estimated (dead reckoning). 7 = Manual input mode. 8 = Simulation mode"},"numberOfSatellites":{"$id":"#/properties/numberOfSatellites","type":"number","description":"Number of satellites used."},"hdop":{"$id":"#/properties/hdop","type":"number","description":"Value of precision in horizontal dilution."}}},"schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/sensors/gnss/location/location.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Location","type":"object","description":"Location sensor data","required":["traceId","latitudeDegree","longitudeDegree","altitude","fixDateTime","speedOverGround","trackDegreeTrue","signalQuality","numberOfSatellites","hdop"],"additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"latitudeDegree":{"$id":"#/properties/latitudeDegree","type":"number","description":"Latitude coordinate in decimal degrees."},"latitudeDirection":{"$id":"#/properties/latitudeDirection","type":"string","description":"Optional. Latitude direction (“N” or “S”)."},"longitudeDegree":{"$id":"#/properties/longitudeDegree","type":"number","description":"Longitude coordinate in decimal degrees."},"longitudeDirection":{"$id":"#/properties/longitudeDirection","type":"string","description":"Optional. Longitude direction (“W” or “E”)."},"altitude":{"$id":"#/properties/altitude","type":"number","description":"Altitude value (m) above mean sea level."},"fixDateTime":{"$id":"#/properties/fixDateTime","type":"string","description":"ISO 8601. Reflects the UTC time provided by the GNSS equipment for position fix. This is the point in time the location applies to."},"messageNumber":{"$id":"#/properties/messageNumber","$comment":"Added in version 2.1","type":"number","description":"Optional. Sequence number, increased by one for each new message. Used to validate consistency in the data stream."},"speedOverGround":{"$id":"#/properties/speedOverGround","type":"number","description":"GNSS based speed over ground (m/s)."},"trackDegreeTrue":{"$id":"#/properties/trackDegreeTrue","type":"number","description":"Direction of travel in relation to the geographical North Pole (0-360 degrees)."},"signalQuality":{"$id":"#/properties/signalQuality","type":"number","description":"GPS quality indicator. 0 - Fix not available. 1 - GPS fix. 2 - Differential GPS fix. 3 = PPS fix. 4 = Real Time Kinematic. 5 = Float RTK. 6 = Estimated (dead reckoning). 7 = Manual input mode. 8 = Simulation mode"},"numberOfSatellites":{"$id":"#/properties/numberOfSatellites","type":"number","description":"Number of satellites used."},"hdop":{"$id":"#/properties/hdop","type":"number","description":"Value of precision in horizontal dilution."}}},"x-parser-message-parsed":true}}},"sensors/odometer":{"description":"### Odometer Message\n| Field         | Value                                           |\n|---------------|-------------------------------------------------|\n| Central Topic | ruter/{operatorId}/{vehicleId}/adt/v3/sensors/odometer|\n| Schema        | [ odometer.json ](json-schemas/sensors/odometer/odometer.json)|\n\nDescribes an odometer value in meters based on total vehicle distance or similar. Absolute value of less importance but\nshould be increasing at least within the scope of a journey. Optionally the current speed according to the odometer could be included.\n\nFrequency is recommended at 1 message per second.\n","publish":{"message":{"bindings":{"mqtt":{"qos":0,"retain":false}},"examples":[{"name":"Odometer","payload":{"distance":23434556,"atDateTime":"2017-11-30T23:45:52.006Z","messageNumber":12345}}],"name":"Odometer","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/sensors/odometer/odometer.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Odometer","type":"object","required":["distance","atDateTime"],"description":"Odometer data","additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","$comment":"Added in version 2.5","type":"string","description":"A unique identifier to be able to trace this message. Also used to detect duplicate messages received."},"distance":{"$id":"#/properties/distance","type":"number","description":"Describes absolute odometer value in metres."},"atDateTime":{"$id":"#/properties/atDateTime","type":"string","description":"ISO 8601. Reflects the UTC time when the state changed."},"messageNumber":{"$id":"#/properties/messageNumber","$comment":"Added in version 2.1","type":"number","description":"Optional. Sequence number, increased by one for each new message. Used to validate consistency in the data stream."}},"examples":[{"distance":23434556,"atDateTime":"2017-11-30T23:45:52.006Z","traceId":"2d826a9a-2474-11ed-861d-0242ac120002","messageNumber":12345}]},"schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/sensors/odometer/odometer.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Odometer","type":"object","required":["distance","atDateTime"],"description":"Odometer data","additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","$comment":"Added in version 2.5","type":"string","description":"A unique identifier to be able to trace this message. Also used to detect duplicate messages received."},"distance":{"$id":"#/properties/distance","type":"number","description":"Describes absolute odometer value in metres."},"atDateTime":{"$id":"#/properties/atDateTime","type":"string","description":"ISO 8601. Reflects the UTC time when the state changed."},"messageNumber":{"$id":"#/properties/messageNumber","$comment":"Added in version 2.1","type":"number","description":"Optional. Sequence number, increased by one for each new message. Used to validate consistency in the data stream."}},"examples":[{"distance":23434556,"atDateTime":"2017-11-30T23:45:52.006Z","traceId":"2d826a9a-2474-11ed-861d-0242ac120002","messageNumber":12345}]},"x-parser-message-parsed":true}}},"sensors/stop_button":{"description":"### StopButton Message\n| Field         | Value                                                                   |\n|---------------|-------------------------------------------------------------------------|\n| Central Topic | ruter/{operatorId}/{vehicleId}/adt/v3/sensors/stop_button               |\n| Schema        | [ stop-button.json ](json-schemas/sensors/stop-button/stop-button.json) |\n\nThis message should be produced whenever the stop signal is turned on or off.\n\nFrequency: on change\n","publish":{"message":{"bindings":{"mqtt":{"qos":1,"retain":false}},"examples":[{"name":"Stop Button","payload":{"eventTimestamp":"2021-11-30T23:45:52.006Z","traceId":"c26f450f-2418-4792-a567-05f6771cba7a","stopPressed":true,"accessibility":false}}],"name":"StopButton","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/sensors/stop-button/stop-button.json","$schema":"http://json-schema.org/draft-07/schema#","title":"StopButton","type":"object","required":["eventTimestamp","traceId","stopPressed","accessibility"],"description":"Describes if passengers have requested that the bus should stop (stop button pressed).","additionalProperties":true,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"ISO 8601. Reflects the UTC time when the state changed."},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"stopPressed":{"$id":"#/properties/stopPressed","type":"boolean","description":"True if stop request button pressed. False if stop request signal is cleared.","examples":["true","false"]},"accessibility":{"$id":"#/properties/accessibility","type":"boolean","description":"True if stop request should lead to longer wait on stop. Used to indicate if the request is by someone with accessibility challenges.","examples":["true","false"]},"messageNumber":{"$id":"#/properties/messageNumber","$comment":"Added in version 2.1","type":"number","description":"Optional. Sequence number, increased by one for each new message. Used to validate consistency in the data stream."}},"examples":[{"eventTimestamp":"2021-11-30T23:45:52.006Z","traceId":"c26f450f-2418-4792-a567-05f6771cba7a","stopPressed":true,"accessibility":false,"messageNumber":1}]},"schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/sensors/stop-button/stop-button.json","$schema":"http://json-schema.org/draft-07/schema#","title":"StopButton","type":"object","required":["eventTimestamp","traceId","stopPressed","accessibility"],"description":"Describes if passengers have requested that the bus should stop (stop button pressed).","additionalProperties":true,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"ISO 8601. Reflects the UTC time when the state changed."},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"stopPressed":{"$id":"#/properties/stopPressed","type":"boolean","description":"True if stop request button pressed. False if stop request signal is cleared.","examples":["true","false"]},"accessibility":{"$id":"#/properties/accessibility","type":"boolean","description":"True if stop request should lead to longer wait on stop. Used to indicate if the request is by someone with accessibility challenges.","examples":["true","false"]},"messageNumber":{"$id":"#/properties/messageNumber","$comment":"Added in version 2.1","type":"number","description":"Optional. Sequence number, increased by one for each new message. Used to validate consistency in the data stream."}},"examples":[{"eventTimestamp":"2021-11-30T23:45:52.006Z","traceId":"c26f450f-2418-4792-a567-05f6771cba7a","stopPressed":true,"accessibility":false,"messageNumber":1}]},"x-parser-message-parsed":true}}},"sensors/telemetry/{sensorId}":{"description":"### Telemetry Message\n| Field         | Value                                                              |\n|---------------|--------------------------------------------------------------------|\n| Central Topic | ruter/{operatorId}/{vehicleId}/adt/v3/sensors/telemetry/{sensorId} |\n| Schema        | [ telemetry.json ](json-schemas/sensors/telemetry/telemetry.json)  |\n\nSeveral different kinds of sensor/telemetry data are available varying by vehicle type For traditional busses, FMS is the standard that defines what data about the vehicle is published on the FMS bus and further on by ITxPT FMStoIP [service.In](http://service.In \"http://service.In\") addition, vessels, trams and different bus types have proprietary data not captured by FMS.\n\nAccording to the data centric approach from ITxPT, several of these data types (door, location, stop button etc) have been assigned separate topics as being described in this document. However, data types required by Ruter that haven’t yet been described in the MQTT structure from ITxPT, will still be handled by the general Telemetry topic that was introduced by Ruter in 2019.\n\nAll such data are defined by unique, 32 bit, identifiers. Data caught from the FMS bus retain their PGN numbers as the last 16 bits of the ID. Data not coming from the FMS bus follow a separate addressing scheme, with addresses allocated by Ruter on request. Please note that PTOs are free to decide if they want to use FMS or a non-FMS data source to provide the data.\n\nTo utilize FMS data in Ruter’s architecture, Operators can either set up an FMS2IP service or use any other means to subscribe to the FMS bus data. Note that there must be one separate MQTT message per FMS PGN.\n\nThe identifiers are constructed this way:\n\n\n|Bytes | Description |\n| --- | --- |\n**1** | Source identifier (0x00 FMS, 0x01 Non-FMS)\n**2-4** | Source-specific id, e.g. FMS PGNs\n\n## Available Non-FMS standard data identifiers\nOptional unless stated explicitly in the main ADT document.\n\nID | Subid | Name | Value | Recommended refresh interval | Remarks\n--- | --- | --- | --- | --- | ---\n**0001FF25** | 10003 | Wall Charger connected | | onChange |\n**0001FF25** | 10004 | Fast Charger connected | | onChange |\n**0001FF25** | 10005 | Charging Active | | onChange |\n**01000002** | | Temperature inside average | float | 1/min |\n**01000005** | | SOC | float | 1/min |\n**01000006** | | Transmission mode | combustion/electric | onChange | Intended for hybrid vehicles\n**01000007** | | Windscreen wiper active | True/false | onChange | Taken to represent a measurement of the ground truth binary rainfall state, given that it is a better predictor of the binary rainfall state than radar- or gauge-based measurements\n**01000008** | | Accelerometry | | 1/min | * Bandwidth >= 100 hz<br> * Resolution <= 0.01 g\n| | xmin | Min x value last minute | g | | |\n| | xmax | Max x value last minute | g | | |\n| | xavg | Average x value last minute | g | | |\n| | ymin | Min y value last minute | g | | |\n| | ymax | Max y value last minute | g | | |\n| | yavg | Average y value last minute | g | | |\n| | zmin | Min z value last minute | g | | |\n| | zmax | Max z value last minute | g | | |\n| | zavg | Average z value last minute | g | | |\n**01000009** | | Outdoor temperature | float | 1/min |* Unit Celcius <br>* Resolution <= 1 C <br>* Measured at front of vehicle as near as possible to the ground\n**0100000A** | | Accumulated energy consumption | float | 1/min | * Energy consumed <br>* Including HVAC <br>* Unit: kWh\n","parameters":{"sensorId":"$ref:$.channels.sensors/apc/{sensorId}.parameters.sensorId"},"publish":{"message":{"bindings":{"mqtt":{"qos":0,"retain":false}},"examples":[{"name":"Telemetry Addressing Scheme","payload":[{"id":"01000001","payloads":[{"name":"All doors closed","value":"true/false"}]},{"id":"01000002","payloads":[{"name":"Temperature inside front","value":"float"}]},{"id":"01000003","payloads":[{"name":"Temperature inside middle","value":"float"}]},{"id":"01000004","payloads":[{"name":"Temperature inside back","value":"float"}]},{"id":"01000005","payloads":[{"name":"SOC","value":"float"}]}]},{"name":"Telemetry","payload":{"eventTimestamp":"2019-10-31T12:45:50Z","id":"01000008","payloads":[{"name":"xmin","value":0.1},{"name":"xmax","value":0.2},{"name":"xavg","value":0.15},{"name":"ymin","value":-0.1},{"name":"ymax","value":0.2},{"name":"yavg","value":0.1},{"name":"zmin","value":0.01},{"name":"zmax","value":0.03},{"name":"zavg","value":0.02}]}}],"name":"Telemetry","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/sensors/telemetry/telemetry.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Telemetry","type":"object","required":["eventTimestamp","id","payloads"],"description":"","additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","$comment":"Added in version 2.5","type":"string","description":"A unique identifier to be able to trace this message. Also used to detect duplicate messages received."},"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"ISO 8601, UTC."},"messageNumber":{"$id":"#/properties/messageNumber","$comment":"Added in version 2.1","type":"number","description":"Optional. Sequence number, increased by one for each new message. Used to validate consistency in the data stream."},"id":{"$id":"#/properties/id","type":"string","description":"Eight digit hex as defined above."},"payloads":{"$id":"#/properties/payloads","type":"array","description":"If FMS data or accelerometry, one payload per SPN. Else, one payload.","items":{"type":"object","required":[],"properties":{"subid":{"type":"string","description":"Optional. Only to be used for SPN.","x-parser-schema-id":"<anonymous-schema-6>"},"name":{"type":"string","description":"Optional.","x-parser-schema-id":"<anonymous-schema-7>"},"unit":{"type":"string","description":"Optional.","x-parser-schema-id":"<anonymous-schema-8>"},"value":{"description":"","x-parser-schema-id":"<anonymous-schema-9>"}},"x-parser-schema-id":"<anonymous-schema-5>"}}}},"schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/sensors/telemetry/telemetry.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Telemetry","type":"object","required":["eventTimestamp","id","payloads"],"description":"","additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","$comment":"Added in version 2.5","type":"string","description":"A unique identifier to be able to trace this message. Also used to detect duplicate messages received."},"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"ISO 8601, UTC."},"messageNumber":{"$id":"#/properties/messageNumber","$comment":"Added in version 2.1","type":"number","description":"Optional. Sequence number, increased by one for each new message. Used to validate consistency in the data stream."},"id":{"$id":"#/properties/id","type":"string","description":"Eight digit hex as defined above."},"payloads":{"$id":"#/properties/payloads","type":"array","description":"If FMS data or accelerometry, one payload per SPN. Else, one payload.","items":{"type":"object","required":[],"properties":{"subid":{"type":"string","description":"Optional. Only to be used for SPN."},"name":{"type":"string","description":"Optional."},"unit":{"type":"string","description":"Optional."},"value":{"description":""}}}}}},"x-parser-message-parsed":true}}},"di/override_attempt/destination_display":{"description":"### Destination Display Override Message\n| Field         | Value                                                                                 |\n|---------------|---------------------------------------------------------------------------------------|\n| Central Topic | ruter/{operatorId}/{vehicleId}/di/override_attempt/destination_display                |\n| Schema        | [ destination-display-override.json ](json-schemas/destination-display-override.json) |\n","publish":{"message":{"name":"Destination Display Override Message","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v2.1/driver-interaction/destination-display-override.json","$schema":"http://json-schema.org/draft-07/schema#","title":"DestinationDisplayOverride","type":"object","required":["traceId","eventTimestamp","destination"],"description":"Describes a request from MADT or other GUI to manually override the information shown on the destination display. It is up to the presenting system to decide how and for how long the override will apply. A rule could be until next journey begins or a new override_attempt/destination_display is received. The topic could be blanked (provided with a zero-byte payload) to indicate that any overriding information is no longer valid and that the destination display can return to normal","additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"Event Timestamp must be ISO 8601 UTC","format":"date-time"},"number":{"$id":"#/properties/number","type":"number","description":"Numeric value representing the destination sign information to display."},"publicCode":{"$id":"#/properties/publicCode","type":"string","description":"Publicly-known number of the line"},"destination":{"$id":"#/properties/destination","type":"string","description":"Destination of the bus"},"alternativeMessage":{"$id":"#/properties/alternativeMessage","type":"string","description":"Alternative message to be displayed on second line of display"}}},"examples":[{"name":"Destination Display Override","payload":{"eventTimestamp":"2023-04-10T16:45:33.901Z","traceId":"3841a268-0c03-4588-b476-211be0f26a0d","publicCode":"250","destination":"  Oslo bussterminal","alternativeMessage":"  Ingen påstigning"}}],"bindings":{"mqtt":{"qos":1,"retain":false}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v2.1/driver-interaction/destination-display-override.json","$schema":"http://json-schema.org/draft-07/schema#","title":"DestinationDisplayOverride","type":"object","required":["traceId","eventTimestamp","destination"],"description":"Describes a request from MADT or other GUI to manually override the information shown on the destination display. It is up to the presenting system to decide how and for how long the override will apply. A rule could be until next journey begins or a new override_attempt/destination_display is received. The topic could be blanked (provided with a zero-byte payload) to indicate that any overriding information is no longer valid and that the destination display can return to normal","additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"Event Timestamp must be ISO 8601 UTC","format":"date-time"},"number":{"$id":"#/properties/number","type":"number","description":"Numeric value representing the destination sign information to display."},"publicCode":{"$id":"#/properties/publicCode","type":"string","description":"Publicly-known number of the line"},"destination":{"$id":"#/properties/destination","type":"string","description":"Destination of the bus"},"alternativeMessage":{"$id":"#/properties/alternativeMessage","type":"string","description":"Alternative message to be displayed on second line of display"}}},"x-parser-message-parsed":true}}},"oi/vehicle/unique_identifier":{"description":"### Unique Identifier message:\n| Field         | Value                                                           |\n|---------------|-----------------------------------------------------------------|\n| Central Topic | -                                                               |\n| Schema        | [ unique-identifier.json ](json-schemas/unique-identifier.json) |\n","publish":{"message":{"name":"UniqueIdentifier Message","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v2.1/operational-information/unique-identifier.json","$schema":"http://json-schema.org/draft-07/schema#","title":"UniqueIdentifier","type":"object","required":["traceId","value","typeOfValue"],"description":"A primary and permanent unique identifier used to represent the physical vehicle. For road vehicles: Indicates the globally unique 17 characters long alphanumeric Vehicle Identification Number (VIN) permanently attached to the vehicle. For other modes: Indicates a globally unique number of some sort permanently attached to the vehicle or if this is not possible; to the on-board system. Could be a MAC-address or other GUID.","additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"value":{"$id":"#/properties/value","type":"string","description":"Normally a 17 characters long alphanumeric Vehicle Identification Number (VIN) permanently attached to the vehicle by the vehicle manufacturer. For non-road vehicles where such a permanent identifier is not available or if the VIN is not known some other type of globally unique value could be used."},"typeOfValue":{"$id":"#/properties/typeOfValue","type":"string","description":"Possible values in examples.","examples":["VIN","UUID","PIN","OTHER"]}}},"examples":[{"name":"Unique Identifier","payload":{"traceId":"3841a268-0c03-4588-b476-211be0f26a0d","value":"1HGCM82633A004352","typeOfValue":"VIN"}}],"bindings":{"mqtt":{"qos":1,"retain":true}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v2.1/operational-information/unique-identifier.json","$schema":"http://json-schema.org/draft-07/schema#","title":"UniqueIdentifier","type":"object","required":["traceId","value","typeOfValue"],"description":"A primary and permanent unique identifier used to represent the physical vehicle. For road vehicles: Indicates the globally unique 17 characters long alphanumeric Vehicle Identification Number (VIN) permanently attached to the vehicle. For other modes: Indicates a globally unique number of some sort permanently attached to the vehicle or if this is not possible; to the on-board system. Could be a MAC-address or other GUID.","additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"value":{"$id":"#/properties/value","type":"string","description":"Normally a 17 characters long alphanumeric Vehicle Identification Number (VIN) permanently attached to the vehicle by the vehicle manufacturer. For non-road vehicles where such a permanent identifier is not available or if the VIN is not known some other type of globally unique value could be used."},"typeOfValue":{"$id":"#/properties/typeOfValue","type":"string","description":"Possible values in examples.","examples":["VIN","UUID","PIN","OTHER"]}}},"x-parser-message-parsed":true}}},"pe/dpi_ack":{"description":"### DPI Acknowledge message:\n| Field         | Value                                                       |\n|---------------|-------------------------------------------------------------|\n| Central Topic | {operatorId}/ruter/{vehicleId}/pe/dpi/ack                   |\n| Schema        | [ dpi-acknowledge.json ](json-schemas/dpi-acknowledge.json) |\n\nThe DPI Ack topic is used to inform the Ruter BO about the correct transfer and interpretation of messages to the vehicle.\n\nRuter shall receive an acknowledgment message for the following topics: \n\n| Topic                     | Responsible for producing ack |\n|---------------------------|-------------------------------|\n| External display messages | PTO                           |\n| Audio messages            | PTO                           |\n| Journey messages          | DPI application               |\n| NextStop messages         | DPI application               |\n\nThe ack message should be produced as soon as the message is received and validated. This is a confirmation that the system\non board the vehicle have received the data and is capable of acting on it. \n\nNo confirmation message should be returned if the system is unable to playback the content. (e.g. invalid message format)\n","publish":{"message":{"name":"DPIAcknowledge Message","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v2.1/proprietary-extensions/dpi-acknowledge.json","$schema":"http://json-schema.org/draft-07/schema#","title":"DPI Acknowledge","type":"object","required":["eventTimestamp","traceId","clientId","messageReceived"],"description":"The DPI Ack topic.","additionalProperties":true,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"ISO 8601","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"clientId":{"$id":"#/properties/clientId","type":"string","description":"The mqtt clientId of the client receiving the message. Should be persistent and not change from day to day."},"messageReceived":{"$id":"#/properties/messageReceived","type":"object","properties":{"topic":{"type":"string","description":"Local MQTT topic key of received message","x-parser-schema-id":"<anonymous-schema-10>"},"eventTimestamp":{"type":"string","description":"The eventTimestamp of the message received","format":"date-time","x-parser-schema-id":"<anonymous-schema-11>"},"traceId":{"type":"string","description":"The traceId of the message received","x-parser-schema-id":"<anonymous-schema-12>"}},"required":["topic","eventTimestamp","traceId"]}}},"examples":[{"name":"DPI Acknowledge","payload":{"eventTimestamp":"2022-10-31T12:45:50Z","traceId":"2ccf77aa-463f-4b98-ad19-61ec5d213e36","clientId":"8fac6c64la4cap4b21R90d","messageReceived":{"topic":"pe/dpi/journey","eventTimestamp":"2021-10-31T12:44:10Z","traceId":"b88aaf6a-b15b-415a-8c44-ac7ad42de59e"}}}],"bindings":{"mqtt":{"qos":1,"retain":false}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v2.1/proprietary-extensions/dpi-acknowledge.json","$schema":"http://json-schema.org/draft-07/schema#","title":"DPI Acknowledge","type":"object","required":["eventTimestamp","traceId","clientId","messageReceived"],"description":"The DPI Ack topic.","additionalProperties":true,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"ISO 8601","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"clientId":{"$id":"#/properties/clientId","type":"string","description":"The mqtt clientId of the client receiving the message. Should be persistent and not change from day to day."},"messageReceived":{"$id":"#/properties/messageReceived","type":"object","properties":{"topic":{"type":"string","description":"Local MQTT topic key of received message"},"eventTimestamp":{"type":"string","description":"The eventTimestamp of the message received","format":"date-time"},"traceId":{"type":"string","description":"The traceId of the message received"}},"required":["topic","eventTimestamp","traceId"]}}},"x-parser-message-parsed":true}}},"pe/dpi_diagnostics":{"description":"### DPI Diagnostics message:\n| Field         | Value                                                       |\n|---------------|-------------------------------------------------------------|\n| Central Topic | {operatorId}/ruter/{vehicleId}/pe/dpi_diagnostics           |\n| Schema        | [ dpi-diagnostics.json ](json-schemas/dpi-diagnostics.json) |\n\nReport to PTA BO about a screen.\n\nThe DPI application itself produces diagnostic messages.\nThe payload is defined as an object with no pre-defined structure to provide flexibility.","publish":{"message":{"name":"DPI Diagnostics Message","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":{"definitions":{},"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://example.com/root.json","type":"object","title":"The Root Schema","required":["eventTimestamp","traceId","screenId","type"],"additionalProperties":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"EventTimestamp must be ISO 8601 UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"screenId":{"$id":"#/properties/screenId","type":"string","title":"Screen id","examples":["ad71dba8-c881-11e8-a8d5-f2801f1b9fd1"],"pattern":"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$"},"type":{"$id":"#/properties/type","type":"string","description":"Diagnostics type","examples":["INFO","HEARTBEAT","ERROR","STATISTICS","SCREEN"]},"payload":{"$id":"#/properties/payload","type":"object","description":"Diagnostics payload, a dictionary of key/values"}}},"examples":[{"name":"DPI Diagnostics","payload":{"eventTimestamp":"2018-10-31T12:45:50Z","traceId":"3841a268-0c03-4588-b476-211be0f26a0d","screenId":"ad71dba8-c881-11e8-a8d5-f2801f1b9fd1","type":"STATUS","payload":{"version":{"application":"2018-10-03T12:45:50Z","media":"2018-10-05T12:45:50Z"},"display":{"type":"1","res":{"height":360,"width":1080}},"stats":{"logEntries":{"error":0,"warning":14,"info":123},"lastLoaded":"2018-10-31T12:45:45Z","pingFreq":3600,"usedStorage":"124kb"}}}},{"name":"Diagnostics Heartbeat","payload":{"eventTimestamp":"2019-10-09T10:16:07.000Z","clientId":"638f47b7-d0d4-4043-9125-2dd8db6b8a84","type":"HEARTBEAT","payload":{"client":{"version":"2019-08-16T08-11-58Z","display":"1","windowHeight":1080,"windowWidth":1920},"routeId":"RUT:Route:0-54012"}}}],"bindings":{"mqtt":{"qos":1,"retain":false}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"definitions":{},"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://example.com/root.json","type":"object","title":"The Root Schema","required":["eventTimestamp","traceId","screenId","type"],"additionalProperties":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"EventTimestamp must be ISO 8601 UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"screenId":{"$id":"#/properties/screenId","type":"string","title":"Screen id","examples":["ad71dba8-c881-11e8-a8d5-f2801f1b9fd1"],"pattern":"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$"},"type":{"$id":"#/properties/type","type":"string","description":"Diagnostics type","examples":["INFO","HEARTBEAT","ERROR","STATISTICS","SCREEN"]},"payload":{"$id":"#/properties/payload","type":"object","description":"Diagnostics payload, a dictionary of key/values"}}},"x-parser-message-parsed":true}}},"pe/sales/diagnostics":{"description":"### RuterSalg diagnostics\n| Field         | Value                                                       |\n|---------------|-------------------------------------------------------------|\n| Central Topic | ruter/{operatorId}/{vehicleId}/pe/sales/diagnostics/json    |\n| Schema        | [ salediagnostics.json ](json-schemas/salediagnostics.json) |\n\nDiagnostics message generated by RuterSalg. More details about fields can be found at https://ruter.atlassian.net/wiki/spaces/TAAS/pages/948928517/OTA+MQTT-Meldinger+benyttet+av+Ruter+Salg.\n\nThis topic is intended for applications interested in health status for the RuterSalg application on each bus. The health status is intended both as a real time surveillance of health status for each individual bus as well as for aggregating data per operator to see larger, more general issues. The topic can also, when enriched by other data, determine whether or not RuterSalg was used and working on a specific departure.","publish":{"message":{"name":"RuterSalg Diagnostics MQTT Message","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://schema.ruter.no/salediagnostics.json","type":"object","title":"RuterSalg Diagnostics MQTT Message","required":["eventTimestamp","nfcReaderConnected","printerConnected","nodAvailable","sapiAvailable","loggedIn"],"additionalProperties":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"Time of diagnostics generated","format":"date-time"},"traceId":{"$id":"#/properties/traceId","$comment":"Added in version 2.5","type":"string","description":"A unique identifier to be able to trace this message. Also used to detect duplicate messages received."},"nfcReaderConnected":{"$id":"#/properties/nfcReaderConnected","type":"boolean","description":"NFC reader connected"},"printerConnected":{"$id":"#/properties/printerConnected","type":"boolean","description":"Printer connected"},"nodAvailable":{"$id":"#/properties/nodAvailable","type":"boolean","description":"NOD available"},"sapiAvailable":{"$id":"#/properties/sapiAvailable","type":"boolean","description":"SAPI available"},"loggedIn":{"$id":"#/properties/loggedIn","type":"boolean","description":"User is logged in"},"printerStatus":{"$id":"#/properties/printerStatus","type":"string","description":"Last status message from printer"},"journeyRef":{"$id":"#/properties/journeyRef","type":"string","description":"Last journeyRef obtained by the app"},"stopPlaceId":{"$id":"#/properties/stopPlaceId","type":"string","description":"StopPlaceId obtained in NextStop that triggered this diagnostics message"}}},"examples":[{"name":"Sales Diagnostics","payload":{"eventTimestamp":"2020-04-28T13:49:50.814Z","nfcReaderConnected":false,"printerConnected":true,"nodAvailable":true,"sapiAvailable":false,"loggedIn":true,"journeyRef":"42911-2020-05-25T16:42:00+02:00","stopPlaceId":"NSR:StopPlace:59734"}}],"bindings":{"mqtt":{"qos":1,"retain":false}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://schema.ruter.no/salediagnostics.json","type":"object","title":"RuterSalg Diagnostics MQTT Message","required":["eventTimestamp","nfcReaderConnected","printerConnected","nodAvailable","sapiAvailable","loggedIn"],"additionalProperties":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"Time of diagnostics generated","format":"date-time"},"traceId":{"$id":"#/properties/traceId","$comment":"Added in version 2.5","type":"string","description":"A unique identifier to be able to trace this message. Also used to detect duplicate messages received."},"nfcReaderConnected":{"$id":"#/properties/nfcReaderConnected","type":"boolean","description":"NFC reader connected"},"printerConnected":{"$id":"#/properties/printerConnected","type":"boolean","description":"Printer connected"},"nodAvailable":{"$id":"#/properties/nodAvailable","type":"boolean","description":"NOD available"},"sapiAvailable":{"$id":"#/properties/sapiAvailable","type":"boolean","description":"SAPI available"},"loggedIn":{"$id":"#/properties/loggedIn","type":"boolean","description":"User is logged in"},"printerStatus":{"$id":"#/properties/printerStatus","type":"string","description":"Last status message from printer"},"journeyRef":{"$id":"#/properties/journeyRef","type":"string","description":"Last journeyRef obtained by the app"},"stopPlaceId":{"$id":"#/properties/stopPlaceId","type":"string","description":"StopPlaceId obtained in NextStop that triggered this diagnostics message"}}},"x-parser-message-parsed":true}}},"pe/cardreader_diagnostics/vix/{deviceRef}":{"description":"### Card Reader Diagnostics MQTT Message\n| Field         | Value                                                                     |\n|---------------|---------------------------------------------------------------------------|\n| Central Topic | ruter/{PTO}/{vehicleID}/pe/cardreader_diagnostics/vix/{deviceRef}         |\n| Schema        | [ cardreader_diagnostics.json ](json-schemas/cardreader_diagnostics.json) |\n\nDiagnostics message sent from any Vix-validator running Ruter-firmware in the vehicle. Can be used by both PTA and PTO to monitor the operational status of these units.\n","parameters":{"deviceRef":{"description":"An unique ID of the unit.","schema":{"type":"string","x-parser-schema-id":"deviceRef"}}},"publish":{"message":{"name":"Card Reader Diagnostics","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v2.1/proprietary-extensions/doors-individually.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Cardreader Diagnostics","type":"object","required":["eventTimestamp","deviceRef","inService"],"description":"Diagnostics message sent from any Vix-validator running Ruter-firmware in the vehicle. Can be used by both PTA and PTO to monitor the operational status of these units.","additionalProperties":true,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"Event timestamp must be ISO 8601 UTC","format":"date-time"},"deviceRef":{"$id":"#/properties/deviceRef","type":"string","description":"An unique ID of the unit. This value is appended to the published topic.\n"},"inService":{"$id":"#/properties/inService","type":"boolean","description":"True if cardreader is in service.","examples":["true","false"]}}},"examples":[{"name":"Card Reader Diagnostics","payload":{"eventTimestamp":"2022-05-24T07:00:25Z","deviceRef":"RUT1234","inService":true}}],"bindings":{"mqtt":{"qos":0,"retain":false}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v2.1/proprietary-extensions/doors-individually.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Cardreader Diagnostics","type":"object","required":["eventTimestamp","deviceRef","inService"],"description":"Diagnostics message sent from any Vix-validator running Ruter-firmware in the vehicle. Can be used by both PTA and PTO to monitor the operational status of these units.","additionalProperties":true,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"Event timestamp must be ISO 8601 UTC","format":"date-time"},"deviceRef":{"$id":"#/properties/deviceRef","type":"string","description":"An unique ID of the unit. This value is appended to the published topic.\n"},"inService":{"$id":"#/properties/inService","type":"boolean","description":"True if cardreader is in service.","examples":["true","false"]}}},"x-parser-message-parsed":true}}},"di/available_destination_displays":{"description":"### AvailableDestinationDisplays Message\n| Field         | Value                                                                                     |\n|---------------|-------------------------------------------------------------------------------------------|\n| Central Topic | {operatorId}/ruter/{vehicleId}/di/available_destination_displays                          |\n| Schema        | [ available-destination-displays.json ](json-schemas/available-destination-displays.json) |\n\nProvides a list of available destination displays for a vehicle. The list should be used for external displays, in case\nthe vehicle has lost connection to the backoffice.","subscribe":{"message":{"name":"Assignment Attempt Message","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v2.1/driver-interaction/available-destination-displays.json","$schema":"http://json-schema.org/draft-07/schema#","title":"AvailableDestinationDisplays","type":"object","required":["availableDestinationDisplays","eventTimestamp","traceId"],"description":"","additionalProperties":true,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"ISO 8601, UTC"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"availableDestinationDisplays":{"$id":"#/properties/availableDestinationDisplays","type":"array","items":{"type":"object","required":["destination"],"properties":{"publicCode":{"$id":"#/properties/publicCode","type":"string","description":"Publically-known number of the line"},"destination":{"$id":"#/properties/destination","type":"string","description":"Destination of the bus"},"alternativeMessage":{"$id":"#/properties/alternativeMessage","type":"string","description":"Alternative message to be displayed on second line of display"}},"x-parser-schema-id":"<anonymous-schema-13>"}}}},"examples":[{"name":"Available Destination Displays","payload":{"eventTimestamp":"2020-10-31T12:45:50Z","traceId":"3841a268-0c03-4588-b476-211be0f26a0d","availableDestinationDisplays":[{"publicCode":"20","destination":"  Galgeberg"},{"destination":"  Ikke i trafikk "},{"publicCode":"N160","destination":"  Oslo Bussterminal","alternativeMessage":"  Ingen påstigning"}]}}],"bindings":{"mqtt":{"qos":1,"retain":true}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v2.1/driver-interaction/available-destination-displays.json","$schema":"http://json-schema.org/draft-07/schema#","title":"AvailableDestinationDisplays","type":"object","required":["availableDestinationDisplays","eventTimestamp","traceId"],"description":"","additionalProperties":true,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"ISO 8601, UTC"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"availableDestinationDisplays":{"$id":"#/properties/availableDestinationDisplays","type":"array","items":{"type":"object","required":["destination"],"properties":{"publicCode":{"$id":"#/properties/publicCode","type":"string","description":"Publically-known number of the line"},"destination":{"$id":"#/properties/destination","type":"string","description":"Destination of the bus"},"alternativeMessage":{"$id":"#/properties/alternativeMessage","type":"string","description":"Alternative message to be displayed on second line of display"}}}}}},"x-parser-message-parsed":true}}},"di/operational_message_to_driver":{"description":"### OperationalMessageToDriver Message\n| Field         | Value                                                                                   |\n|---------------|-----------------------------------------------------------------------------------------|\n| Central Topic | {operatorId}/ruter/{vehicleId}/di/operational_message_to_driver                         |\n| Schema        | [ operational-message-to-driver.json ](json-schemas/operational-message-to-driver.json) |\n\nProvides an operational message directed to the driver onboard this vehicle. Direction: From back-office to driver.","subscribe":{"message":{"name":"OperationalMessageToDriver Message","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v2.1/driver-interaction/operational-message-to-driver.json","$schema":"http://json-schema.org/draft-07/schema#","title":"OperationalMessageToDriver","type":"object","required":["traceId","heading","body","senderRef","atDateTime"],"description":"Operational message to driver","additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"heading":{"$id":"#/properties/heading","type":"string","description":""},"body":{"$id":"#/properties/body","type":"string","description":""},"senderRef":{"$id":"#/properties/senderRef","type":"string","description":""},"atDateTime":{"$id":"#/properties/atDateTime","type":"string","description":"ISO 8601"}}},"examples":[{"name":"OperationalMessageToDriver","payload":{"traceId":"3841a268-0c03-4588-b476-211be0f26a0d","heading":"Emergency repair","body":"Service personnel will meet at terminus to adjust door mechanism.","senderRef":"Garage maintenance","atDateTime":"2020-10-31T12:45:50Z"}}],"bindings":{"mqtt":{"qos":1,"retain":false}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v2.1/driver-interaction/operational-message-to-driver.json","$schema":"http://json-schema.org/draft-07/schema#","title":"OperationalMessageToDriver","type":"object","required":["traceId","heading","body","senderRef","atDateTime"],"description":"Operational message to driver","additionalProperties":true,"properties":{"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"heading":{"$id":"#/properties/heading","type":"string","description":""},"body":{"$id":"#/properties/body","type":"string","description":""},"senderRef":{"$id":"#/properties/senderRef","type":"string","description":""},"atDateTime":{"$id":"#/properties/atDateTime","type":"string","description":"ISO 8601"}}},"x-parser-message-parsed":true}}},"ei/audio_message":{"description":"### Audio message:\n| Field         | Value                                           |\n|---------------|-------------------------------------------------|\n| Central Topic | {operatorId}/ruter/{vehicleId}/ei/audio_message |\n| Schema        | [ audio.json ](json-schemas/audio.json)         |\n\nTopic used exclusively to transmit audio messages to be played by the speaker system. The audio messages may contain an array of sound bites, that are to be played in the sequence they have been received. \n","subscribe":{"message":{"name":"Audio MQTT Message","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v2.1/extended-information/audio-message.json","$schema":"http://json-schema.org/draft-07/schema#","title":"AudioMessage","description":"This topic provides an audio message intended for passengers onboard the vehicle that should be played on speaker(s) defined in the speaker property of the payload.","type":"object","additionalProperties":true,"required":["eventDateTime","traceId","expiryDateTime","preferredStartDateTime","ref","audio"],"properties":{"eventDateTime":{"$id":"#/properties/eventDateTime","type":"string","description":"ISO 8601, UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"expiryDateTime":{"$id":"#/properties/expiryDateTime","type":"string","description":"Do not present this information after this time. ISO 8601, UTC","format":"date-time"},"preferredStartDateTime":{"$id":"#/properties/preferredStartDateTime","type":"string","description":"ISO 8601, UTC","format":"date-time"},"ref":{"$id":"#/properties/ref"},"audio":{"$id":"#/properties/audio","type":"array","items":{"type":"object","title":"audio","required":["speaker","volume"],"properties":{"encoding":{"type":"string","description":"Optional. Audio message encoding","examples":["MP3","OPUS"],"x-parser-schema-id":"<anonymous-schema-15>"},"content":{"type":"string","description":"Optional. BASE64 encoded binary data. Do not use if contentURL is defined","x-parser-schema-id":"<anonymous-schema-16>"},"contentURL":{"type":"string","description":"Optional. Location of content. Do not use if content is defined.","x-parser-schema-id":"<anonymous-schema-17>"},"speaker":{"type":"string","description":"Speaker the audio is intended for","examples":["INTERNAL","EXTERNAL","DRIVER"],"x-parser-schema-id":"<anonymous-schema-18>"},"volume":{"type":"number","description":"Volume in dB","x-parser-schema-id":"<anonymous-schema-19>"}},"x-parser-schema-id":"<anonymous-schema-14>"}}}},"examples":[{"name":"Audio MP3","payload":{"eventDateTime":"2018-11-13T11:40:02.749Z","traceId":"3841a268-0c03-4588-b476-211be0f26a0d","expiryDateTime":"2018-11-13T08:40:32.249Z","preferredStartDateTime":"2018-11-13T08:39:32.749Z","ref":"RUT:StopPlace:03012453","audio":[{"encoding":"MP3","content":"SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU3...","speaker":"INTERNAL","volume":70},{"encoding":"MP3","content":"SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU3...","speaker":"INTERNAL","volume":70}]}},{"name":"Audio local files","payload":{"eventDateTime":"2018-11-13T11:40:02.749Z","expiryDateTime":"2018-11-13T08:40:32.249Z","preferredStartDateTime":"2018-11-13T08:39:32.749Z","ref":"RUT:StopPlace:03012453","audio":[{"encoding":"OPUS","contentUrl":"\\soundserver\\path\\to\\file","speaker":"INTERNAL","volume":70},{"encoding":"MP3","content":"SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU3...","speaker":"INTERNAL","volume":70}]}}],"bindings":{"mqtt":{"qos":1,"retain":false}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v2.1/extended-information/audio-message.json","$schema":"http://json-schema.org/draft-07/schema#","title":"AudioMessage","description":"This topic provides an audio message intended for passengers onboard the vehicle that should be played on speaker(s) defined in the speaker property of the payload.","type":"object","additionalProperties":true,"required":["eventDateTime","traceId","expiryDateTime","preferredStartDateTime","ref","audio"],"properties":{"eventDateTime":{"$id":"#/properties/eventDateTime","type":"string","description":"ISO 8601, UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"expiryDateTime":{"$id":"#/properties/expiryDateTime","type":"string","description":"Do not present this information after this time. ISO 8601, UTC","format":"date-time"},"preferredStartDateTime":{"$id":"#/properties/preferredStartDateTime","type":"string","description":"ISO 8601, UTC","format":"date-time"},"ref":{"$id":"#/properties/ref"},"audio":{"$id":"#/properties/audio","type":"array","items":{"type":"object","title":"audio","required":["speaker","volume"],"properties":{"encoding":{"type":"string","description":"Optional. Audio message encoding","examples":["MP3","OPUS"]},"content":{"type":"string","description":"Optional. BASE64 encoded binary data. Do not use if contentURL is defined"},"contentURL":{"type":"string","description":"Optional. Location of content. Do not use if content is defined."},"speaker":{"type":"string","description":"Speaker the audio is intended for","examples":["INTERNAL","EXTERNAL","DRIVER"]},"volume":{"type":"number","description":"Volume in dB"}}}}}},"x-parser-message-parsed":true}}},"pe/dpi/journey":{"description":"### Journey message:\n| Field         | Value                                               |\n|---------------|-----------------------------------------------------|\n| Central Topic | {operatorId}/ruter/{vehicleId}/pe/dpi/journey       |\n| Schema        | [ dpi-journey.json ](json-schemas/dpi-journey.json) |\n\nMessage containing the stops included in the journey, connections to other lines, positions ++.","subscribe":{"externalDocs":{"description":"https://ruterno.github.io","url":"https://ruterno.github.io/#/docs/ota?id=vehicle-journey"},"message":{"name":"Journey Message","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://schema.ruter.no/journey.json","type":"object","title":"Journey MQTT Message","description":"List of stops for current journey in block","required":["eventTimestamp","traceId","route"],"additionalProperties":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"Event Timestamp must be ISO 8601 UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"journeyId":{"$id":"#/properties/journeyId","type":"string","description":"Ruter's external journey id"},"journeyRef":{"$id":"#/properties/journeyRef","type":"string","description":"Ruter's internal journey reference"},"routeChangeTimestamp":{"$id":"#/properties/routeChangeTimestamp","type":"string","description":"Event Timestamp must be ISO 8601 UTC","format":"date-time"},"route":{"$id":"#/properties/route","type":"object","description":"Route information","required":["id","name","line","stopPlaces"],"additionalProperties":false,"properties":{"id":{"$id":"#/properties/route/properties/id","type":"string","description":"Route id"},"name":{"$id":"#/properties/route/properties/name","type":"string","description":"Public name of route"},"line":{"$id":"#/properties/route/properties/line","type":"object","description":"Line information","required":["id","name","publicCode"],"additionalProperties":false,"properties":{"id":{"$id":"#/properties/route/properties/line/properties/id","type":"string","description":"Line id"},"name":{"$id":"#/properties/route/properties/line/properties/name","type":"string","description":"Public name of line"},"publicCode":{"$id":"#/properties/route/properties/line/properties/publicCode","type":"string","description":"Public code of line"}}},"stopPlaces":{"$id":"#/properties/route/properties/stopPlaces","type":"array","description":"Ordered list of stop places on journey","items":{"$id":"#/properties/route/properties/stopPlaces/items","type":"object","description":"Stop place info","required":["id","name","location","tariffZones"],"additionalProperties":false,"properties":{"id":{"$id":"#/properties/route/properties/stopPlaces/items/properties/id","type":"string","description":"Stop place id"},"name":{"$id":"#/properties/route/properties/stopPlaces/items/properties/name","type":"string","description":"Public name of stop"},"location":{"$id":"#/properties/route/properties/stopPlaces/items/properties/location","type":"object","description":"Coordinates of stop place","required":["latitude","longitude"],"additionalProperties":false,"properties":{"latitude":{"$id":"#/properties/route/properties/stopPlaces/items/properties/location/properties/latitude","type":"number","description":"Latitude","minimum":-90,"maximum":90},"longitude":{"$id":"#/properties/route/properties/stopPlaces/items/properties/location/properties/longitude","type":"number","description":"Longitude","minimum":-180,"maximum":180}}},"tariffZones":{"$id":"#/properties/route/properties/stopPlaces/items/properties/tariffZones","type":"array","items":{"type":"string","x-parser-schema-id":"<anonymous-schema-20>"},"description":"List of tariff zones for the specific stop."},"description":{"$id":"#/properties/route/properties/stopPlaces/items/properties/description","type":"string","description":"Description for travelers"},"publicCode":{"$id":"#/properties/route/properties/stopPlaces/items/properties/publicCode","type":"string","description":"Public code for a stop"}}}}}}}},"examples":[{"name":"Journey","payload":{"eventTimestamp":"2017-10-31T08:38:02.749Z","traceId":"3841a268-0c03-4588-b476-211be0f26a0d","journeyId":"RUT:ServiceJourney:31-117215-13227462","journeyRef":"31001-2019-02-17T21:55:00+01:00","route":{"id":"RUT:Route:31-1041","name":"Fornebu vest-Tonsenhagen","line":{"id":"RUT:Line:31","name":"Snarøya - Fornebu - Tonsenhagen - Grorud","publicCode":"31"},"stopPlaces":[{"id":"RUT:StopPlace:02190017","name":"Fornebu vest","location":{"latitude":12.33345,"longitude":12.33345},"tariffZones":["OST:TariffZone:227","RUT:TariffZone:1"]},{"id":"RUT:StopPlace:03010013","name":"Jernbanetorget","location":{"latitude":12.33345,"longitude":12.33345},"tariffZones":["RUT:TariffZone:1"]}]}}}],"bindings":{"mqtt":{"qos":1,"retain":true}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://schema.ruter.no/journey.json","type":"object","title":"Journey MQTT Message","description":"List of stops for current journey in block","required":["eventTimestamp","traceId","route"],"additionalProperties":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"Event Timestamp must be ISO 8601 UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"journeyId":{"$id":"#/properties/journeyId","type":"string","description":"Ruter's external journey id"},"journeyRef":{"$id":"#/properties/journeyRef","type":"string","description":"Ruter's internal journey reference"},"routeChangeTimestamp":{"$id":"#/properties/routeChangeTimestamp","type":"string","description":"Event Timestamp must be ISO 8601 UTC","format":"date-time"},"route":{"$id":"#/properties/route","type":"object","description":"Route information","required":["id","name","line","stopPlaces"],"additionalProperties":false,"properties":{"id":{"$id":"#/properties/route/properties/id","type":"string","description":"Route id"},"name":{"$id":"#/properties/route/properties/name","type":"string","description":"Public name of route"},"line":{"$id":"#/properties/route/properties/line","type":"object","description":"Line information","required":["id","name","publicCode"],"additionalProperties":false,"properties":{"id":{"$id":"#/properties/route/properties/line/properties/id","type":"string","description":"Line id"},"name":{"$id":"#/properties/route/properties/line/properties/name","type":"string","description":"Public name of line"},"publicCode":{"$id":"#/properties/route/properties/line/properties/publicCode","type":"string","description":"Public code of line"}}},"stopPlaces":{"$id":"#/properties/route/properties/stopPlaces","type":"array","description":"Ordered list of stop places on journey","items":{"$id":"#/properties/route/properties/stopPlaces/items","type":"object","description":"Stop place info","required":["id","name","location","tariffZones"],"additionalProperties":false,"properties":{"id":{"$id":"#/properties/route/properties/stopPlaces/items/properties/id","type":"string","description":"Stop place id"},"name":{"$id":"#/properties/route/properties/stopPlaces/items/properties/name","type":"string","description":"Public name of stop"},"location":{"$id":"#/properties/route/properties/stopPlaces/items/properties/location","type":"object","description":"Coordinates of stop place","required":["latitude","longitude"],"additionalProperties":false,"properties":{"latitude":{"$id":"#/properties/route/properties/stopPlaces/items/properties/location/properties/latitude","type":"number","description":"Latitude","minimum":-90,"maximum":90},"longitude":{"$id":"#/properties/route/properties/stopPlaces/items/properties/location/properties/longitude","type":"number","description":"Longitude","minimum":-180,"maximum":180}}},"tariffZones":{"$id":"#/properties/route/properties/stopPlaces/items/properties/tariffZones","type":"array","items":{"type":"string"},"description":"List of tariff zones for the specific stop."},"description":{"$id":"#/properties/route/properties/stopPlaces/items/properties/description","type":"string","description":"Description for travelers"},"publicCode":{"$id":"#/properties/route/properties/stopPlaces/items/properties/publicCode","type":"string","description":"Public code for a stop"}}}}}}}},"x-parser-message-parsed":true}}},"pe/dpi/nextstop":{"description":"### Next Stop message:\n| Field         | Value                                                 |\n|---------------|-------------------------------------------------------|\n| Central Topic | {operatorId}/ruter/{vehicleId}/pe/dpi/nextstop        |\n| Schema        | [ dpi-nextstop.json ](json-schemas/dpi-nextstop.json) |\n\nNext stop on the buss route after leaving a stop.","subscribe":{"message":{"name":"Next Stop MQTT Message","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://schema.ruter.no/nextstop.json","type":"object","title":"Next Stop MQTT Message","description":"Notification that vehicle has a new next stop","required":["eventTimestamp","traceId","stopPlaceId","index"],"additionalProperties":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"EventTimestamp must be ISO 8601 UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"stopPlaceId":{"$id":"#/properties/stopPlaceId","type":"string","description":"Stop place id"},"index":{"$id":"#/properties/index","type":"integer","description":"Index of stop place in journey data"}}},"examples":[{"name":"NextStop","payload":{"eventTimestamp":"2017-10-31T08:38:02.749Z","traceId":"3841a268-0c03-4588-b476-211be0f26a0d","stopPlaceId":"RUT:StopPlace:03012453","index":0}}],"bindings":{"mqtt":{"qos":1,"retain":true}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://schema.ruter.no/nextstop.json","type":"object","title":"Next Stop MQTT Message","description":"Notification that vehicle has a new next stop","required":["eventTimestamp","traceId","stopPlaceId","index"],"additionalProperties":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"EventTimestamp must be ISO 8601 UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"stopPlaceId":{"$id":"#/properties/stopPlaceId","type":"string","description":"Stop place id"},"index":{"$id":"#/properties/index","type":"integer","description":"Index of stop place in journey data"}}},"x-parser-message-parsed":true}}},"pe/dpi/eta":{"description":"### ETA message:\n| Field         | Value                                       |\n|---------------|---------------------------------------------|\n| Central Topic | {operatorId}/ruter/{vehicleId}/pe/dpi/eta   |\n| Schema        | [ dpi-eta.json ](json-schemas/dpi-eta.json) |\n\nEstimated arrival at the remaining stops.","subscribe":{"message":{"name":"ETA MQTT Message","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://schema.ruter.no/eta.json","type":"object","title":"ETA MQTT Message","description":"Estimated time of arrival for future stops on a journey","required":["eventTimestamp","traceId","estimatedCalls"],"additionalItems":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"Event timestamp must be ISO 8601 UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"estimatedCalls":{"$id":"#/properties/estimatedCalls","type":"array","description":"List of ETAs for remaining stops on route","items":{"$id":"#/properties/estimatedCalls/items","type":"object","title":"Estimated call for a future stop","required":["eta","stopPlaceId","text"],"additionalProperties":false,"properties":{"eta":{"$id":"#/properties/estimatedCalls/items/properties/eta","type":"string","description":"EventTimestamp must be ISO 8601 UTC","format":"date-time"},"stopPlaceId":{"$id":"#/properties/estimatedCalls/items/properties/stopPlaceId","type":"string","description":"Stop Place Id"},"text":{"$id":"#/properties/estimatedCalls/items/properties/text","type":"string","description":"Display text for arrival time"}}}}}},"examples":[{"name":"Eta","payload":{"eventTimestamp":"2017-10-31T08:38:02.749Z","traceId":"3841a268-0c03-4588-b476-211be0f26a0d","estimatedCalls":[{"eta":"2017-10-13T12:27:04.416Z","stopPlaceId":"RUT:StopPlace:03010510","text":"Nå"},{"eta":"2017-10-13T12:27:04.416Z","stopPlaceId":"RUT:StopPlace:03010511","text":"1 Min"}]}}],"bindings":{"mqtt":{"qos":1,"retain":false}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://schema.ruter.no/eta.json","type":"object","title":"ETA MQTT Message","description":"Estimated time of arrival for future stops on a journey","required":["eventTimestamp","traceId","estimatedCalls"],"additionalItems":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"Event timestamp must be ISO 8601 UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"estimatedCalls":{"$id":"#/properties/estimatedCalls","type":"array","description":"List of ETAs for remaining stops on route","items":{"$id":"#/properties/estimatedCalls/items","type":"object","title":"Estimated call for a future stop","required":["eta","stopPlaceId","text"],"additionalProperties":false,"properties":{"eta":{"$id":"#/properties/estimatedCalls/items/properties/eta","type":"string","description":"EventTimestamp must be ISO 8601 UTC","format":"date-time"},"stopPlaceId":{"$id":"#/properties/estimatedCalls/items/properties/stopPlaceId","type":"string","description":"Stop Place Id"},"text":{"$id":"#/properties/estimatedCalls/items/properties/text","type":"string","description":"Display text for arrival time"}}}}}},"x-parser-message-parsed":true}}},"pe/dpi/externaldisplay":{"description":"### External Display message:\n| Field         | Value                                                               |\n|---------------|---------------------------------------------------------------------|\n| Central Topic | {operatorId}/ruter/{vehicleId}/pe/dpi/externaldisplay               |\n| Schema        | [ dpi-externaldisplay.json ](json-schemas/dpi-externaldisplay.json) |\n\nMessage to be shown on the external destination display. Usually line number (publicCode) and routeName, with support for alternative message.      \n","subscribe":{"message":{"name":"External Display MQTT Message","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://schema.ruter.no/externaldisplay.json","type":"object","title":"External Display MQTT Message","description":"Notification that the external displays should show new destination information","required":["eventTimestamp","traceId","destination"],"additionalProperties":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"Event timestamp must be ISO 8601 UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"publicCode":{"$id":"#/properties/publicCode","type":"string","description":"Publically-known number of the line"},"destination":{"$id":"#/properties/destination","type":"string","description":"Destination of the bus"},"alternativeMessage":{"$id":"#/properties/alternativeMessage","type":"string","description":"Alternative message to be displayed on second line of display"}}},"examples":[{"name":"External Display","payload":{"eventTimestamp":"2017-10-31T08:38:02.749Z","traceId":"3841a268-0c03-4588-b476-211be0f26a0d","publicCode":"20","destination":"Galgeberg","alternativeMessage":"Duis aute irure dolor"}},{"name":"External Display - Deadrun","payload":{"eventTimestamp":"2021-03-04T15:08:07.519Z","destination":"Ikke i trafikk"}}],"bindings":{"mqtt":{"qos":1,"retain":true}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://schema.ruter.no/externaldisplay.json","type":"object","title":"External Display MQTT Message","description":"Notification that the external displays should show new destination information","required":["eventTimestamp","traceId","destination"],"additionalProperties":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"Event timestamp must be ISO 8601 UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"publicCode":{"$id":"#/properties/publicCode","type":"string","description":"Publically-known number of the line"},"destination":{"$id":"#/properties/destination","type":"string","description":"Destination of the bus"},"alternativeMessage":{"$id":"#/properties/alternativeMessage","type":"string","description":"Alternative message to be displayed on second line of display"}}},"x-parser-message-parsed":true}}},"pe/dpi/pa":{"description":"### Passenger Announcement message:\n| Field         | Value                                     |\n|---------------|-------------------------------------------|\n| Central Topic | {operatorId}/ruter/{vehicleId}/pe/dpi/pa  |\n| Schema        | [ dpi-pa.json ](json-schemas/dpi-pa.json) |\n\nMessage to be shown on internal displays. May contain references to videos, html, images, text etc.       \n","subscribe":{"message":{"name":"Passenger Announcement message","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://schema.ruter.no/pamessage.json","title":"PA message schema","type":"object","required":["eventTimestamp","traceId","ref"],"additionalProperties":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"EventTimestamp must be ISO 8601 UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"ref":{"$id":"#/properties/ref","type":"string","examples":["757fd8b4-2e57-4ad3-9aee-76e793c514d9"]},"content":{"$id":"#/properties/content","title":"Content","type":"array","items":{"$id":"#/properties/content/items","type":"object","required":["type"],"properties":{"type":{"$id":"#/properties/content/items/type","title":"Content type","type":"string","examples":["VIDEO","IMAGE","HTML","TEXT"]},"duration":{"$id":"#/properties/content/items/duration","type":"integer","examples":[10]},"src":{"$id":"#/properties/content/items/src","type":"string","examples":["../media/1080p_Ruter_Takk.mp4"]}}}}}},"examples":[{"name":"Passenger Announcement - Video","payload":{"eventTimestamp":"2022-05-09T13:27:59.624Z","traceId":"3841a268-0c03-4588-b476-211be0f26a0d","ref":"757fd8b4-2e57-4ad3-9aee-76e793c514d9","content":[{"type":"VIDEO","duration":10,"src":"../media/1080p_Ruter_Takk.mp4"}]}},{"name":"Passenger Announcement - Multiple contents","payload":{"eventTimestamp":"2022-05-09T13:27:59.624Z","traceId":"3841a268-0c03-4588-b476-211be0f26a0d","ref":"757fd8b4-2e57-4ad3-9aee-76e793c514d9","content":[{"type":"IMAGE","duration":5,"src":"../media/logo.png"},{"type":"HTML","duration":10,"src":"../media/kampanje.html"}]}},{"name":"Passenger Announcement - Text","payload":{"eventTimestamp":"2022-05-09T13:27:59.624Z","traceId":"3841a268-0c03-4588-b476-211be0f26a0d","ref":"757fd8b4-2e57-4ad3-9aee-76e793c514d9","content":[{"type":"TEXT","duration":10,"colorScheme":"INFO","icon":"ARROW_UP","iconAnchor":"LEFT","message":{"no":{"title":"Tittel på melding","paragraphs":["En tekst","En annen tekst"]}}}]}},{"name":"Passenger Announcement - Clear display","payload":{"eventTimeStamp":"2022-05-09T13:27:58.772562Z","traceId":"3841a268-0c03-4588-b476-211be0f26a0d","ref":"CLEAR_SCREEN"}}],"bindings":{"mqtt":{"qos":1,"retain":true}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://schema.ruter.no/pamessage.json","title":"PA message schema","type":"object","required":["eventTimestamp","traceId","ref"],"additionalProperties":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"EventTimestamp must be ISO 8601 UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"ref":{"$id":"#/properties/ref","type":"string","examples":["757fd8b4-2e57-4ad3-9aee-76e793c514d9"]},"content":{"$id":"#/properties/content","title":"Content","type":"array","items":{"$id":"#/properties/content/items","type":"object","required":["type"],"properties":{"type":{"$id":"#/properties/content/items/type","title":"Content type","type":"string","examples":["VIDEO","IMAGE","HTML","TEXT"]},"duration":{"$id":"#/properties/content/items/duration","type":"integer","examples":[10]},"src":{"$id":"#/properties/content/items/src","type":"string","examples":["../media/1080p_Ruter_Takk.mp4"]}}}}}},"x-parser-message-parsed":true}}},"pe/dpi/arriving":{"description":"### Arriving message:\n| Field         | Value                                                 |\n|---------------|-------------------------------------------------------|\n| Central Topic | {operatorId}/ruter/{vehicleId}/pe/dpi/arriving        |\n| Schema        | [ dpi-arriving.json ](json-schemas/dpi-arriving.json) |\n\nNotice to passengers that the bus is approaching a stop.      ","subscribe":{"message":{"name":"Arriving Message","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://schema.ruter.no/arriving.json","type":"object","title":"Arriving MQTT Message","description":"For display of arriving information to passengers","required":["eventTimestamp","traceId","message"],"additionalProperties":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"Event timestamp must be ISO 8601 UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"expiryTimestamp":{"$id":"#/properties/expiryimestamp","type":"string","description":"Expiry timestamp must be ISO 8601 UTC, do not play or display after","format":"date-time"},"ref":{"$id":"#/properties/ref","type":"string","description":"Reference to stop place id"},"message":{"$id":"#/properties/message","type":"object","description":"Message for one or more language","additionalProperties":false,"patternProperties":{"^[a-z]{2}(-[a-z]{2})?$":{"$id":"#/properties/message/patternProperties/multilingualMessage","type":"object","description":"A multilingual message","additionalProperties":false,"properties":{"title":{"$id":"#/properties/message/patternProperties/multilingualMessage/properties/title","type":"string","description":"Title"},"text":{"$id":"#/properties/message/patternProperties/multilingualMessage/properties/text","type":"string","description":"Body text"}}}}},"zoneId":{"$id":"#/properties/zoneId","type":"string","description":"Fare zone of next stop"}}},"examples":[{"name":"Arriving","payload":{"eventTimestamp":"2017-10-31T08:38:02.749Z","traceId":"3841a268-0c03-4588-b476-211be0f26a0d","expiryTimestamp":"2017-10-31T08:38:47.749Z","ref":"RUT:StopPlace:03012453","zoneId":"2b-vest","message":{"no":{"text":"Ankommer Jernbanetorget"},"en":{"text":"Arriving at Jerbanetorget"}}}}],"bindings":{"mqtt":{"qos":1,"retain":false}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://schema.ruter.no/arriving.json","type":"object","title":"Arriving MQTT Message","description":"For display of arriving information to passengers","required":["eventTimestamp","traceId","message"],"additionalProperties":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"Event timestamp must be ISO 8601 UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"expiryTimestamp":{"$id":"#/properties/expiryimestamp","type":"string","description":"Expiry timestamp must be ISO 8601 UTC, do not play or display after","format":"date-time"},"ref":{"$id":"#/properties/ref","type":"string","description":"Reference to stop place id"},"message":{"$id":"#/properties/message","type":"object","description":"Message for one or more language","additionalProperties":false,"patternProperties":{"^[a-z]{2}(-[a-z]{2})?$":{"$id":"#/properties/message/patternProperties/multilingualMessage","type":"object","description":"A multilingual message","additionalProperties":false,"properties":{"title":{"$id":"#/properties/message/patternProperties/multilingualMessage/properties/title","type":"string","description":"Title"},"text":{"$id":"#/properties/message/patternProperties/multilingualMessage/properties/text","type":"string","description":"Body text"}}}}},"zoneId":{"$id":"#/properties/zoneId","type":"string","description":"Fare zone of next stop"}}},"x-parser-message-parsed":true}}},"pe/dpi/connections":{"description":"### Connections message:\n| Field         | Value                                                       |\n|---------------|-------------------------------------------------------------|\n| Central Topic | {operatorId}/ruter/{vehicleId}/pe/dpi/connections           |\n| Schema        | [ dpi-connections.json ](json-schemas/dpi-connections.json) |\n\nList of connections for the remaining stops on a journey with expected departures.","subscribe":{"message":{"name":"The Connections Schema","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":{"$schema":"http://json-schema.org/draft-07/schema","$id":"http://schema.ruter.no/connections.json","type":"object","title":"The Connections Schema","description":"This schema defines the connection message sent as an MQTT message to buses","required":["eventTimestamp","traceId","expiryTimestamp","nextStop","journeyId","routeId","calls"],"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"Time in ISO 8601 timestamp format when this message was produced","examples":["2020-03-10T20:56:44.864401Z"]},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"expiryTimestamp":{"$id":"#/properties/expiryTimestamp","type":"string","description":"Time in ISO 8601 timestamp format after which this message is invalid","examples":["2020-03-10T21:01:44.864401Z"]},"nextStop":{"$id":"#/properties/nextStop","type":"object","title":"The Next Stop Schema","description":"The ids of the next stop that this message is valid for","default":{},"required":["stopPlaceId","quayId"],"properties":{"stopPlaceId":{"$id":"#/properties/nextStop/properties/stopPlaceId","type":"string","description":"NSR stop place id for the next stop","examples":["NSR:StopPlace:3799"]},"quayId":{"$id":"#/properties/nextStop/properties/quayId","type":"string","description":"NSR quay id for the next stop","examples":["NSR:Quay:6801"]}}},"journeyId":{"$id":"#/properties/journeyId","type":"string","description":"An explanation about the purpose of this instance.","examples":["RUT:ServiceJourney:160-137140-16254500"]},"routeId":{"$id":"#/properties/routeId","type":"string","description":"The route id, which corresponds to the route id in the journey message","examples":["RUT:Route:160-3504"]},"calls":{"$id":"#/properties/calls","type":"array","description":"An array of the remaining calls on a journey, including the current next stop","items":{"$id":"#/properties/calls/items","type":"object","title":"The Call Schema","description":"A future call on a journey that collects connections","required":["name","stopPlaceId","quayId","index","connections"],"properties":{"name":{"$id":"#/properties/calls/items/properties/name","type":"string","description":"Name of stop place (optional)","default":null,"examples":["Kveldsroveien"]},"stopPlaceId":{"$id":"#/properties/calls/items/properties/stopPlaceId","type":"string","description":"NSR stop place id","examples":["NSR:StopPlace:3799"]},"quayId":{"$id":"#/properties/calls/items/properties/quayId","type":"string","description":"NSR quay id","examples":["NSR:Quay:6801"]},"index":{"$id":"#/properties/calls/items/properties/index","type":"integer","description":"Index to stop's position in the journey"},"connections":{"$id":"#/properties/calls/items/properties/connections","type":"array","description":"A list of connections by line/direction","items":{"$id":"#/properties/calls/items/properties/connections/items","type":"object","title":"The Connection Schema","description":"A connection for a given line/direction","required":["line","direction","departures"],"properties":{"line":{"$id":"#/properties/calls/items/properties/connections/items/properties/line","type":"object","title":"The Line Schema","description":"Line information","required":["id","publicCode","transportMode"],"properties":{"id":{"$id":"#/properties/calls/items/properties/connections/items/properties/line/properties/id","type":"string","description":"Ruter's id for the line","examples":["RUT:Line:31"]},"publicCode":{"$id":"#/properties/calls/items/properties/connections/items/properties/line/properties/publicCode","type":"string","description":"The publically visible identifier for this line","examples":["31"]},"transportMode":{"$id":"#/properties/calls/items/properties/connections/items/properties/line/properties/transportMode","type":"string","description":"Transport mode","examples":["bus"]}}},"direction":{"$id":"#/properties/calls/items/properties/connections/items/properties/direction","type":"string","description":"An indicator of direction for a line","examples":["1","2"]},"quay":{"$id":"#/properties/calls/items/properties/connections/items/properties/quay","type":"object","title":"The Quay Schema","description":"Information about where the connection departs from","required":["id"],"properties":{"id":{"$id":"#/properties/calls/items/properties/connections/items/properties/quay/properties/id","type":"string","description":"NSR id for the quay","examples":["NSR:Quay:3131"]},"publicCode":{"$id":"#/properties/calls/items/properties/connections/items/properties/quay/properties/publicCode","type":"string","description":"The publically visible identifier for this quay","examples":["A"]},"description":{"$id":"#/properties/calls/items/properties/connections/items/properties/quay/properties/description","type":"string","description":"Description of where quay is located","examples":["I Kirkeveien"]}}},"departures":{"$id":"#/properties/calls/items/properties/connections/items/properties/departures","type":"array","description":"A list of departures for the line/direction (empty if there are none)","items":{"$id":"#/properties/calls/items/properties/connections/items/properties/departures/items","type":"object","title":"The Departure Schema","description":"Information about a departure","required":["destination","text"],"properties":{"destination":{"$id":"#/properties/calls/items/properties/connections/items/properties/departures/items/properties/destination","type":"string","description":"Visible destination of bus","examples":["Bygdøy"]},"via":{"$id":"#/properties/calls/items/properties/connections/items/properties/departures/items/properties/destination","type":"string","description":"Visible via information of bus (optional)","examples":["Bydøysnes"]},"text":{"$id":"#/properties/calls/items/properties/connections/items/properties/departures/items/properties/display","type":"string","description":"Display text for departure time","examples":["5 min","14:55"]},"departureTime":{"$id":"#/properties/calls/items/properties/connections/items/properties/departures/items/properties/departureTime","type":"string","description":"Expected departure time for UTC in ISO 8601 date/time format","examples":["2020-03-10T21:02:00Z"]},"delay":{"$id":"#/properties/calls/items/properties/connections/items/properties/departures/items/properties/delay","type":"string","description":"Recorded delay for the departure in ISO 8601 duration format","examples":["PT0S"]},"journeyId":{"$id":"#/properties/calls/items/properties/connections/items/properties/departures/items/properties/journeyId","type":"string","description":"Journey id of the bus making the call","examples":["RUT:ServiceJourney:31-138571-15639955"]}}}}}}}}}}}},"examples":[{"name":"Connections","payload":{"eventTimestamp":"2020-03-16T14:30:08.762206Z","traceId":"3841a268-0c03-4588-b476-211be0f26a0d","expiryTimestamp":"2020-03-16T14:35:08.762206Z","nextStop":{"stopPlaceId":"NSR:StopPlace:6498","quayId":"NSR:Quay:11950"},"journeyId":"RUT:ServiceJourney:60-138542-15631728","routeId":"RUT:Route:60-4","calls":[{"name":"Tøyenkirken","stopPlaceId":"NSR:StopPlace:6498","quayId":"NSR:Quay:11950","index":4,"connections":[]},{"name":"Tøyen skole","stopPlaceId":"NSR:StopPlace:6480","quayId":"NSR:Quay:11910","index":5,"connections":[]},{"name":"Tøyen","stopPlaceId":"NSR:StopPlace:6478","quayId":"NSR:Quay:11908","index":6,"connections":[{"line":{"id":"RUT:Line:20","publicCode":"20","transportMode":"bus"},"direction":"1","departures":[{"destination":"Galgeberg","text":"5 min","departureTime":"2020-03-16T14:35:37Z","delay":"PT1M37S","journeyId":"RUT:ServiceJourney:20-131531-15685688"},{"destination":"Galgeberg","text":"10 min","departureTime":"2020-03-16T14:40:58Z","delay":"PT1M58S","journeyId":"RUT:ServiceJourney:20-131531-15685689"},{"destination":"Galgeberg","text":"15:45","departureTime":"2020-03-16T14:45:09Z","delay":"PT1M9S","journeyId":"RUT:ServiceJourney:20-131531-15685690"}]},{"line":{"id":"RUT:Line:20","publicCode":"20","transportMode":"bus"},"quay":{"id":"NSR:Quay:11906","description":"i Kjølberggata"},"direction":"2","departures":[{"destination":"Skøyen","text":"3 min","departureTime":"2020-03-16T14:34:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:20-131531-15685534"},{"destination":"Skøyen","text":"8 min","departureTime":"2020-03-16T14:39:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:20-131531-15685535"},{"destination":"Skøyen","text":"13 min","departureTime":"2020-03-16T14:44:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:20-131531-15685536"}]}]},{"name":"Brinken","stopPlaceId":"NSR:StopPlace:6562","quayId":"NSR:Quay:12119","index":7,"connections":[]},{"name":"Kampen kirke","stopPlaceId":"NSR:StopPlace:6564","quayId":"NSR:Quay:12123","index":8,"connections":[]},{"name":"Kampen park","stopPlaceId":"NSR:StopPlace:6571","quayId":"NSR:Quay:12135","index":9,"connections":[]},{"name":"Ensjøveien","stopPlaceId":"NSR:StopPlace:6046","quayId":"NSR:Quay:11097","index":10,"connections":[]},{"name":"Tøyen stasjon","stopPlaceId":"NSR:StopPlace:6044","quayId":"NSR:Quay:11092","index":11,"connections":[]},{"name":"Hasle kirke","stopPlaceId":"NSR:StopPlace:6049","quayId":"NSR:Quay:11101","index":12,"connections":[]},{"name":"Hasle","stopPlaceId":"NSR:StopPlace:6031","quayId":"NSR:Quay:11076","index":13,"connections":[{"line":{"id":"RUT:Line:21","publicCode":"21","transportMode":"bus"},"quay":{"id":"NSR:Quay:11069","publicCode":"D"},"direction":"1","departures":[{"destination":"Helsfyr T","text":"13 min","departureTime":"2020-03-16T14:44:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:21-131531-15685155"},{"destination":"Helsfyr T","text":"15:49","departureTime":"2020-03-16T14:49:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:21-131531-15685156"},{"destination":"Helsfyr T","text":"15:54","departureTime":"2020-03-16T14:54:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:21-131531-15685157"}]},{"line":{"id":"RUT:Line:21","publicCode":"21","transportMode":"bus"},"quay":{"id":"NSR:Quay:11070","publicCode":"C"},"direction":"2","departures":[{"destination":"Tjuvholmen","text":"13 min","departureTime":"2020-03-16T14:44:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:21-131531-15685274"},{"destination":"Tjuvholmen","text":"15:49","departureTime":"2020-03-16T14:49:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:21-131531-15685275"},{"destination":"Tjuvholmen","text":"15:54","departureTime":"2020-03-16T14:54:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:21-131531-15685276"}]},{"line":{"id":"RUT:Line:28","publicCode":"28","transportMode":"bus"},"quay":{"id":"NSR:Quay:11075","publicCode":"B"},"direction":"2","departures":[{"destination":"Fornebu","text":"15:47","departureTime":"2020-03-16T14:47:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:28-131531-15685026"},{"destination":"Fornebu","text":"15:54","departureTime":"2020-03-16T14:54:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:28-131531-15685039"},{"destination":"Fornebu","text":"16:02","departureTime":"2020-03-16T15:02:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:28-131531-15685027"}]},{"line":{"id":"RUT:Line:28","publicCode":"28","transportMode":"bus"},"direction":"1","departures":[{"destination":"Økern T","text":"15:48","departureTime":"2020-03-16T14:48:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:28-131531-15685014"},{"destination":"Økern T","text":"15:57","departureTime":"2020-03-16T14:57:43Z","delay":"PT1M43S","journeyId":"RUT:ServiceJourney:28-131531-15685006"},{"destination":"Økern T","text":"16:03","departureTime":"2020-03-16T15:03:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:28-131531-15685015"}]}]},{"name":"Haslevangen","stopPlaceId":"NSR:StopPlace:6036","quayId":"NSR:Quay:11080","index":14,"connections":[{"line":{"id":"RUT:Line:28","publicCode":"28","transportMode":"bus"},"direction":"1","departures":[{"destination":"Økern T","text":"15:49","departureTime":"2020-03-16T14:49:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:28-131531-15685014"},{"destination":"Økern T","text":"15:58","departureTime":"2020-03-16T14:58:43Z","delay":"PT1M43S","journeyId":"RUT:ServiceJourney:28-131531-15685006"},{"destination":"Økern T","text":"16:04","departureTime":"2020-03-16T15:04:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:28-131531-15685015"}]},{"line":{"id":"RUT:Line:28","publicCode":"28","transportMode":"bus"},"quay":{"id":"NSR:Quay:11079"},"direction":"2","departures":[{"destination":"Fornebu","text":"15:46","departureTime":"2020-03-16T14:46:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:28-131531-15685026"},{"destination":"Fornebu","text":"15:53","departureTime":"2020-03-16T14:53:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:28-131531-15685039"},{"destination":"Fornebu","text":"16:01","departureTime":"2020-03-16T15:01:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:28-131531-15685027"}]}]},{"name":"Økern","stopPlaceId":"NSR:StopPlace:5907","quayId":"NSR:Quay:10835","index":15,"connections":[{"line":{"id":"RUT:Line:23","publicCode":"23","transportMode":"bus"},"quay":{"id":"NSR:Quay:10834","publicCode":"B"},"direction":"1","departures":[{"destination":"Simensbråten","text":"15:55","departureTime":"2020-03-16T14:55:18Z","delay":"PT18S","journeyId":"RUT:ServiceJourney:23-137908-16794834"},{"destination":"Simensbråten","text":"16:05","departureTime":"2020-03-16T15:05:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:23-137908-16794835"},{"destination":"Simensbråten","text":"16:15","departureTime":"2020-03-16T15:15:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:23-137908-16794836"}]},{"line":{"id":"RUT:Line:23","publicCode":"23","transportMode":"bus"},"quay":{"id":"NSR:Quay:10832","publicCode":"A"},"direction":"2","departures":[{"destination":"Lysaker","text":"16:06","departureTime":"2020-03-16T15:06:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:23-137908-16794741"},{"destination":"Lysaker","text":"15:56","departureTime":"2020-03-16T14:56:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:23-137908-16794740"},{"destination":"Lysaker","text":"16:16","departureTime":"2020-03-16T15:16:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:23-137908-16794742"}]},{"line":{"id":"RUT:Line:24","publicCode":"24","transportMode":"bus"},"quay":{"id":"NSR:Quay:10834","publicCode":"B"},"direction":"1","departures":[{"destination":"Brynseng T","text":"15:55","departureTime":"2020-03-16T14:55:46Z","delay":"PT5M46S","journeyId":"RUT:ServiceJourney:24-137908-16794944"},{"destination":"Brynseng T","text":"16:00","departureTime":"2020-03-16T15:00:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:24-137908-16794945"},{"destination":"Brynseng T","text":"16:10","departureTime":"2020-03-16T15:10:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:24-137908-16794946"}]},{"line":{"id":"RUT:Line:24","publicCode":"24","transportMode":"bus"},"quay":{"id":"NSR:Quay:10832","publicCode":"A"},"direction":"2","departures":[{"destination":"Fornebu","text":"16:11","departureTime":"2020-03-16T15:11:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:24-137908-16794982"},{"destination":"Fornebu","text":"16:41","departureTime":"2020-03-16T15:41:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:24-137908-16794985"},{"destination":"Fornebu","text":"16:31","departureTime":"2020-03-16T15:31:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:24-137908-16794984"}]},{"line":{"id":"RUT:Line:28","publicCode":"28","transportMode":"bus"},"quay":{"id":"NSR:Quay:10832","publicCode":"A"},"direction":"2","departures":[{"destination":"Fornebu","text":"16:43","departureTime":"2020-03-16T15:43:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:28-131531-15685030"},{"destination":"Fornebu","text":"16:05","departureTime":"2020-03-16T15:05:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:28-131531-15685040"},{"destination":"Fornebu","text":"16:35","departureTime":"2020-03-16T15:35:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:28-131531-15685042"}]},{"line":{"id":"RUT:Line:345","publicCode":"345","transportMode":"bus"},"direction":"2","departures":[{"destination":"Vestvollen","text":"15:50","departureTime":"2020-03-16T14:50:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:345-138458-16752823"},{"destination":"Vestvollen","text":"16:00","departureTime":"2020-03-16T15:00:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:345-138458-16752806"},{"destination":"Vestvollen","text":"16:01","departureTime":"2020-03-16T15:01:22Z","delay":"PT21M22S","journeyId":"RUT:ServiceJourney:345-138458-16752805"}]},{"line":{"id":"RUT:Line:67","publicCode":"67","transportMode":"bus"},"direction":"1","departures":[{"destination":"Lørenskog sentrum","text":"15:51","departureTime":"2020-03-16T14:51:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:67-138542-15631987"},{"destination":"Lørenskog sentrum","text":"16:01","departureTime":"2020-03-16T15:01:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:67-138542-15631988"},{"destination":"Lørenskog sentrum","text":"16:11","departureTime":"2020-03-16T15:11:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:67-138542-15631989"}]}]},{"name":"Økern næringspark","stopPlaceId":"NSR:StopPlace:5916","quayId":"NSR:Quay:10849","index":16,"connections":[]},{"name":"Lånekassen","stopPlaceId":"NSR:StopPlace:5918","quayId":"NSR:Quay:10852","index":17,"connections":[]},{"name":"Nedre Risløkka","stopPlaceId":"NSR:StopPlace:5928","quayId":"NSR:Quay:10872","index":18,"connections":[]},{"name":"Rabbeveien","stopPlaceId":"NSR:StopPlace:5930","quayId":"NSR:Quay:10875","index":19,"connections":[]},{"name":"Anton Tschudis vei","stopPlaceId":"NSR:StopPlace:5932","quayId":"NSR:Quay:10878","index":20,"connections":[]},{"name":"Kroklia","stopPlaceId":"NSR:StopPlace:5941","quayId":"NSR:Quay:10894","index":21,"connections":[]},{"name":"Øvre Risløkka","stopPlaceId":"NSR:StopPlace:5943","quayId":"NSR:Quay:10898","index":22,"connections":[]},{"name":"Økernbråten","stopPlaceId":"NSR:StopPlace:5945","quayId":"NSR:Quay:10902","index":23,"connections":[{"line":{"id":"RUT:Line:58","publicCode":"58","transportMode":"bus"},"quay":{"id":"NSR:Quay:10901"},"direction":"1","departures":[{"destination":"Tveita T","text":"15:57","departureTime":"2020-03-16T14:57:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:58-138542-17261911"},{"destination":"Tveita T","text":"16:12","departureTime":"2020-03-16T15:12:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:58-138542-17261912"},{"destination":"Tveita T","text":"16:27","departureTime":"2020-03-16T15:27:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:58-138542-17261913"}]}]},{"name":"Linne hotell","stopPlaceId":"NSR:StopPlace:5952","quayId":"NSR:Quay:10916","index":24,"connections":[]},{"name":"Linderud T","stopPlaceId":"NSR:StopPlace:5950","quayId":"NSR:Quay:10911","index":25,"connections":[]},{"name":"Veitvetstubben","stopPlaceId":"NSR:StopPlace:5967","quayId":"NSR:Quay:10946","index":26,"connections":[]},{"name":"Linderud senter","stopPlaceId":"NSR:StopPlace:5974","quayId":"NSR:Quay:10960","index":27,"connections":[{"line":{"id":"RUT:Line:25","publicCode":"25","transportMode":"bus"},"quay":{"id":"NSR:Quay:10959"},"direction":"1","departures":[{"destination":"Lørenskog stasjon","text":"16:02","departureTime":"2020-03-16T15:02:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:25-138571-16843154"},{"destination":"Lørenskog stasjon","text":"16:09","departureTime":"2020-03-16T15:09:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:25-138571-16843009"},{"destination":"Lørenskog stasjon","text":"16:17","departureTime":"2020-03-16T15:17:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:25-138571-16843010"}]},{"line":{"id":"RUT:Line:31","publicCode":"31","transportMode":"bus"},"quay":{"id":"NSR:Quay:10959"},"direction":"1","departures":[{"destination":"Grorud T","text":"16:04","departureTime":"2020-03-16T15:04:11Z","delay":"PT2M11S","journeyId":"RUT:ServiceJourney:31-138571-15639652"},{"destination":"Grorud T","text":"16:12","departureTime":"2020-03-16T15:12:01Z","delay":"PT1H10M1S","journeyId":"RUT:ServiceJourney:31-138571-15639647"},{"destination":"Grorud T","text":"16:14","departureTime":"2020-03-16T15:14:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:31-138571-15639653"}]},{"line":{"id":"RUT:Line:33","publicCode":"33","transportMode":"bus"},"quay":{"id":"NSR:Quay:10959"},"direction":"1","departures":[{"destination":"Ellingsrudåsen T","text":"16:03","departureTime":"2020-03-16T15:03:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:33-138542-15632327"},{"destination":"Ellingsrudåsen T","text":"16:18","departureTime":"2020-03-16T15:18:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:33-138542-15632328"},{"destination":"Ellingsrudåsen T","text":"16:33","departureTime":"2020-03-16T15:33:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:33-138542-15632329"}]}]},{"name":"Linderudsletta","stopPlaceId":"NSR:StopPlace:5972","quayId":"NSR:Quay:10956","index":28,"connections":[{"line":{"id":"RUT:Line:25","publicCode":"25","transportMode":"bus"},"direction":"2","departures":[{"destination":"Majorstuen","text":"16:01","departureTime":"2020-03-16T15:01:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:25-138571-16843093"},{"destination":"Majorstuen","text":"16:09","departureTime":"2020-03-16T15:09:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:25-138571-16843094"},{"destination":"Majorstuen","text":"16:16","departureTime":"2020-03-16T15:16:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:25-138571-16843170"}]},{"line":{"id":"RUT:Line:31","publicCode":"31","transportMode":"bus"},"direction":"2","departures":[{"destination":"Snarøya","text":"16:07","departureTime":"2020-03-16T15:07:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:31-138571-15639845"},{"destination":"Snarøya","text":"16:19","departureTime":"2020-03-16T15:19:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:31-138571-15639846"},{"destination":"Snarøya","text":"16:27","departureTime":"2020-03-16T15:27:31Z","delay":"PT56M31S","journeyId":"RUT:ServiceJourney:31-138571-15639842"}]},{"line":{"id":"RUT:Line:2031","publicCode":"31E","transportMode":"bus"},"quay":{"id":"NSR:Quay:10950"},"direction":"1","departures":[{"destination":"Kalbakken","text":"16:03","departureTime":"2020-03-16T15:03:55Z","delay":"PT1M55S","journeyId":"RUT:ServiceJourney:2031-138571-15640592"},{"destination":"Kalbakken","text":"16:12","departureTime":"2020-03-16T15:12:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:2031-138571-15640593"},{"destination":"Kalbakken","text":"16:22","departureTime":"2020-03-16T15:22:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:2031-138571-15640594"}]},{"line":{"id":"RUT:Line:33","publicCode":"33","transportMode":"bus"},"direction":"2","departures":[{"destination":"Filipstad","text":"16:09","departureTime":"2020-03-16T15:09:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:33-138542-15632358"},{"destination":"Filipstad","text":"16:24","departureTime":"2020-03-16T15:24:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:33-138542-15632359"},{"destination":"Filipstad","text":"16:39","departureTime":"2020-03-16T15:39:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:33-138542-15632360"}]},{"line":{"id":"RUT:Line:380","publicCode":"380","transportMode":"bus"},"quay":{"id":"NSR:Quay:10955"},"direction":"1","departures":[{"destination":"Oslo bussterminal","text":"16:17","departureTime":"2020-03-16T15:17:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:380-136266-16659813"},{"destination":"Oslo bussterminal","text":"16:37","departureTime":"2020-03-16T15:37:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:380-136266-16659814"},{"destination":"Oslo bussterminal","text":"16:57","departureTime":"2020-03-16T15:57:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:380-136266-16659815"}]},{"line":{"id":"RUT:Line:380","publicCode":"380","transportMode":"bus"},"quay":{"id":"NSR:Quay:10950"},"direction":"2","departures":[{"destination":"Lillestrøm","text":"16:17","departureTime":"2020-03-16T15:17:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:380-136266-16659969"},{"destination":"Lillestrøm","text":"16:37","departureTime":"2020-03-16T15:37:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:380-136266-16659970"},{"destination":"Lillestrøm","text":"16:57","departureTime":"2020-03-16T15:57:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:380-136266-16659971"}]},{"line":{"id":"RUT:Line:390","publicCode":"390","transportMode":"bus"},"quay":{"id":"NSR:Quay:10950"},"direction":"2","departures":[{"destination":"Kongskog","text":"16:08","departureTime":"2020-03-16T15:08:19Z","delay":"PT42M19S","journeyId":"RUT:ServiceJourney:390-136266-16660240"},{"destination":"Nittedal sentrum","text":"16:16","departureTime":"2020-03-16T15:16:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:390-136266-16660219"},{"destination":"Nittedal sentrum","text":"16:46","departureTime":"2020-03-16T15:46:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:390-136266-16660220"}]},{"line":{"id":"RUT:Line:390","publicCode":"390","transportMode":"bus"},"quay":{"id":"NSR:Quay:10955"},"direction":"1","departures":[{"destination":"Oslo bussterminal","text":"16:03","departureTime":"2020-03-16T15:03:04Z","delay":"PT1M4S","journeyId":"RUT:ServiceJourney:390-136266-16660178"},{"destination":"Oslo bussterminal","text":"16:17","departureTime":"2020-03-16T15:17:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:390-136266-16660203"},{"destination":"Oslo bussterminal","text":"16:32","departureTime":"2020-03-16T15:32:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:390-136266-16660179"}]}]},{"name":"Kolåsbakken","stopPlaceId":"NSR:StopPlace:5978","quayId":"NSR:Quay:10969","index":29,"connections":[{"line":{"id":"RUT:Line:25","publicCode":"25","transportMode":"bus"},"quay":{"id":"NSR:Quay:10968"},"direction":"1","departures":[{"destination":"Lørenskog stasjon","text":"16:01","departureTime":"2020-03-16T15:01:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:25-138571-16843154"},{"destination":"Lørenskog stasjon","text":"16:08","departureTime":"2020-03-16T15:08:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:25-138571-16843009"},{"destination":"Lørenskog stasjon","text":"16:16","departureTime":"2020-03-16T15:16:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:25-138571-16843010"}]},{"line":{"id":"RUT:Line:25","publicCode":"25","transportMode":"bus"},"direction":"2","departures":[{"destination":"Majorstuen","text":"16:02","departureTime":"2020-03-16T15:02:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:25-138571-16843093"},{"destination":"Majorstuen","text":"16:10","departureTime":"2020-03-16T15:10:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:25-138571-16843094"},{"destination":"Majorstuen","text":"16:17","departureTime":"2020-03-16T15:17:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:25-138571-16843170"}]},{"line":{"id":"RUT:Line:31","publicCode":"31","transportMode":"bus"},"quay":{"id":"NSR:Quay:10968"},"direction":"1","departures":[{"destination":"Grorud T","text":"16:02","departureTime":"2020-03-16T15:02:05Z","delay":"PT1M5S","journeyId":"RUT:ServiceJourney:31-138571-15639652"},{"destination":"Grorud T","text":"16:11","departureTime":"2020-03-16T15:11:01Z","delay":"PT1H10M1S","journeyId":"RUT:ServiceJourney:31-138571-15639647"},{"destination":"Grorud T","text":"16:14","departureTime":"2020-03-16T15:14:24Z","delay":"PT1M24S","journeyId":"RUT:ServiceJourney:31-138571-15639653"}]},{"line":{"id":"RUT:Line:31","publicCode":"31","transportMode":"bus"},"direction":"2","departures":[{"destination":"Snarøya","text":"16:08","departureTime":"2020-03-16T15:08:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:31-138571-15639845"},{"destination":"Snarøya","text":"16:20","departureTime":"2020-03-16T15:20:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:31-138571-15639846"},{"destination":"Snarøya","text":"16:28","departureTime":"2020-03-16T15:28:31Z","delay":"PT56M31S","journeyId":"RUT:ServiceJourney:31-138571-15639842"}]},{"line":{"id":"RUT:Line:33","publicCode":"33","transportMode":"bus"},"direction":"2","departures":[{"destination":"Filipstad","text":"16:09","departureTime":"2020-03-16T15:09:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:33-138542-15632358"},{"destination":"Filipstad","text":"16:24","departureTime":"2020-03-16T15:24:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:33-138542-15632359"},{"destination":"Filipstad","text":"16:39","departureTime":"2020-03-16T15:39:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:33-138542-15632360"}]},{"line":{"id":"RUT:Line:33","publicCode":"33","transportMode":"bus"},"quay":{"id":"NSR:Quay:10968"},"direction":"1","departures":[{"destination":"Ellingsrudåsen T","text":"16:03","departureTime":"2020-03-16T15:03:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:33-138542-15632327"},{"destination":"Ellingsrudåsen T","text":"16:18","departureTime":"2020-03-16T15:18:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:33-138542-15632328"},{"destination":"Ellingsrudåsen T","text":"16:33","departureTime":"2020-03-16T15:33:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:33-138542-15632329"}]}]},{"name":"Tonsenhagen","stopPlaceId":"NSR:StopPlace:6008","quayId":"NSR:Quay:11023","index":30,"connections":[{"line":{"id":"RUT:Line:25","publicCode":"25","transportMode":"bus"},"direction":"2","departures":[{"destination":"Majorstuen","text":"16:19","departureTime":"2020-03-16T15:19:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:25-138571-16843170"},{"destination":"Majorstuen","text":"16:35","departureTime":"2020-03-16T15:35:36Z","delay":"PT1M36S","journeyId":"RUT:ServiceJourney:25-138571-16843096"},{"destination":"Majorstuen","text":"16:42","departureTime":"2020-03-16T15:42:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:25-138571-16843097"}]},{"line":{"id":"RUT:Line:25","publicCode":"25","transportMode":"bus"},"quay":{"id":"NSR:Quay:11024"},"direction":"1","departures":[{"destination":"Lørenskog stasjon","text":"16:15","departureTime":"2020-03-16T15:15:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:25-138571-16843010"},{"destination":"Lørenskog stasjon","text":"16:37","departureTime":"2020-03-16T15:37:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:25-138571-16843012"},{"destination":"Lørenskog stasjon","text":"16:45","departureTime":"2020-03-16T15:45:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:25-138571-16843013"}]},{"line":{"id":"RUT:Line:31","publicCode":"31","transportMode":"bus"},"direction":"2","departures":[{"destination":"Fornebu","text":"16:04","departureTime":"2020-03-16T15:04:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:31-138571-15639929"},{"destination":"Fornebu","text":"17:04","departureTime":"2020-03-16T16:04:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:31-138571-15639934"},{"destination":"Fornebu","text":"16:28","departureTime":"2020-03-16T15:28:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:31-138571-15639931"}]},{"line":{"id":"RUT:Line:31","publicCode":"31","transportMode":"bus"},"quay":{"id":"NSR:Quay:11024"},"direction":"1","departures":[{"destination":"Grorud T","text":"16:48","departureTime":"2020-03-16T15:48:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:31-138571-15639656"},{"destination":"Grorud T","text":"16:12","departureTime":"2020-03-16T15:12:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:31-138571-15639653"},{"destination":"Grorud T","text":"16:58","departureTime":"2020-03-16T15:58:28Z","delay":"PT22M28S","journeyId":"RUT:ServiceJourney:31-138571-15639655"}]},{"line":{"id":"RUT:Line:33","publicCode":"33","transportMode":"bus"},"quay":{"id":"NSR:Quay:11024"},"direction":"1","departures":[{"destination":"Ellingsrudåsen T","text":"16:17","departureTime":"2020-03-16T15:17:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:33-138542-15632328"},{"destination":"Ellingsrudåsen T","text":"17:02","departureTime":"2020-03-16T16:02:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:33-138542-15632331"},{"destination":"Ellingsrudåsen T","text":"16:32","departureTime":"2020-03-16T15:32:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:33-138542-15632329"}]},{"line":{"id":"RUT:Line:33","publicCode":"33","transportMode":"bus"},"direction":"2","departures":[{"destination":"Filipstad","text":"16:10","departureTime":"2020-03-16T15:10:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:33-138542-15632358"},{"destination":"Filipstad","text":"16:40","departureTime":"2020-03-16T15:40:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:33-138542-15632360"},{"destination":"Filipstad","text":"16:25","departureTime":"2020-03-16T15:25:00Z","delay":"PT0S","journeyId":"RUT:ServiceJourney:33-138542-15632359"}]}]}]}}],"bindings":{"mqtt":{"qos":1,"retain":false}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$schema":"http://json-schema.org/draft-07/schema","$id":"http://schema.ruter.no/connections.json","type":"object","title":"The Connections Schema","description":"This schema defines the connection message sent as an MQTT message to buses","required":["eventTimestamp","traceId","expiryTimestamp","nextStop","journeyId","routeId","calls"],"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"Time in ISO 8601 timestamp format when this message was produced","examples":["2020-03-10T20:56:44.864401Z"]},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"expiryTimestamp":{"$id":"#/properties/expiryTimestamp","type":"string","description":"Time in ISO 8601 timestamp format after which this message is invalid","examples":["2020-03-10T21:01:44.864401Z"]},"nextStop":{"$id":"#/properties/nextStop","type":"object","title":"The Next Stop Schema","description":"The ids of the next stop that this message is valid for","default":{},"required":["stopPlaceId","quayId"],"properties":{"stopPlaceId":{"$id":"#/properties/nextStop/properties/stopPlaceId","type":"string","description":"NSR stop place id for the next stop","examples":["NSR:StopPlace:3799"]},"quayId":{"$id":"#/properties/nextStop/properties/quayId","type":"string","description":"NSR quay id for the next stop","examples":["NSR:Quay:6801"]}}},"journeyId":{"$id":"#/properties/journeyId","type":"string","description":"An explanation about the purpose of this instance.","examples":["RUT:ServiceJourney:160-137140-16254500"]},"routeId":{"$id":"#/properties/routeId","type":"string","description":"The route id, which corresponds to the route id in the journey message","examples":["RUT:Route:160-3504"]},"calls":{"$id":"#/properties/calls","type":"array","description":"An array of the remaining calls on a journey, including the current next stop","items":{"$id":"#/properties/calls/items","type":"object","title":"The Call Schema","description":"A future call on a journey that collects connections","required":["name","stopPlaceId","quayId","index","connections"],"properties":{"name":{"$id":"#/properties/calls/items/properties/name","type":"string","description":"Name of stop place (optional)","default":null,"examples":["Kveldsroveien"]},"stopPlaceId":{"$id":"#/properties/calls/items/properties/stopPlaceId","type":"string","description":"NSR stop place id","examples":["NSR:StopPlace:3799"]},"quayId":{"$id":"#/properties/calls/items/properties/quayId","type":"string","description":"NSR quay id","examples":["NSR:Quay:6801"]},"index":{"$id":"#/properties/calls/items/properties/index","type":"integer","description":"Index to stop's position in the journey"},"connections":{"$id":"#/properties/calls/items/properties/connections","type":"array","description":"A list of connections by line/direction","items":{"$id":"#/properties/calls/items/properties/connections/items","type":"object","title":"The Connection Schema","description":"A connection for a given line/direction","required":["line","direction","departures"],"properties":{"line":{"$id":"#/properties/calls/items/properties/connections/items/properties/line","type":"object","title":"The Line Schema","description":"Line information","required":["id","publicCode","transportMode"],"properties":{"id":{"$id":"#/properties/calls/items/properties/connections/items/properties/line/properties/id","type":"string","description":"Ruter's id for the line","examples":["RUT:Line:31"]},"publicCode":{"$id":"#/properties/calls/items/properties/connections/items/properties/line/properties/publicCode","type":"string","description":"The publically visible identifier for this line","examples":["31"]},"transportMode":{"$id":"#/properties/calls/items/properties/connections/items/properties/line/properties/transportMode","type":"string","description":"Transport mode","examples":["bus"]}}},"direction":{"$id":"#/properties/calls/items/properties/connections/items/properties/direction","type":"string","description":"An indicator of direction for a line","examples":["1","2"]},"quay":{"$id":"#/properties/calls/items/properties/connections/items/properties/quay","type":"object","title":"The Quay Schema","description":"Information about where the connection departs from","required":["id"],"properties":{"id":{"$id":"#/properties/calls/items/properties/connections/items/properties/quay/properties/id","type":"string","description":"NSR id for the quay","examples":["NSR:Quay:3131"]},"publicCode":{"$id":"#/properties/calls/items/properties/connections/items/properties/quay/properties/publicCode","type":"string","description":"The publically visible identifier for this quay","examples":["A"]},"description":{"$id":"#/properties/calls/items/properties/connections/items/properties/quay/properties/description","type":"string","description":"Description of where quay is located","examples":["I Kirkeveien"]}}},"departures":{"$id":"#/properties/calls/items/properties/connections/items/properties/departures","type":"array","description":"A list of departures for the line/direction (empty if there are none)","items":{"$id":"#/properties/calls/items/properties/connections/items/properties/departures/items","type":"object","title":"The Departure Schema","description":"Information about a departure","required":["destination","text"],"properties":{"destination":{"$id":"#/properties/calls/items/properties/connections/items/properties/departures/items/properties/destination","type":"string","description":"Visible destination of bus","examples":["Bygdøy"]},"via":{"$id":"#/properties/calls/items/properties/connections/items/properties/departures/items/properties/destination","type":"string","description":"Visible via information of bus (optional)","examples":["Bydøysnes"]},"text":{"$id":"#/properties/calls/items/properties/connections/items/properties/departures/items/properties/display","type":"string","description":"Display text for departure time","examples":["5 min","14:55"]},"departureTime":{"$id":"#/properties/calls/items/properties/connections/items/properties/departures/items/properties/departureTime","type":"string","description":"Expected departure time for UTC in ISO 8601 date/time format","examples":["2020-03-10T21:02:00Z"]},"delay":{"$id":"#/properties/calls/items/properties/connections/items/properties/departures/items/properties/delay","type":"string","description":"Recorded delay for the departure in ISO 8601 duration format","examples":["PT0S"]},"journeyId":{"$id":"#/properties/calls/items/properties/connections/items/properties/departures/items/properties/journeyId","type":"string","description":"Journey id of the bus making the call","examples":["RUT:ServiceJourney:31-138571-15639955"]}}}}}}}}}}}},"x-parser-message-parsed":true}}},"pe/dpi/key_stops":{"description":"### Key Stops message:\n| Field         | Value                                                   |\n|---------------|---------------------------------------------------------|\n| Central Topic | {operatorId}/ruter/{vehicleId}/pe/dpi/key_stops         |\n| Schema        | [ dpi-key_stops.json ](json-schemas/dpi-key_stops.json) |\n\nList of X number of most trafficked stops in the rest of the journey. Based on predicted number of passengers leaving\non each stop","subscribe":{"message":{"name":"Key Stops message","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":{"$schema":"http://json-schema.org/draft-07/schema","$id":"http://schema.ruter.no/connections.json","type":"object","title":"Key Stops Schema","description":"This schema defines the Key Stops message sent as an MQTT message to vehicles","required":["eventTimestamp","traceId","id","lineId","linePublicCode","stopPlaces"],"additionalProperties":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"EventTimestamp must be ISO 8601 UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"id":{"$id":"#/properties/id","type":"string","examples":["RUT:ServiceJourney:18-164036-22694106"]},"lineId":{"$id":"#/properties/lineId","type":"string","examples":["RUT:Line:18"]},"linePublicCode":{"$id":"#/properties/linePublicCode","type":"string","examples":["18"]},"stopPlaces":{"$id":"#/properties/stopPlaces","type":"array","items":{"$id":"#/properties/stopPlaces/items","title":"Items","type":"object","required":["stopPlaceId","stopPlaceIndex","boarding","alighting"],"properties":{"stopPlaceId":{"$id":"#/properties/stopPlaces/items/stopPlaceId","type":"string","examples":["NSR:StopPlace:3986"]},"stopPlaceIndex":{"$id":"#/properties/stopPlaces/items/stopPlaceIndex","type":"integer","examples":[11]},"boarding":{"$id":"#/properties/stopPlaces/items/boarding","type":"object","required":["predictedValue","qualityIndicator"],"properties":{"predictedValue":{"$id":"#/properties/stopPlaces/items/boarding/predictedValue","type":"integer","examples":[23]},"qualityIndicator":{"$id":"#/properties/stopPlaces/items/boarding/qualityIndicator","type":"string","default":"","examples":["GOOD","MEDIOCRE","UNKNOWN"]}}},"alighting":{"$id":"#/properties/stopPlaces/items/alighting","type":"object","required":["predictedValue","qualityIndicator"],"properties":{"predictedValue":{"$id":"#/properties/stopPlaces/items/alighting/predictedValue","type":"integer","examples":[23]},"qualityIndicator":{"$id":"#/properties/stopPlaces/items/alighting/qualityIndicator","type":"string","examples":["GOOD","MEDIOCRE","UNKNOWN"]}}}}}}}},"examples":[{"name":"Key Stops","payload":{"eventTimestamp":"2022-05-10T10:35:16.708Z","traceId":"3841a268-0c03-4588-b476-211be0f26a0d","id":"RUT:ServiceJourney:18-164036-22694106","lineId":"RUT:Line:18","linePublicCode":"18","stopPlaces":[{"stopPlaceId":"NSR:StopPlace:3986","stopPlaceIndex":11,"boarding":{"predictedValue":23,"qualityIndicator":"GOOD"},"alighting":{"predictedValue":23,"qualityIndicator":"GOOD"}},{"stopPlaceId":"NSR:StopPlace:6258","stopPlaceIndex":16,"boarding":{"predictedValue":24,"qualityIndicator":"GOOD"},"alighting":{"predictedValue":24,"qualityIndicator":"GOOD"}},{"stopPlaceId":"NSR:StopPlace:6269","stopPlaceIndex":20,"boarding":{"predictedValue":25,"qualityIndicator":"GOOD"},"alighting":{"predictedValue":25,"qualityIndicator":"GOOD"}},{"stopPlaceId":"NSR:StopPlace:6266","stopPlaceIndex":26,"boarding":{"predictedValue":27,"qualityIndicator":"GOOD"},"alighting":{"predictedValue":27,"qualityIndicator":"GOOD"}}]}}],"bindings":{"mqtt":{"qos":1,"retain":true}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$schema":"http://json-schema.org/draft-07/schema","$id":"http://schema.ruter.no/connections.json","type":"object","title":"Key Stops Schema","description":"This schema defines the Key Stops message sent as an MQTT message to vehicles","required":["eventTimestamp","traceId","id","lineId","linePublicCode","stopPlaces"],"additionalProperties":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"EventTimestamp must be ISO 8601 UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"id":{"$id":"#/properties/id","type":"string","examples":["RUT:ServiceJourney:18-164036-22694106"]},"lineId":{"$id":"#/properties/lineId","type":"string","examples":["RUT:Line:18"]},"linePublicCode":{"$id":"#/properties/linePublicCode","type":"string","examples":["18"]},"stopPlaces":{"$id":"#/properties/stopPlaces","type":"array","items":{"$id":"#/properties/stopPlaces/items","title":"Items","type":"object","required":["stopPlaceId","stopPlaceIndex","boarding","alighting"],"properties":{"stopPlaceId":{"$id":"#/properties/stopPlaces/items/stopPlaceId","type":"string","examples":["NSR:StopPlace:3986"]},"stopPlaceIndex":{"$id":"#/properties/stopPlaces/items/stopPlaceIndex","type":"integer","examples":[11]},"boarding":{"$id":"#/properties/stopPlaces/items/boarding","type":"object","required":["predictedValue","qualityIndicator"],"properties":{"predictedValue":{"$id":"#/properties/stopPlaces/items/boarding/predictedValue","type":"integer","examples":[23]},"qualityIndicator":{"$id":"#/properties/stopPlaces/items/boarding/qualityIndicator","type":"string","default":"","examples":["GOOD","MEDIOCRE","UNKNOWN"]}}},"alighting":{"$id":"#/properties/stopPlaces/items/alighting","type":"object","required":["predictedValue","qualityIndicator"],"properties":{"predictedValue":{"$id":"#/properties/stopPlaces/items/alighting/predictedValue","type":"integer","examples":[23]},"qualityIndicator":{"$id":"#/properties/stopPlaces/items/alighting/qualityIndicator","type":"string","examples":["GOOD","MEDIOCRE","UNKNOWN"]}}}}}}}},"x-parser-message-parsed":true}}},"pe/dpi_command":{"description":"### DPI Command message:\n| Field         | Value                                               |\n|---------------|-----------------------------------------------------|\n| Central Topic | {operatorId}/ruter/{vehicleId}/pe/dpi_command       |\n| Schema        | [ dpi-command.json ](json-schemas/dpi-command.json) |\n  \nThis channels is reserved for command and control messages originated by Ruter. Typical use cases include:\n  \n- Diagnostics / debugging\n  - Trigger transfer of debug information\n  - Trigger screenshot of DPI screen\n  - Trigger clearing of cache and refresh of webpage\n- Content\n  - Trigger display of campaign\n  \nThe payload is defined as an object with no structure to provide flexibility.","subscribe":{"message":{"name":"DPI Command Message","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":{"definitions":{},"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://schema.ruter.no/c2.json","type":"object","title":"DPI Command Message","description":"Message sent to bus to control DPI functions","required":["eventTimestamp","traceId","type","payload"],"additionalProperties":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"Event timestamp must be ISO 8601 UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"type":{"$id":"#/properties/type","type":"string","description":"The Type Schema"},"payload":{"$id":"#/properties/payload","type":"object","description":"Command and arguments","required":["command","args"],"additionalProperties":false,"properties":{"command":{"$id":"#/properties/payload/properties/command","type":"string","description":"Command name"},"args":{"$id":"#/properties/payload/properties/args","type":"object","description":"Arguments to be passed to command"}}}}},"examples":[{"name":"DPI Command","payload":{"eventTimestamp":"2018-10-31T12:45:50Z","traceId":"3841a268-0c03-4588-b476-211be0f26a0d","type":"DEBUG","payload":{"command":"LOG_TRANSFER","arg":{"level":"ERROR","limit":10,"page":0}}}}],"bindings":{"mqtt":{"qos":1,"retain":false}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"definitions":{},"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://schema.ruter.no/c2.json","type":"object","title":"DPI Command Message","description":"Message sent to bus to control DPI functions","required":["eventTimestamp","traceId","type","payload"],"additionalProperties":false,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"Event timestamp must be ISO 8601 UTC","format":"date-time"},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"type":{"$id":"#/properties/type","type":"string","description":"The Type Schema"},"payload":{"$id":"#/properties/payload","type":"object","description":"Command and arguments","required":["command","args"],"additionalProperties":false,"properties":{"command":{"$id":"#/properties/payload/properties/command","type":"string","description":"Command name"},"args":{"$id":"#/properties/payload/properties/args","type":"object","description":"Arguments to be passed to command"}}}}},"x-parser-message-parsed":true}}},"pe/input/stop_button":{"description":"### Remote Stop Button Message\n| Field         | Value                                               |\n|---------------|-----------------------------------------------------|\n| Central Topic | {operatorId}/ruter/{vehicleId}/pe/input/stop_button |\n| Schema        | [ stop-button.json ](json-schemas/stop-button.json) |\n\nThis message indicates that the bus should stop on the next stop. On receiving this message, the operator should interpret \nit as if it was a regular press of a button on board the vehicle.\n\nThe stop-signalled light inside the vehicle should light up and a message should be produced on \n`ruter/{operatorId}/{vehicleId}/sensors/stop_button` as normal.\n\nFrequency: on change","subscribe":{"message":{"name":"Stop Button Message","schemaFormat":"application/vnd.aai.asyncapi;version=2.3.0","payload":"$ref:$.channels.sensors/stop_button.publish.message.payload","examples":["$ref:$.channels.sensors/stop_button.publish.message.examples[0]"],"bindings":{"mqtt":{"qos":1,"retain":false}},"x-parser-original-schema-format":"application/schema+json;version=draft-07","x-parser-original-payload":{"$id":"https://schemas.ruter.no/adt/ota/api/v3.0/sensors/stop-button/stop-button.json","$schema":"http://json-schema.org/draft-07/schema#","title":"StopButton","type":"object","required":["eventTimestamp","traceId","stopPressed","accessibility"],"description":"Describes if passengers have requested that the bus should stop (stop button pressed).","additionalProperties":true,"properties":{"eventTimestamp":{"$id":"#/properties/eventTimestamp","type":"string","description":"ISO 8601. Reflects the UTC time when the state changed."},"traceId":{"$id":"#/properties/traceId","type":"string","description":"A unique identifier - UUID"},"stopPressed":{"$id":"#/properties/stopPressed","type":"boolean","description":"True if stop request button pressed. False if stop request signal is cleared.","examples":["true","false"]},"accessibility":{"$id":"#/properties/accessibility","type":"boolean","description":"True if stop request should lead to longer wait on stop. Used to indicate if the request is by someone with accessibility challenges.","examples":["true","false"]},"messageNumber":{"$id":"#/properties/messageNumber","$comment":"Added in version 2.1","type":"number","description":"Optional. Sequence number, increased by one for each new message. Used to validate consistency in the data stream."}},"examples":[{"eventTimestamp":"2021-11-30T23:45:52.006Z","traceId":"c26f450f-2418-4792-a567-05f6771cba7a","stopPressed":true,"accessibility":false,"messageNumber":1}]},"x-parser-message-parsed":true}}}},"components":{"parameters":{"operatorId":{"description":"The ID of the operator","schema":{"type":"string","x-parser-schema-id":"operatorId"}},"vehicleId":{"description":"The vehicle ID.","schema":{"type":"string","x-parser-schema-id":"vehicleId"}},"sensorId":"$ref:$.channels.sensors/apc/{sensorId}.parameters.sensorId","deviceRef":"$ref:$.channels.pe/cardreader_diagnostics/vix/{deviceRef}.parameters.deviceRef"},"securitySchemes":{"user-password":{"type":"userPassword","description":"Please reach out to rdp-support@ruter.no to request access."}}},"x-parser-spec-parsed":true,"x-parser-spec-stringified":true};
      var config = {"show":{"sidebar":true},"sidebar":{"showOperations":"byDefault"}};
      AsyncApiStandalone.hydrate({ schema, config }, document.getElementById("root"));
    </script>
  </body>
</html>